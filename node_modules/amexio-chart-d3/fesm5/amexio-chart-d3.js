import { __values, __read, __extends } from 'tslib';
import { Input, Output, EventEmitter, Injectable, Component, ViewChild, NgModule, ContentChildren, defineInjectable, inject, Inject, PLATFORM_ID, ChangeDetectorRef } from '@angular/core';
import { HttpClient, HttpHeaders } from '@angular/common/http';
import * as d3 from 'd3';
import { scaleBand, scaleLinear, max, select, axisBottom, axisLeft, event as event$1, line, stack, stackOffsetDiverging, scalePoint, scaleOrdinal, schemeCategory10, area, scaleSqrt, min, arc, pie } from 'd3';
import { isPlatformBrowser, CommonModule } from '@angular/common';
import { FormsModule } from '@angular/forms';

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingReturn,uselessCode} checked by tsc
 */
var AmexioD3BaseChartComponent = /** @class */ (function () {
    function AmexioD3BaseChartComponent(charttype) {
        this.onLegendClick = new EventEmitter();
        this.onChartClick = new EventEmitter();
        this.onLineClick = new EventEmitter();
        this.drillableEvent = new EventEmitter();
        this.legend = true;
        this.height = "300";
        this.width = "300";
        this.title = "";
        this.possible = "ABCDEFGHIJKLMNOPQRSTUVWXYZabcddefghijklmonpqrstuvwxyz";
        this.colorIndex = 0;
        this.colors = [];
        this.charttype = charttype;
        this.predefinedcolors = ["#3366cc", "#dc3912", "#ff9900", "#109618", "#990099", "#0099c6", "#dd4477", "#66aa00", "#b82e2e", "#316395", "#994499", "#22aa99", "#aaaa11", "#6633cc", "#e67300", "#8b0707", "#651067", "#329262", "#5574a6", "#3b3eac"];
        this.componentId = this.charttype + "-" + this.generateId();
    }
    /**
     * @return {?}
     */
    AmexioD3BaseChartComponent.prototype.initializeData = /**
     * @return {?}
     */
    function () {
        var _this = this;
        this.data.forEach(function (element) {
            element.color = _this.getColor(element);
        });
    };
    /**
     * @param {?} data
     * @param {?} drillablekeys
     * @return {?}
     */
    AmexioD3BaseChartComponent.prototype.getMultipleDrillbleKeyData = /**
     * @param {?} data
     * @param {?} drillablekeys
     * @return {?}
     */
    function (data, drillablekeys) {
        /** @type {?} */
        var nodeObject = {};
        if (data) {
            for (var index = 0; index < drillablekeys.length; index++) {
                /** @type {?} */
                var element = drillablekeys[index];
                try {
                    for (var _a = __values(Object.entries(data)), _b = _a.next(); !_b.done; _b = _a.next()) {
                        var _c = __read(_b.value, 2), key = _c[0], value = _c[1];
                        if (key == element) {
                            nodeObject[key] = value;
                        }
                    }
                }
                catch (e_1_1) { e_1 = { error: e_1_1 }; }
                finally {
                    try {
                        if (_b && !_b.done && (_d = _a.return)) _d.call(_a);
                    }
                    finally { if (e_1) throw e_1.error; }
                }
            }
            return nodeObject;
        }
        var e_1, _d;
    };
    /**
     * @return {?}
     */
    AmexioD3BaseChartComponent.prototype.generateId = /**
     * @return {?}
     */
    function () {
        /** @type {?} */
        var id = "";
        for (var i = 0; i < 5; i++) {
            id = id + this.possible
                .charAt(Math.floor(Math.random() * this.possible.length));
        }
        id = id + "-" + new Date().getTime();
        return id;
    };
    /**
     * @param {?} object
     * @return {?}
     */
    AmexioD3BaseChartComponent.prototype.getColor = /**
     * @param {?} object
     * @return {?}
     */
    function (object) {
        if (object.color) {
            return object.color;
        }
        else if (this.colors.length > this.colorIndex) {
            /** @type {?} */
            var color = this.colors[this.colorIndex];
            this.colorIndex++;
            return color;
        }
        else if ((this.colors.length > 0) && (this.colors.length <= this.colorIndex)) {
            this.colorIndex = 0;
            /** @type {?} */
            var color = this.colors[this.colorIndex];
            return color;
        }
        else {
            /** @type {?} */
            var color = this.predefinedcolors[this.colorIndex];
            this.colorIndex++;
            return color;
        }
    };
    /**
     * @param {?} node
     * @return {?}
     */
    AmexioD3BaseChartComponent.prototype.legendClick = /**
     * @param {?} node
     * @return {?}
     */
    function (node) {
        this.onLegendClick.emit(node);
    };
    /**
     * @param {?} node
     * @return {?}
     */
    AmexioD3BaseChartComponent.prototype.chartClick = /**
     * @param {?} node
     * @return {?}
     */
    function (node) {
        this.onChartClick.emit(node);
    };
    /**
     * @param {?} node
     * @return {?}
     */
    AmexioD3BaseChartComponent.prototype.comboLineClick = /**
     * @param {?} node
     * @return {?}
     */
    function (node) {
        this.onLineClick.emit(node);
    };
    /**
     * @param {?} ref
     * @param {?} node
     * @param {?} event
     * @return {?}
     */
    AmexioD3BaseChartComponent.prototype.fordrillableClick = /**
     * @param {?} ref
     * @param {?} node
     * @param {?} event
     * @return {?}
     */
    function (ref, node, event) {
        this.drillableEvent.emit({ ref: ref, node: node, event: event });
    };
    /**
     * @param {?} d3
     * @return {?}
     */
    AmexioD3BaseChartComponent.prototype.toolTip = /**
     * @param {?} d3
     * @return {?}
     */
    function (d3$$1) {
        return d3$$1.select("body")
            .append("div")
            .attr('id', 'tooltipid')
            .attr('class', 'amexiod3tooltip')
            .style("position", "absolute")
            .style("z-index", "10")
            .style("visibility", "hidden");
    };
    /**
     * @param {?} tooltipdata
     * @return {?}
     */
    AmexioD3BaseChartComponent.prototype.toolTipContent = /**
     * @param {?} tooltipdata
     * @return {?}
     */
    function (tooltipdata) {
        /** @type {?} */
        var tooltiphtml = "<table>";
        for (var key in tooltipdata) {
            if (tooltipdata.hasOwnProperty(key)) {
                /** @type {?} */
                var value = tooltipdata[key];
                tooltiphtml = tooltiphtml + "<tr>";
                //------------------
                //   tooltiphtml = tooltiphtml + "<td>";
                //   tooltiphtml = tooltiphtml + key+':';
                //   tooltiphtml = tooltiphtml + "</td>";
                //------------------
                tooltiphtml = tooltiphtml + "<td>";
                tooltiphtml = tooltiphtml + value;
                tooltiphtml = tooltiphtml + "</td>";
                tooltiphtml = tooltiphtml + "</tr>";
            }
        }
        tooltiphtml = tooltiphtml + "</table>";
        return tooltiphtml;
    };
    /**
     * @param {?} legend
     * @param {?} xaxis
     * @param {?} yaxis
     * @return {?}
     */
    AmexioD3BaseChartComponent.prototype.toolTipWithLegendandAxis = /**
     * @param {?} legend
     * @param {?} xaxis
     * @param {?} yaxis
     * @return {?}
     */
    function (legend, xaxis, yaxis) {
        /** @type {?} */
        var tooltiphtml = "<div>";
        tooltiphtml = tooltiphtml + "<b>" + xaxis + "</b>, ";
        tooltiphtml = tooltiphtml + legend + "</b> ";
        tooltiphtml = tooltiphtml + "<b>" + yaxis + "</b> ";
        tooltiphtml = tooltiphtml + "</div>";
        return tooltiphtml;
    };
    /**
     * @param {?} tooltipData
     * @return {?}
     */
    AmexioD3BaseChartComponent.prototype.toolTipForBar = /**
     * @param {?} tooltipData
     * @return {?}
     */
    function (tooltipData) {
        /** @type {?} */
        var tooltiphtml = "<div>";
        try {
            for (var _a = __values(Object.entries(tooltipData)), _b = _a.next(); !_b.done; _b = _a.next()) {
                var _c = __read(_b.value, 2), key = _c[0], value = _c[1];
                /** @type {?} */
                var sideStyle = "float:left";
                tooltiphtml = tooltiphtml + "<div>";
                tooltiphtml = tooltiphtml + "<span style =" + sideStyle + " ><b>" + key + " " + "</b>" + value + "</br></span>";
                tooltiphtml = tooltiphtml + "</div>";
            }
        }
        catch (e_2_1) { e_2 = { error: e_2_1 }; }
        finally {
            try {
                if (_b && !_b.done && (_d = _a.return)) _d.call(_a);
            }
            finally { if (e_2) throw e_2.error; }
        }
        return tooltiphtml;
        var e_2, _d;
    };
    AmexioD3BaseChartComponent.propDecorators = {
        onLegendClick: [{ type: Output }],
        onChartClick: [{ type: Output }],
        onLineClick: [{ type: Output }],
        drillableEvent: [{ type: Output }],
        data: [{ type: Input, args: ['data',] }],
        httpurl: [{ type: Input, args: ['http-url',] }],
        httpmethod: [{ type: Input, args: ['http-method',] }],
        legend: [{ type: Input, args: ['legend',] }],
        colors: [{ type: Input, args: ['color',] }],
        height: [{ type: Input, args: ['height',] }],
        width: [{ type: Input, args: ['width',] }],
        title: [{ type: Input, args: ['title',] }]
    };
    return AmexioD3BaseChartComponent;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingReturn,uselessCode} checked by tsc
 */
var CommanDataService = /** @class */ (function () {
    function CommanDataService(http) {
        this.http = http;
    }
    /**
     * @param {?} serviceUrl
     * @param {?} methodType
     * @return {?}
     */
    CommanDataService.prototype.fetchUrlData = /**
     * @param {?} serviceUrl
     * @param {?} methodType
     * @return {?}
     */
    function (serviceUrl, methodType) {
        /** @type {?} */
        var requestJson = {};
        /** @type {?} */
        var headers = new HttpHeaders().append('Content-Type', 'application/json;charset=UTF-8');
        if (methodType === 'post') {
            return this.http.post(serviceUrl, requestJson, { headers: headers });
        }
        else if (methodType === 'get') {
            return this.http.get(serviceUrl, { headers: headers });
        }
    };
    /**
     * @param {?} serviceUrl
     * @param {?} methodType
     * @param {?} requestJson
     * @return {?}
     */
    CommanDataService.prototype.postfetchData = /**
     * @param {?} serviceUrl
     * @param {?} methodType
     * @param {?} requestJson
     * @return {?}
     */
    function (serviceUrl, methodType, requestJson) {
        /** @type {?} */
        var headers = new HttpHeaders().append('Content-Type', 'application/json;charset=UTF-8');
        if (methodType === 'post') {
            return this.http.post(serviceUrl, requestJson, { headers: headers });
        }
        else if (methodType === 'get') {
            return this.http.get(serviceUrl, { headers: headers });
        }
    };
    CommanDataService.decorators = [
        { type: Injectable, args: [{
                    providedIn: 'root'
                },] },
    ];
    CommanDataService.ctorParameters = function () { return [
        { type: HttpClient }
    ]; };
    /** @nocollapse */ CommanDataService.ngInjectableDef = defineInjectable({ factory: function CommanDataService_Factory() { return new CommanDataService(inject(HttpClient)); }, token: CommanDataService, providedIn: "root" });
    return CommanDataService;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingReturn,uselessCode} checked by tsc
 */
var AmexioD3DounutChartComponent = /** @class */ (function (_super) {
    __extends(AmexioD3DounutChartComponent, _super);
    function AmexioD3DounutChartComponent(myservice, cdf) {
        var _this = _super.call(this, 'DONUTCHART') || this;
        _this.myservice = myservice;
        _this.cdf = cdf;
        _this.pie = false;
        _this.svgwidth = 300;
        _this.svgheight = 300;
        _this.labelcolor = "black";
        _this.labelflag = false;
        _this.level = 0;
        _this.drillableFlag = true;
        _this.keyArray = [];
        _this.transformeddata = [];
        _this.legendArray = [];
        return _this;
    }
    /**
     * @return {?}
     */
    AmexioD3DounutChartComponent.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
        var _this = this;
        if (this.level <= 1) {
            /** @type {?} */
            var resp_1;
            if (this.httpmethod && this.httpurl) {
                this.myservice.fetchUrlData(this.httpurl, this.httpmethod).subscribe(function (response) {
                    resp_1 = response;
                }, function (error) {
                }, function () {
                    setTimeout(function () {
                        _this.data = _this.getResponseData(resp_1);
                        _this.drawChart();
                        _this.data = _this.getResponseData(resp_1);
                        //this.transformData(this.data);
                        _this.initializeData();
                        _this.plotD3Chart();
                    }, 0);
                });
            }
            else if (this.data) {
                setTimeout(function () {
                    _this.data = _this.getResponseData(_this.data);
                    _this.transformData(_this.data);
                    _this.initializeData();
                    _this.plotD3Chart();
                }, 0);
            }
        }
        else {
            this.fetchData(this.drillData);
        }
    };
    /**
     * @param {?} data
     * @return {?}
     */
    AmexioD3DounutChartComponent.prototype.fetchData = /**
     * @param {?} data
     * @return {?}
     */
    function (data) {
        var _this = this;
        /** @type {?} */
        var requestJson;
        /** @type {?} */
        var key = this.drillabledatakey;
        /** @type {?} */
        var resp;
        if (this.drillabledatakey.length) {
            /** @type {?} */
            var drillabledata = this.getMultipleDrillbleKeyData(data, key);
            requestJson = drillabledata;
        }
        else {
            requestJson = data;
        }
        if (this.httpmethod && this.httpurl) {
            this.myservice.postfetchData(this.httpurl, this.httpmethod, requestJson).subscribe(function (response) {
                resp = response;
                _this.response = resp;
            }, function (error) {
            }, function () {
                setTimeout(function () {
                    _this.data = _this.getResponseData(resp);
                    _this.drawChart();
                }, 0);
            });
        }
    };
    /**
     * @return {?}
     */
    AmexioD3DounutChartComponent.prototype.drawChart = /**
     * @return {?}
     */
    function () {
        var _this = this;
        setTimeout(function () {
            _this.drillableFlag = true;
            _this.initializeData();
            _this.plotD3Chart();
        }, 0);
    };
    /**
     * @param {?} httpResponse
     * @return {?}
     */
    AmexioD3DounutChartComponent.prototype.getResponseData = /**
     * @param {?} httpResponse
     * @return {?}
     */
    function (httpResponse) {
        /** @type {?} */
        var responsedata = httpResponse;
        if (this.datareader != null) {
            /** @type {?} */
            var dr = this.datareader.split('.');
            try {
                for (var dr_1 = __values(dr), dr_1_1 = dr_1.next(); !dr_1_1.done; dr_1_1 = dr_1.next()) {
                    var ir = dr_1_1.value;
                    responsedata = responsedata[ir];
                }
            }
            catch (e_1_1) { e_1 = { error: e_1_1 }; }
            finally {
                try {
                    if (dr_1_1 && !dr_1_1.done && (_a = dr_1.return)) _a.call(dr_1);
                }
                finally { if (e_1) throw e_1.error; }
            }
        }
        else {
            responsedata = httpResponse;
        }
        return responsedata;
        var e_1, _a;
    };
    /**
     * @return {?}
     */
    AmexioD3DounutChartComponent.prototype.plotD3Chart = /**
     * @return {?}
     */
    function () {
        var _this = this;
        this.formLegendData();
        //this.transformData(this.data);
        //  this.data = this.transformeddata;
        /** @type {?} */
        var outerRadius = 0;
        /** @type {?} */
        var innerRadius = 0;
        outerRadius = this.svgwidth / 2;
        innerRadius = this.svgwidth / 4;
        if (this.pie) {
            innerRadius = 0;
        }
        /** @type {?} */
        var tooltip = this.toolTip(d3);
        /** @type {?} */
        var arc$$1 = arc()
            .outerRadius(outerRadius)
            .innerRadius(innerRadius);
        /** @type {?} */
        var pie$$1 = pie()
            .value(function (d) {
            return d[Object.keys(d)[1]];
            //  return d.value
        });
        this.svg = select("#" + this.componentId)
            .append('g')
            .attr('transform', 'translate(' + this.svgwidth / 2 + ',' + this.svgheight / 2 + ')')
            .selectAll('path')
            .data(pie$$1(this.data))
            .enter();
        /** @type {?} */
        var path = this.svg.append('path')
            .attr('d', arc$$1)
            .attr('fill', function (d, i) {
            if (d.data.color) {
                return d.data.color;
            }
            else {
                return "black";
            }
            //  return (d && d.data && d.data.color) ? d.data.color : "black"
        })
            .attr('cursor', 'pointer')
            .on("mouseover", function (d) {
            return tooltip.style("visibility", "visible");
        })
            .on("mousemove", function (d) {
            return tooltip.html(_this.formTooltipData(d.data)
            //  this.formLegendData(d.data)
            // this.toolTipContent(d.data)
            )
                .style("top", (event$1.pageY - 10) + "px")
                .style("left", (event$1.pageX + 10) + "px");
        })
            .on("mouseout", function (d) {
            return tooltip.style("visibility", "hidden");
        })
            .on("click", function (d) {
            _this.DonutChartClick(d.data);
            _this.fordrillableClick(_this, d.data, event);
            return tooltip.style("visibility", "hidden");
            //this.chartClick(d.data);
        });
        if (this.labelflag) {
            /** @type {?} */
            var text = this.svg.append("text")
                .transition()
                .duration(200)
                .attr("transform", function (d) {
                return "translate(" + arc$$1.centroid(d) + ")";
            })
                .attr("text-anchor", "middle")
                .text(function (d) {
                return d.data[Object.keys(d.data)[1]];
                //return d.data.value;
            })
                .style('fill', function (d) {
                if (this.labelcolor.length > 0) {
                    return this.labelcolor;
                }
                else {
                    return "black";
                }
                // return (d && d.data && d.data.textcolor) ? d.data.textcolor : "black";
            })
                .style('font-size', '12px');
        }
    };
    /**
     * @return {?}
     */
    AmexioD3DounutChartComponent.prototype.formLegendData = /**
     * @return {?}
     */
    function () {
        var _this = this;
        this.legendArray = [];
        this.data.forEach(function (element) {
            /** @type {?} */
            var legendobject = {};
            legendobject['label'] = element[Object.keys(element)[0]];
            legendobject['value'] = element[Object.keys(element)[1]];
            legendobject['color'] = element.color;
            _this.legendArray.push(legendobject);
        });
    };
    /**
     * @param {?} legendevent
     * @return {?}
     */
    AmexioD3DounutChartComponent.prototype.onDonutLegendClick = /**
     * @param {?} legendevent
     * @return {?}
     */
    function (legendevent) {
        /** @type {?} */
        var obj = {};
        //  obj['label'] = legendevent.label;
        //  obj['value'] = legendevent.value 
        obj[this.keyArray[0]] = legendevent.label;
        obj[this.keyArray[1]] = legendevent.value;
        //delete event.color;
        this.legendClick(obj);
    };
    /**
     * @param {?} data
     * @return {?}
     */
    AmexioD3DounutChartComponent.prototype.transformData = /**
     * @param {?} data
     * @return {?}
     */
    function (data) {
        var _this = this;
        this.keyArray = data[0];
        data.forEach(function (element, index) {
            if (index > 0) {
                /** @type {?} */
                var DummyObject_1 = {};
                element.forEach(function (individualvalue, keyindex) {
                    DummyObject_1[_this.keyArray[keyindex]] = individualvalue;
                }); //inner for loop ends
                _this.transformeddata.push(DummyObject_1);
            } //if ends
        }); //outer for loop ends
        this.data = this.transformeddata;
    };
    /**
     * @param {?} tooltipData
     * @return {?}
     */
    AmexioD3DounutChartComponent.prototype.formTooltipData = /**
     * @param {?} tooltipData
     * @return {?}
     */
    function (tooltipData) {
        /** @type {?} */
        var object = {};
        try {
            for (var _a = __values(Object.entries(tooltipData)), _b = _a.next(); !_b.done; _b = _a.next()) {
                var _c = __read(_b.value, 2), key = _c[0], value = _c[1];
                if (key != 'color' && key != 'textcolor') {
                    object[key] = value;
                }
            }
        }
        catch (e_2_1) { e_2 = { error: e_2_1 }; }
        finally {
            try {
                if (_b && !_b.done && (_d = _a.return)) _d.call(_a);
            }
            finally { if (e_2) throw e_2.error; }
        }
        return this.toolTipForBar(object);
        var e_2, _d;
    };
    /**
     * @param {?} event
     * @return {?}
     */
    AmexioD3DounutChartComponent.prototype.DonutChartClick = /**
     * @param {?} event
     * @return {?}
     */
    function (event) {
        /** @type {?} */
        var object = {};
        try {
            for (var _a = __values(Object.entries(event)), _b = _a.next(); !_b.done; _b = _a.next()) {
                var _c = __read(_b.value, 2), key = _c[0], value = _c[1];
                if (key != 'color') {
                    object[key] = value;
                }
            }
        }
        catch (e_3_1) { e_3 = { error: e_3_1 }; }
        finally {
            try {
                if (_b && !_b.done && (_d = _a.return)) _d.call(_a);
            }
            finally { if (e_3) throw e_3.error; }
        }
        this.chartClick(object);
        var e_3, _d;
    };
    AmexioD3DounutChartComponent.decorators = [
        { type: Component, args: [{
                    selector: 'amexio-d3-chart-donut',
                    template: "<div *ngIf=\"drillableFlag\" #chartId>\n\n\n    <div colspan=\"2\" style=\"font-size: 18px; font-weight: bold; \">\n        {{title}}\n    </div>\n        <div style=\"display: flex;flex-direction: row\">\n            <svg preserveAspectRatio=\"xMinYMin meet\" viewBox=\"0 0 300 300\" [attr.height]=\"height\" [attr.width]=\"width\" [attr.id]=\"componentId\">\n            </svg>\n            <div>\n\n           <div style=\"display: block; padding: 1%;\">\n                    <amexio-d3-legend *ngIf=\"legend\" (onClick)=\"onDonutLegendClick($event)\" [data]=\"legendArray\" style=\"height:100%;\"></amexio-d3-legend>\n          </div>\n   </div>\n    "
                },] },
    ];
    AmexioD3DounutChartComponent.ctorParameters = function () { return [
        { type: CommanDataService },
        { type: ChangeDetectorRef }
    ]; };
    AmexioD3DounutChartComponent.propDecorators = {
        pie: [{ type: Input, args: ['pie',] }],
        svgwidth: [{ type: Input, args: ['width',] }],
        svgheight: [{ type: Input, args: ['height',] }],
        chartId: [{ type: ViewChild, args: ['chartId',] }],
        labelcolor: [{ type: Input, args: ['label-color',] }],
        labelflag: [{ type: Input, args: ['label',] }],
        divid: [{ type: ViewChild, args: ['divid',] }],
        drillid: [{ type: ViewChild, args: ['drillid',] }],
        datareader: [{ type: Input, args: ['data-reader',] }],
        level: [{ type: Input, args: ['level',] }],
        target: [{ type: Input, args: ['target',] }],
        drillData: [{ type: Input }],
        drillabledatakey: [{ type: Input, args: ['drillable-data',] }]
    };
    return AmexioD3DounutChartComponent;
}(AmexioD3BaseChartComponent));

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingReturn,uselessCode} checked by tsc
 */
var AmexioD3PieChartComponent = /** @class */ (function () {
    function AmexioD3PieChartComponent() {
        this.onLegendClick = new EventEmitter();
        this.onChartClick = new EventEmitter();
        this.drillableEvent = new EventEmitter();
        this.legend = true;
        this.colors = [];
        this.width = "300";
        this.height = "300";
        this.title = "";
        this.level = 0;
        this.labelcolor = "black";
        this.labelflag = false;
        this.drillableFlag = true;
    }
    /**
     * @return {?}
     */
    AmexioD3PieChartComponent.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
    };
    /**
     * @param {?} node
     * @return {?}
     */
    AmexioD3PieChartComponent.prototype.legendClick = /**
     * @param {?} node
     * @return {?}
     */
    function (node) {
        this.onLegendClick.emit(node);
    };
    /**
     * @param {?} node
     * @return {?}
     */
    AmexioD3PieChartComponent.prototype.chartClick = /**
     * @param {?} node
     * @return {?}
     */
    function (node) {
        this.onChartClick.emit(node);
    };
    /**
     * @param {?} ref
     * @return {?}
     */
    AmexioD3PieChartComponent.prototype.fordrillableClick = /**
     * @param {?} ref
     * @return {?}
     */
    function (ref) {
        this.drillableEvent.emit(ref);
    };
    /**
     * @param {?} data
     * @return {?}
     */
    AmexioD3PieChartComponent.prototype.fetchData = /**
     * @param {?} data
     * @return {?}
     */
    function (data) {
        this.drillData = data;
    };
    /**
     * @return {?}
     */
    AmexioD3PieChartComponent.prototype.drawChart = /**
     * @return {?}
     */
    function () {
        this.donutref.drillableFlag = true;
        this.donutref.drawChart();
    };
    AmexioD3PieChartComponent.decorators = [
        { type: Component, args: [{
                    selector: 'amexio-d3-chart-pie',
                    template: "<div   *ngIf=\"drillableFlag\">\n<amexio-d3-chart-donut #id (onLegendClick)=\"legendClick($event)\" \n                       (onChartClick)=\"chartClick($event)\" \n                       (drillableEvent)=\" fordrillableClick($event)\"\n                        [height]=\"height\"\n                        [width]=\"width\"\n                        [title]=\"title\"\n                        [data] = \"data\"\n                        [pie]  = \"true\"\n                        [color]=\"colors\"\n                        [http-url]=\"httpurl\"\n                        [http-method]=\"httpmethod\"\n                        [data-reader]=\"datareader\"\n                        [label]=\"labelflag\"\n                        [label-color]=\"labelcolor\"\n                        [level]=\"level\"\n                        [target]=\"target\"\n                        [drillable-data]=\"drillabledatakey\"\n                        [drillData]=\"drillData\">\n</amexio-d3-chart-donut>\n</div>\n"
                },] },
    ];
    AmexioD3PieChartComponent.propDecorators = {
        data: [{ type: Input, args: ['data',] }],
        onLegendClick: [{ type: Output }],
        onChartClick: [{ type: Output }],
        drillableEvent: [{ type: Output }],
        donutref: [{ type: ViewChild, args: ['id',] }],
        legend: [{ type: Input }],
        colors: [{ type: Input, args: ['color',] }],
        width: [{ type: Input, args: ['width',] }],
        height: [{ type: Input, args: ['height',] }],
        title: [{ type: Input }],
        httpurl: [{ type: Input, args: ['http-url',] }],
        httpmethod: [{ type: Input, args: ['http-method',] }],
        datareader: [{ type: Input, args: ['data-reader',] }],
        level: [{ type: Input, args: ['level',] }],
        target: [{ type: Input, args: ['target',] }],
        drillabledatakey: [{ type: Input, args: ['drillable-data',] }],
        labelcolor: [{ type: Input, args: ['label-color',] }],
        labelflag: [{ type: Input, args: ['label',] }]
    };
    return AmexioD3PieChartComponent;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingReturn,uselessCode} checked by tsc
 */
var AmexioD3Legend = /** @class */ (function () {
    function AmexioD3Legend() {
        this.horizontal = false;
        this.onClick = new EventEmitter();
    }
    /**
     * @param {?} node
     * @return {?}
     */
    AmexioD3Legend.prototype.onLegendClick = /**
     * @param {?} node
     * @return {?}
     */
    function (node) {
        this.onClick.emit(node);
    };
    AmexioD3Legend.decorators = [
        { type: Component, args: [{
                    selector: 'amexio-d3-legend',
                    template: "<div style =\" width: 100% ; padding-left: 20px; padding-top: 8px; \">\n<table *ngIf=\"!horizontal\" style=\"height: 100%;\">\n    <tr *ngFor = \"let node of data\" style=\"cursor: pointer;\" (click)=\"onLegendClick(node)\">\n        <td style=\"height: 10px; width: 23px; padding-left: 2px;\"\n            [ngStyle]=\"{'background-color': node.color}\"></td>\n        <td>{{node.label}}</td>\n    </tr>\n</table>\n</div>\n\n<table *ngIf=\"horizontal\" style=\"height: 100%;\">\n    <tr>\n        <td *ngFor = \"let node of data\" \n                    (click)=\"onLegendClick(node)\" \n                    style=\"cursor: pointer;\">\n            \n            <div style=\" display: inline-block; display: inline-block; padding: 2px;\">\n                    <div style=\" width: 10px; display: inline-block; padding: 2px; \" \n                    [ngStyle]=\"{'background-color': node.color}\"></div>\n                {{node.label}}\n            </div>\n        </td>\n        \n    </tr>\n</table>"
                },] },
    ];
    AmexioD3Legend.ctorParameters = function () { return []; };
    AmexioD3Legend.propDecorators = {
        data: [{ type: Input, args: ['data',] }],
        horizontal: [{ type: Input, args: ['horizontal',] }],
        onClick: [{ type: Output }]
    };
    return AmexioD3Legend;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingReturn,uselessCode} checked by tsc
 */
var DeviceQueryService = /** @class */ (function () {
    function DeviceQueryService(platformId) {
        this.platformId = platformId;
        this.rules = {
            print: 'print',
            screen: 'screen',
            phone: '(max-width: 767px)',
            tablet: '(min-width: 768px) and (max-width: 1024px)',
            desktop: '(min-width: 1025px)',
            portrait: '(orientation: portrait)',
            landscape: '(orientation: landscape)',
            retina: '(-webkit-min-device-pixel-ratio: 2) and (min-resolution: 192dpi)',
        };
        this.Check = function (mq) {
            if (isPlatformBrowser(this.platformId)) {
                if (!mq) {
                    return;
                }
                return window.matchMedia(mq).matches;
            }
            else {
                return;
            }
        };
        this.IsTablet = function () {
            if (isPlatformBrowser(this.platformId)) {
                return window.matchMedia(this.rules.tablet).matches;
            }
            else {
                return null;
            }
        };
        this.IsDesktop = function () {
            if (isPlatformBrowser(this.platformId)) {
                return window.matchMedia(this.rules.desktop).matches;
            }
            else {
                return null;
            }
        };
        this.IsPortrait = function () {
            if (isPlatformBrowser(this.platformId)) {
                return window.matchMedia(this.rules.portrait).matches;
            }
            else {
                return null;
            }
        };
        this.IsLandscape = function () {
            if (isPlatformBrowser(this.platformId)) {
                return window.matchMedia(this.rules.landscape).matches;
            }
            else {
                return null;
            }
        };
        this.IsRetina = function () {
            if (isPlatformBrowser(this.platformId)) {
                return window.matchMedia(this.rules.retina).matches;
            }
            else {
                return null;
            }
        };
        this.browserWindow = function () {
            return window;
        };
    }
    /**********************************************
     METHODS FOR CHECKING TYPE
     **********************************************/
    /**
     * *******************************************
     * METHODS FOR CHECKING TYPE
     * ********************************************
     * @return {?}
     */
    DeviceQueryService.prototype.IsPhone = /**
     * *******************************************
     * METHODS FOR CHECKING TYPE
     * ********************************************
     * @return {?}
     */
    function () {
        if (isPlatformBrowser(this.platformId)) {
            return window.matchMedia(this.rules.phone).matches;
        }
        else {
            return null;
        }
    };
    /**********************************************
     EVENT LISTENERS BY TYPE
     **********************************************/
    /**
     * *******************************************
     * EVENT LISTENERS BY TYPE
     * ********************************************
     * @param {?} callBack
     * @return {?}
     */
    DeviceQueryService.prototype.OnPhone = /**
     * *******************************************
     * EVENT LISTENERS BY TYPE
     * ********************************************
     * @param {?} callBack
     * @return {?}
     */
    function (callBack) {
        if (typeof callBack === 'function' && isPlatformBrowser(this.platformId)) {
            /** @type {?} */
            var mql = window.matchMedia(this.rules.phone);
            this.mqlMethod(callBack, mql);
        }
    };
    /**
     * @param {?} callBack
     * @return {?}
     */
    DeviceQueryService.prototype.OnTablet = /**
     * @param {?} callBack
     * @return {?}
     */
    function (callBack) {
        if (typeof callBack === 'function' && isPlatformBrowser(this.platformId)) {
            /** @type {?} */
            var mql = window.matchMedia(this.rules.tablet);
            this.mqlMethod(callBack, mql);
        }
    };
    /**
     * @param {?} callBack
     * @return {?}
     */
    DeviceQueryService.prototype.OnDesktop = /**
     * @param {?} callBack
     * @return {?}
     */
    function (callBack) {
        if (typeof callBack === 'function' && isPlatformBrowser(this.platformId)) {
            /** @type {?} */
            var mql = window.matchMedia(this.rules.desktop);
            this.mqlMethod(callBack, mql);
        }
    };
    /**
     * @param {?} callBack
     * @return {?}
     */
    DeviceQueryService.prototype.OnPortrait = /**
     * @param {?} callBack
     * @return {?}
     */
    function (callBack) {
        if (typeof callBack === 'function' && isPlatformBrowser(this.platformId)) {
            /** @type {?} */
            var mql = window.matchMedia(this.rules.portrait);
            this.mqlMethod(callBack, mql);
        }
    };
    /**
     * @param {?} callBack
     * @return {?}
     */
    DeviceQueryService.prototype.OnLandscape = /**
     * @param {?} callBack
     * @return {?}
     */
    function (callBack) {
        if (typeof callBack === 'function' && isPlatformBrowser(this.platformId)) {
            /** @type {?} */
            var mql = window.matchMedia(this.rules.landscape);
            this.mqlMethod(callBack, mql);
        }
    };
    /**
     * @param {?} callBack
     * @param {?} mql
     * @return {?}
     */
    DeviceQueryService.prototype.mqlMethod = /**
     * @param {?} callBack
     * @param {?} mql
     * @return {?}
     */
    function (callBack, mql) {
        mql.addListener(function (mql1) {
            if (mql1.matches) {
                callBack(mql);
            }
        });
    };
    DeviceQueryService.decorators = [
        { type: Injectable },
    ];
    DeviceQueryService.ctorParameters = function () { return [
        { type: undefined, decorators: [{ type: Inject, args: [PLATFORM_ID,] }] }
    ]; };
    return DeviceQueryService;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingReturn,uselessCode} checked by tsc
 */
var AmexioD3BarChartComponent = /** @class */ (function (_super) {
    __extends(AmexioD3BarChartComponent, _super);
    function AmexioD3BarChartComponent(myservice, cdf, device) {
        var _this = _super.call(this, 'bar') || this;
        _this.myservice = myservice;
        _this.cdf = cdf;
        _this.device = device;
        _this.svgheight = 300;
        _this.horizontal = false;
        _this.labelcolor = "black";
        _this.labelflag = false;
        _this.level = 0;
        _this.drillabledatakey = [];
        _this.hScale = true;
        _this.resizeflag = false;
        _this.drillableFlag = true;
        _this.colorflag = false;
        _this.keyArray = [];
        _this.transformeddata = [];
        _this.legendArray = [];
        return _this;
    }
    /**
     * @return {?}
     */
    AmexioD3BarChartComponent.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
        var _this = this;
        if (this.level <= 1) {
            /** @type {?} */
            var resp_1;
            if (this.httpmethod && this.httpurl) {
                this.myservice.fetchUrlData(this.httpurl, this.httpmethod).subscribe(function (response) {
                    resp_1 = response;
                }, function (error) {
                }, function () {
                    setTimeout(function () {
                        _this.data = _this.getResponseData(resp_1);
                        _this.drawChart();
                    }, 0);
                });
            }
            else if (this.data) {
                setTimeout(function () {
                    _this.data = _this.getResponseData(_this.data);
                    _this.transformData(_this.data);
                    _this.initializeData();
                    _this.plotD3Chart();
                }, 0);
            }
        }
    };
    /**
     * @param {?} data
     * @return {?}
     */
    AmexioD3BarChartComponent.prototype.fetchData = /**
     * @param {?} data
     * @return {?}
     */
    function (data) {
        var _this = this;
        /** @type {?} */
        var requestJson;
        /** @type {?} */
        var key = this.drillabledatakey;
        /** @type {?} */
        var resp;
        if (this.drillabledatakey.length) {
            /** @type {?} */
            var drillabledata = this.getMultipleDrillbleKeyData(data, key);
            requestJson = drillabledata;
        }
        else {
            requestJson = data;
        }
        if (this.httpmethod && this.httpurl) {
            this.myservice.postfetchData(this.httpurl, this.httpmethod, requestJson).subscribe(function (response) {
                resp = response;
            }, function (error) {
            }, function () {
                setTimeout(function () {
                    _this.data = _this.getResponseData(resp);
                    _this.drawChart();
                }, 0);
            });
        }
    };
    /**
     * @return {?}
     */
    AmexioD3BarChartComponent.prototype.drawChart = /**
     * @return {?}
     */
    function () {
        var _this = this;
        setTimeout(function () {
            _this.initializeData();
            _this.plotD3Chart();
        }, 0);
    };
    /**
     * @param {?} httpResponse
     * @return {?}
     */
    AmexioD3BarChartComponent.prototype.getResponseData = /**
     * @param {?} httpResponse
     * @return {?}
     */
    function (httpResponse) {
        /** @type {?} */
        var responsedata = httpResponse;
        if (this.datareader != null) {
            /** @type {?} */
            var dr = this.datareader.split('.');
            try {
                for (var dr_1 = __values(dr), dr_1_1 = dr_1.next(); !dr_1_1.done; dr_1_1 = dr_1.next()) {
                    var ir = dr_1_1.value;
                    responsedata = responsedata[ir];
                }
            }
            catch (e_1_1) { e_1 = { error: e_1_1 }; }
            finally {
                try {
                    if (dr_1_1 && !dr_1_1.done && (_a = dr_1.return)) _a.call(dr_1);
                }
                finally { if (e_1) throw e_1.error; }
            }
        }
        else {
            responsedata = httpResponse;
        }
        return responsedata;
        var e_1, _a;
    };
    /**
     * @return {?}
     */
    AmexioD3BarChartComponent.prototype.plotD3Chart = /**
     * @return {?}
     */
    function () {
        var _this = this;
        this.formLegendData();
        if (this.resizeflag == false) {
            if (this.chartId) {
                this.svgwidth = this.chartId.nativeElement.offsetWidth;
            }
            else {
                this.svgwidth = this.svgwidth;
            }
        }
        /** @type {?} */
        var tooltip = this.toolTip(d3);
        this.svg = select("#" + this.componentId);
        /** @type {?} */
        var margin = { top: 20, right: 60, bottom: 30, left: 60 };
        /** @type {?} */
        var width = this.svgwidth - margin.left - margin.right;
        /** @type {?} */
        var height = this.svgheight - margin.top - margin.bottom;
        //const height = +svg.attr("height") - margin.top - margin.bottom;
        /** @type {?} */
        var x;
        /** @type {?} */
        var y;
        /** @type {?} */
        var g = this.svg.append("g")
            .attr("transform", "translate(" + margin.left + "," + margin.top + ")");
        if (this.horizontal == false) {
            x = scaleBand()
                .rangeRound([0, width])
                .padding(0.1);
            y = scaleLinear()
                .rangeRound([height, 0]);
            //setting content for x and y axis
            x.domain(this.data.map(function (d) {
                return d[Object.keys(d)[0]];
                //    return d.label
            }));
            y.domain([0, max(this.data, function (d) {
                    return d[Object.keys(d)[1]];
                    //return d.value;
                })]);
            // add x axis to svg
            if (this.device.IsDesktop() == true) {
                g.append("g")
                    .attr("transform", "translate(0," + height + ")")
                    .call(axisBottom(x));
            }
            else {
                g.append("g")
                    .attr("transform", "translate(0," + height + ")")
                    .call(axisBottom(x)).
                    selectAll("text")
                    .attr("y", 0)
                    .attr("x", 9)
                    .attr("dy", ".35em")
                    .attr("transform", "rotate(60)")
                    .style("text-anchor", "start");
            }
            //add y axis to svg
            g.append("g")
                .call(axisLeft(y)
                .ticks(10));
            this.plotLine(g, x, y, height, width);
            //add bar chart
            g.selectAll(".bar")
                .data(this.data)
                .enter()
                .append("rect")
                .attr("class", "bar")
                .attr("x", function (d) {
                return x(d[Object.keys(d)[0]]);
                // return x(d.label); 
            })
                .attr("y", function (d) {
                return y(d[Object.keys(d)[1]]);
                // return y(d.value); 
            })
                .attr("cursor", "pointer")
                .attr("width", x.bandwidth())
                .attr("height", function (d) { return height - y(d[Object.keys(d)[1]]); })
                .style("fill", function (d) {
                // return "blue";
                return d.color;
            })
                .on("mouseover", function (d) {
                return tooltip.style("visibility", "visible");
            })
                .on("mousemove", function (d) {
                return tooltip.html(_this.formTooltipData(d)
                //  this.toolTipForBar(d)
                // this.toolTipContent(d)
                )
                    .style("top", (event$1.pageY - 10) + "px")
                    .style("left", (event$1.pageX + 10) + "px");
            })
                .on("mouseout", function (d) {
                return tooltip.style("visibility", "hidden");
            })
                .on("click", function (d) {
                _this.barChartClick(d);
                _this.fordrillableClick(_this, d, event);
                return tooltip.style("visibility", "hidden");
                //this.chartClick(d);
            });
            if (this.labelflag) {
                /** @type {?} */
                var yTextPadding = 40;
                this.svg.selectAll(".label")
                    .data(this.data)
                    .enter()
                    .append("text")
                    .style("font-weight", "bold")
                    .style("font-size", "1vw")
                    .attr("text-anchor", "middle")
                    .attr("fill", function (d) {
                    if (_this.labelcolor.length > 0) {
                        return _this.labelcolor;
                    }
                    else {
                        return "black";
                    }
                })
                    .attr("x", function (d, i) {
                    return x(d[Object.keys(d)[0]]) + margin.left + x.bandwidth() / 2;
                })
                    .attr("y", function (d, i) {
                    return y(d[Object.keys(d)[1]]) + yTextPadding;
                })
                    .text(function (d) {
                    return d[Object.keys(d)[1]];
                });
            } //if ends fr 
        }
        else if (this.horizontal == true) {
            x = scaleLinear()
                .rangeRound([0, width]);
            y = scaleBand()
                .rangeRound([height, 0]).padding(0.1);
            //setting content for x and y axis
            x.domain([0, max(this.data, function (d) {
                    return parseInt(d[Object.keys(d)[1]]
                    // d.value
                    );
                })]);
            // d[Object.keys(d)[1]]
            y.domain(this.data.map(function (d) {
                return d[Object.keys(d)[0]];
                //return d.label;
            }));
            // add x axis to svg
            g.append("g")
                .attr("transform", "translate(0," + height + ")")
                .call(axisBottom(x).ticks(10));
            //add y axis to svg
            g.append("g")
                .call(axisLeft(y));
            this.plotLine(g, x, y, height, width);
            //add bar chart
            g.selectAll(".bar")
                .data(this.data)
                .enter()
                .append("rect")
                .attr("class", "bar")
                .attr("x", 0)
                .attr("y", function (d) {
                return y(d[Object.keys(d)[0]]
                // d.label
                );
            })
                .attr("cursor", "pointer")
                .attr("width", function (d) {
                return x(d[Object.keys(d)[1]]
                // d.value
                );
            })
                .attr("height", y.bandwidth())
                .style("fill", function (d) { return d.color; })
                .on("mouseover", function (d) {
                return tooltip.style("visibility", "visible");
            })
                .on("mousemove", function (d) {
                return tooltip.html(_this.formTooltipData(d)
                // this.formLegendData(d)
                // this.toolTipContent(d)
                )
                    .style("top", (event$1.pageY - 10) + "px")
                    .style("left", (event$1.pageX + 10) + "px");
            })
                .on("mouseout", function (d) {
                return tooltip.style("visibility", "hidden");
            })
                .on("click", function (d) {
                _this.barChartClick(d);
                _this.fordrillableClick(_this, d, event);
                return tooltip.style("visibility", "hidden");
                //this.chartClick(d);
            });
            if (this.labelflag) {
                /** @type {?} */
                var yTextPadding_1 = 40;
                this.svg.selectAll(".label")
                    .data(this.data)
                    .enter()
                    .append("text")
                    .style("font-weight", "bold")
                    .attr("text-anchor", "middle")
                    .attr("vertical-align", "middle")
                    .attr("margin-top", margin.top)
                    .attr("fill", function (d) {
                    if (_this.labelcolor.length > 0) {
                        return _this.labelcolor;
                    }
                    else {
                        return "black";
                    }
                })
                    .attr("x", function (d, i) {
                    return x(d[Object.keys(d)[1]]) + yTextPadding_1;
                })
                    .attr("y", function (d, i) {
                    return y(d[Object.keys(d)[0]])
                        + margin.top + y.bandwidth() / 2;
                })
                    .text(function (d) {
                    return d[Object.keys(d)[1]];
                });
            }
        } //else ends(horizontal bar logic ends)
    };
    /**
     * @param {?} g
     * @param {?} x
     * @param {?} y
     * @param {?} height
     * @param {?} width
     * @return {?}
     */
    AmexioD3BarChartComponent.prototype.plotLine = /**
     * @param {?} g
     * @param {?} x
     * @param {?} y
     * @param {?} height
     * @param {?} width
     * @return {?}
     */
    function (g, x, y, height, width) {
        if (this.hScale) {
            g.append('g')
                .attr("color", "lightgrey")
                .call(axisLeft(y)
                .tickSize(-width).tickFormat(''));
        }
    };
    /**
     * @param {?} tooltipData
     * @return {?}
     */
    AmexioD3BarChartComponent.prototype.formTooltipData = /**
     * @param {?} tooltipData
     * @return {?}
     */
    function (tooltipData) {
        /** @type {?} */
        var object = {};
        try {
            for (var _a = __values(Object.entries(tooltipData)), _b = _a.next(); !_b.done; _b = _a.next()) {
                var _c = __read(_b.value, 2), key = _c[0], value = _c[1];
                if (key != 'color') {
                    object[key] = value;
                }
            }
        }
        catch (e_2_1) { e_2 = { error: e_2_1 }; }
        finally {
            try {
                if (_b && !_b.done && (_d = _a.return)) _d.call(_a);
            }
            finally { if (e_2) throw e_2.error; }
        }
        return this.toolTipForBar(object);
        var e_2, _d;
    };
    /**
     * @param {?} data
     * @return {?}
     */
    AmexioD3BarChartComponent.prototype.transformData = /**
     * @param {?} data
     * @return {?}
     */
    function (data) {
        var _this = this;
        this.keyArray = data[0];
        data.forEach(function (element, index) {
            if (index > 0) {
                /** @type {?} */
                var DummyObject_1 = {};
                element.forEach(function (individualvalue, keyindex) {
                    DummyObject_1[_this.keyArray[keyindex]] = individualvalue;
                }); //inner for loop ends
                _this.transformeddata.push(DummyObject_1);
            } //if ends
        }); //outer for loop ends
        this.data = this.transformeddata;
    };
    /**
     * @return {?}
     */
    AmexioD3BarChartComponent.prototype.formLegendData = /**
     * @return {?}
     */
    function () {
        var _this = this;
        this.legendArray = [];
        this.data.forEach(function (element) {
            /** @type {?} */
            var legendobject = {};
            legendobject['label'] = element[Object.keys(element)[0]];
            legendobject['value'] = element[Object.keys(element)[1]];
            legendobject['color'] = element.color;
            _this.legendArray.push(legendobject);
        });
    };
    /**
     * @param {?} legendevent
     * @return {?}
     */
    AmexioD3BarChartComponent.prototype.onBarLegendClick = /**
     * @param {?} legendevent
     * @return {?}
     */
    function (legendevent) {
        /** @type {?} */
        var obj = {};
        //  obj['label'] = legendevent.label;
        //  obj['value'] = legendevent.value;
        obj[this.keyArray[0]] = legendevent.label;
        obj[this.keyArray[1]] = legendevent.value;
        //obj[legendevent.label] = legendevent.value;
        //delete event.color;
        this.legendClick(obj);
    };
    /**
     * @param {?} event
     * @return {?}
     */
    AmexioD3BarChartComponent.prototype.barChartClick = /**
     * @param {?} event
     * @return {?}
     */
    function (event) {
        /** @type {?} */
        var object = {};
        try {
            for (var _a = __values(Object.entries(event)), _b = _a.next(); !_b.done; _b = _a.next()) {
                var _c = __read(_b.value, 2), key = _c[0], value = _c[1];
                if (key != 'color') {
                    object[key] = value;
                }
            }
        }
        catch (e_3_1) { e_3 = { error: e_3_1 }; }
        finally {
            try {
                if (_b && !_b.done && (_d = _a.return)) _d.call(_a);
            }
            finally { if (e_3) throw e_3.error; }
        }
        this.chartClick(object);
        var e_3, _d;
    };
    /**
     * @param {?} data
     * @return {?}
     */
    AmexioD3BarChartComponent.prototype.resize = /**
     * @param {?} data
     * @return {?}
     */
    function (data) {
        this.svg.selectAll("*").remove();
        this.resizeflag = true;
        this.svgwidth = this.divid.nativeElement.offsetWidth;
        this.cdf.detectChanges();
        this.plotD3Chart();
    };
    AmexioD3BarChartComponent.decorators = [
        { type: Component, args: [{
                    selector: 'amexio-d3-chart-bar',
                    template: "<div *ngIf=\"drillableFlag\"  #divid (window:resize)=\"resize($event)\" >\n<table style=\"width: 100%;\" position=\" relative\" #chartId >\n    <tr>\n        <td style=\"font-size: 18px; font-weight: bold; \"> {{title}} </td>\n    </tr>\n    <tr>\n        <td>\n            <svg [attr.height]=\"svgheight\" [attr.width]=\"svgwidth\" [attr.id]=\"componentId\" \n          >\n            </svg>\n        </td>\n    </tr>\n    <tr>\n        <td style=\"display: block; padding: 5px;\">\n            <amexio-d3-legend *ngIf=\"legend\" [horizontal]=\"true\" (onClick)=\"onBarLegendClick($event)\" [data]=\"legendArray\" style=\"height:100%;\">\n            </amexio-d3-legend>\n        </td>\n    </tr>\n</table>\n</div>"
                },] },
    ];
    AmexioD3BarChartComponent.ctorParameters = function () { return [
        { type: CommanDataService },
        { type: ChangeDetectorRef },
        { type: DeviceQueryService }
    ]; };
    AmexioD3BarChartComponent.propDecorators = {
        svgwidth: [{ type: Input, args: ['width',] }],
        svgheight: [{ type: Input, args: ['height',] }],
        horizontal: [{ type: Input }],
        labelcolor: [{ type: Input, args: ['label-color',] }],
        labelflag: [{ type: Input, args: ['label',] }],
        chartId: [{ type: ViewChild, args: ['chartId',] }],
        divid: [{ type: ViewChild, args: ['divid',] }],
        drillid: [{ type: ViewChild, args: ['drillid',] }],
        datareader: [{ type: Input, args: ['data-reader',] }],
        level: [{ type: Input, args: ['level',] }],
        target: [{ type: Input, args: ['target',] }],
        drillabledatakey: [{ type: Input, args: ['drillable-data',] }],
        hScale: [{ type: Input, args: ['horizontal-scale',] }]
    };
    return AmexioD3BarChartComponent;
}(AmexioD3BaseChartComponent));

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingReturn,uselessCode} checked by tsc
 */
var AmexioD3BaseLineComponent = /** @class */ (function (_super) {
    __extends(AmexioD3BaseLineComponent, _super);
    function AmexioD3BaseLineComponent(deviceQueryService) {
        var _this = _super.call(this, 'line') || this;
        _this.deviceQueryService = deviceQueryService;
        _this.svgheight = 300;
        _this.hScale = true;
        _this.vScale = false;
        return _this;
    }
    Object.defineProperty(AmexioD3BaseLineComponent.prototype, "data", {
        get: /**
         * @return {?}
         */
        function () {
            return this._data;
        },
        set: /**
         * @param {?} v
         * @return {?}
         */
        function (v) {
            this._data = v;
            this.createXYAxisData();
        },
        enumerable: true,
        configurable: true
    });
    /**
     * @return {?}
     */
    AmexioD3BaseLineComponent.prototype.createXYAxisData = /**
     * @return {?}
     */
    function () {
        var _this = this;
        this.xaxisdata = [];
        this.yaxisdata = [];
        this.multiseriesdata = [];
        this.legenddata = [];
        this.legends = [];
        this.xaxisname = this.data[0][0].label;
        /** @type {?} */
        var msdarray = [];
        for (var index = 0; index < this._data[0].length; index++) {
            /** @type {?} */
            var legend = this._data[0][index];
            msdarray[index] = [];
            this.legenddata.push({ 'label': legend.label, 'color': this.predefinedcolors[index + 1] });
            if (index > 0)
                this.legends.push({ 'label': legend.label, 'color': this.predefinedcolors[index] });
        }
        /** @type {?} */
        var i = 0;
        this._data.forEach(function (object) {
            if (i > 0) {
                /** @type {?} */
                var j_1 = 0;
                object.forEach(function (a) {
                    if (j_1 === 0) {
                        _this.xaxisdata.push({ 'label': a, 'value': a });
                    }
                    else {
                        _this.yaxisdata.push({ 'label': a, 'value': a });
                    }
                    msdarray[j_1].push(a);
                    j_1++;
                });
            }
            i++;
        });
        for (var index = 0; index < msdarray.length; index++) {
            /** @type {?} */
            var element = msdarray[index];
            if (index > 0) {
                /** @type {?} */
                var md = [];
                for (var j = 0; j < element.length; j++) {
                    /** @type {?} */
                    var v = element[j];
                    md.push({ 'legend': this.legenddata[index].label, 'label': this.xaxisdata[j].value, 'value': v });
                }
                this.multiseriesdata.push(md);
                this.legends[index - 1].data = md;
            }
        }
    };
    /**
     * @return {?}
     */
    AmexioD3BaseLineComponent.prototype.initChart = /**
     * @return {?}
     */
    function () {
        this.svg = select("#" + this.componentId);
        /** @type {?} */
        var margin = { top: 40, right: 20, bottom: 30, left: 40 };
        /** @type {?} */
        var width = +this.svgwidth - margin.left - margin.right;
        /** @type {?} */
        var height = +this.svgheight - margin.top - margin.bottom;
        /** @type {?} */
        var g = this.svg.append("g").attr("transform", "translate(" + margin.left + "," + margin.top + ")");
        /** @type {?} */
        var x = scaleBand()
            .rangeRound([0, width])
            .padding(0.1);
        /** @type {?} */
        var y = scaleLinear()
            .rangeRound([height, 0]);
        x.domain(this.xaxisdata.map(function (d) { return d.label; }));
        y.domain([0, max(this.yaxisdata, function (d) { return d.value; })]);
        //add axis 
        if (this.deviceQueryService.IsDesktop() == true) {
            g.append("g")
                .attr("transform", "translate(0," + height + ")")
                .attr("color", "grey")
                .call(axisBottom(x));
        }
        else {
            g.append("g")
                .attr("transform", "translate(0," + height + ")")
                .attr("color", "grey")
                .call(axisBottom(x)).
                selectAll("text")
                .attr("y", 0)
                .attr("x", 9)
                .attr("dy", ".35em")
                .attr("transform", "rotate(60)")
                .style("text-anchor", "start");
        }
        g.append("g")
            .attr("color", "grey")
            .call(axisLeft(y));
        return {
            g: g, x: x, y: y, height: height, width: width
        };
    };
    /**
     * @param {?} g
     * @param {?} x
     * @param {?} y
     * @param {?} height
     * @param {?} width
     * @return {?}
     */
    AmexioD3BaseLineComponent.prototype.plotScale = /**
     * @param {?} g
     * @param {?} x
     * @param {?} y
     * @param {?} height
     * @param {?} width
     * @return {?}
     */
    function (g, x, y, height, width) {
        if (this.vScale) {
            g.append('g')
                .attr("color", "lightgrey")
                .attr('transform', 'translate(0,' + height + ')')
                .call(axisBottom(x).
                tickSize(-this.width).tickFormat(''));
        }
        if (this.hScale) {
            g.append('g')
                .attr("color", "lightgrey")
                .call(axisLeft(y)
                .tickSize(-width).tickFormat(''));
        }
    };
    /**
     * @param {?} node
     * @return {?}
     */
    AmexioD3BaseLineComponent.prototype.legendClick = /**
     * @param {?} node
     * @return {?}
     */
    function (node) {
        // const legendNode = JSON.parse(JSON.stringify(node));
        // delete legendNode.color;
        // legendNode.data.forEach(element => {
        //     delete element.legend;
        // });
        var _this = this;
        // const legendNode = JSON.parse(JSON.stringify(node));
        // delete legendNode.color;
        // legendNode.data.forEach(element => {
        //     delete element.legend;
        // });
        /** @type {?} */
        var obj = {};
        obj["label"] = node.label;
        /** @type {?} */
        var data = [];
        node.data.forEach(function (element) {
            /** @type {?} */
            var object = {};
            object[element.legend] = element.value;
            object[_this.xaxisname] = element.label;
            //   object[element.label] = element.value;
            data.push(object);
        });
        obj["data"] = data;
        this.onLegendClick.emit(obj);
        // this.onLegendClick.emit(legendNode);
    };
    AmexioD3BaseLineComponent.propDecorators = {
        hScale: [{ type: Input, args: ['horizontal-scale',] }],
        vScale: [{ type: Input, args: ['vertical-scale',] }],
        httpurl: [{ type: Input, args: ['data',] }, { type: Input, args: ['http-url',] }],
        httpmethod: [{ type: Input, args: ['http-method',] }]
    };
    return AmexioD3BaseLineComponent;
}(AmexioD3BaseChartComponent));

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingReturn,uselessCode} checked by tsc
 */
var AmexioD3LineComponent = /** @class */ (function (_super) {
    __extends(AmexioD3LineComponent, _super);
    function AmexioD3LineComponent(deviceQueryService, myservice) {
        var _this = _super.call(this, deviceQueryService) || this;
        _this.deviceQueryService = deviceQueryService;
        _this.myservice = myservice;
        _this.level = 0;
        _this.labelflag = false;
        _this.labelcolor = "black";
        _this.drillabledatakey = [];
        _this.drillableFlag = true;
        _this.resizeflag = false;
        return _this;
    }
    /**
     * @return {?}
     */
    AmexioD3LineComponent.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
        var _this = this;
        if (this.level <= 1) {
            /** @type {?} */
            var resp_1;
            if (this.httpmethod && this.httpurl) {
                this.myservice.fetchUrlData(this.httpurl, this.httpmethod).subscribe(function (response) {
                    resp_1 = response;
                }, function (error) {
                }, function () {
                    setTimeout(function () {
                        _this.data = _this.getResponseData(resp_1);
                        _this.plotD3Chart();
                    }, 0);
                });
            }
            else if (this.data) {
                setTimeout(function () {
                    _this.data = _this.getResponseData(_this.data);
                    _this.plotD3Chart();
                }, 0);
            }
        }
    };
    /**
     * @param {?} data
     * @return {?}
     */
    AmexioD3LineComponent.prototype.fetchData = /**
     * @param {?} data
     * @return {?}
     */
    function (data) {
        var _this = this;
        /** @type {?} */
        var requestJson;
        /** @type {?} */
        var key = this.drillabledatakey;
        /** @type {?} */
        var resp;
        if (this.drillabledatakey.length) {
            /** @type {?} */
            var drillabledata = this.getMultipleDrillbleKeyData(data, key);
            requestJson = drillabledata;
        }
        else {
            requestJson = data;
        }
        if (this.httpmethod && this.httpurl) {
            this.myservice.postfetchData(this.httpurl, this.httpmethod, requestJson).subscribe(function (response) {
                resp = response;
            }, function (error) {
            }, function () {
                setTimeout(function () {
                    _this.data = _this.getResponseData(resp);
                    _this.drawChart();
                }, 0);
            });
        }
    };
    /**
     * @return {?}
     */
    AmexioD3LineComponent.prototype.drawChart = /**
     * @return {?}
     */
    function () {
        var _this = this;
        setTimeout(function () {
            _this.plotD3Chart();
        }, 0);
    };
    /**
     * @return {?}
     */
    AmexioD3LineComponent.prototype.resize = /**
     * @return {?}
     */
    function () {
        this.svgwidth = 0;
        this.svg.selectAll("*").remove();
        this.resizeflag = true;
        this.svgwidth = this.divid.nativeElement.offsetWidth;
        this.plotD3Chart();
    };
    /**
     * @param {?} httpResponse
     * @return {?}
     */
    AmexioD3LineComponent.prototype.getResponseData = /**
     * @param {?} httpResponse
     * @return {?}
     */
    function (httpResponse) {
        /** @type {?} */
        var responsedata = httpResponse;
        if (this.datareader != null) {
            /** @type {?} */
            var dr = this.datareader.split('.');
            try {
                for (var dr_1 = __values(dr), dr_1_1 = dr_1.next(); !dr_1_1.done; dr_1_1 = dr_1.next()) {
                    var ir = dr_1_1.value;
                    responsedata = responsedata[ir];
                }
            }
            catch (e_1_1) { e_1 = { error: e_1_1 }; }
            finally {
                try {
                    if (dr_1_1 && !dr_1_1.done && (_a = dr_1.return)) _a.call(dr_1);
                }
                finally { if (e_1) throw e_1.error; }
            }
        }
        else {
            responsedata = httpResponse;
        }
        return responsedata;
        var e_1, _a;
    };
    /**
     * @return {?}
     */
    AmexioD3LineComponent.prototype.plotD3Chart = /**
     * @return {?}
     */
    function () {
        if (this.resizeflag == false) {
            if (this.chartId) {
                this.svgwidth = this.chartId.nativeElement.offsetWidth;
            }
            else {
                this.svgwidth = this.svgwidth;
            }
        }
        /** @type {?} */
        var tooltip = this.toolTip(d3);
        /** @type {?} */
        var linechart = this.initChart();
        this.plotScale(linechart.g, linechart.x, linechart.y, linechart.height, linechart.width);
        this.plotLine(linechart.g, linechart.x, linechart.y, linechart.height, linechart.width, [], tooltip, (1));
        for (var index = 0; index < this.multiseriesdata.length; index++) {
            this.plotLine(linechart.g, linechart.x, linechart.y, linechart.height, linechart.width, this.multiseriesdata[index], tooltip, (index + 1));
        }
    };
    /**
     * @param {?} g
     * @param {?} x
     * @param {?} y
     * @param {?} height
     * @param {?} width
     * @param {?} data
     * @param {?} tooltip
     * @param {?} i
     * @return {?}
     */
    AmexioD3LineComponent.prototype.plotLine = /**
     * @param {?} g
     * @param {?} x
     * @param {?} y
     * @param {?} height
     * @param {?} width
     * @param {?} data
     * @param {?} tooltip
     * @param {?} i
     * @return {?}
     */
    function (g, x, y, height, width, data, tooltip, i) {
        var _this = this;
        /** @type {?} */
        var line$$1 = line()
            .x(function (d) { return x(d.label); })
            .y(function (d) { return y(d.value); });
        g.append("path")
            .datum(data)
            .attr("fill", "none")
            .attr("stroke", this.predefinedcolors[i])
            .attr("stroke-width", 1.5)
            .attr("d", line$$1);
        g.selectAll('dot')
            .data(data)
            .enter()
            .append('circle')
            .attr("cx", function (d) { return x(d.label); })
            .attr("cy", function (d) { return y(d.value); })
            .attr('r', 2)
            .attr("cursor", "pointer")
            .on("mouseover", function (d) {
            return tooltip.style("visibility", "visible");
        })
            .on("mousemove", function (d) {
            return tooltip.html(_this.callTooltip(d)
            //  this.toolTipForLine(d)
            //  this.toolTipWithLegendandAxis(d.legend,d.label,d.value)
            )
                .style("top", (event$1.pageY - 10) + "px")
                .style("left", (event$1.pageX + 10) + "px");
        })
            .on("mouseout", function (d) {
            return tooltip.style("visibility", "hidden");
        })
            .on("click", function (d) {
            _this.lineChartClick(d);
            _this.fordrillableClick(_this, d, event);
            return tooltip.style("visibility", "hidden");
        });
        //lets plot labels here
        if (this.labelflag) {
            g.selectAll('label')
                .data(data)
                .enter()
                .append('text')
                .style("font-weight", "bold")
                .attr("text-anchor", "middle")
                .attr("fill", function (d) {
                if (_this.labelcolor.length > 0) {
                    return _this.labelcolor;
                }
                else {
                    return "black";
                }
            })
                .attr("x", function (d, i) {
                return x(d.label);
            })
                .attr("y", function (d, i) {
                return y(d.value) - 10;
            })
                .text(function (d) {
                return d.value;
            });
        }
    };
    /**
     * @param {?} d
     * @return {?}
     */
    AmexioD3LineComponent.prototype.lineChartClick = /**
     * @param {?} d
     * @return {?}
     */
    function (d) {
        /** @type {?} */
        var obj = {};
        obj[d.legend] = d.value;
        obj[this.xaxisname] = d.label;
        this.chartClick(obj);
    };
    /**
     * @param {?} tooltipdata
     * @return {?}
     */
    AmexioD3LineComponent.prototype.callTooltip = /**
     * @param {?} tooltipdata
     * @return {?}
     */
    function (tooltipdata) {
        /** @type {?} */
        var obj = {};
        obj[tooltipdata.legend] = tooltipdata.value;
        obj[this.xaxisname] = tooltipdata.label;
        return this.toolTipForBar(obj);
    };
    AmexioD3LineComponent.decorators = [
        { type: Component, args: [{
                    selector: 'amexio-d3-chart-line',
                    template: "\n<div *ngIf=\"drillableFlag\" #divid (window:resize)=\"resize()\"> \n<table style=\"width: 100%;\" #chartId  >\n        <tr><td style=\"font-size: 18px; font-weight: bold; \"> {{title}} </td></tr>\n        <tr>\n            <td>\n                <svg [attr.height]=\"height\" [attr.width]=\"svgwidth\" [attr.id]=\"componentId\">\n                </svg>            \n            </td>\n        </tr>\n        <tr>\n            <td style=\"display: block; padding: 5px;\">\n                    <amexio-d3-legend *ngIf=\"legend\" [horizontal]=\"true\" (onClick)=\"legendClick($event)\" \n                                        [data]=\"legends\" style=\"height:100%;\">\n                    </amexio-d3-legend>\n            </td>\n        \n        </tr>\n</table>\n</div>\n    "
                },] },
    ];
    AmexioD3LineComponent.ctorParameters = function () { return [
        { type: DeviceQueryService },
        { type: CommanDataService }
    ]; };
    AmexioD3LineComponent.propDecorators = {
        chartId: [{ type: ViewChild, args: ['chartId',] }],
        divid: [{ type: ViewChild, args: ['divid',] }],
        drillid: [{ type: ViewChild, args: ['drillid',] }],
        datareader: [{ type: Input, args: ['data-reader',] }],
        level: [{ type: Input, args: ['level',] }],
        labelflag: [{ type: Input, args: ['label',] }],
        labelcolor: [{ type: Input, args: ['label-color',] }],
        target: [{ type: Input, args: ['target',] }],
        drillabledatakey: [{ type: Input, args: ['drillable-data',] }]
    };
    return AmexioD3LineComponent;
}(AmexioD3BaseLineComponent));

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingReturn,uselessCode} checked by tsc
 */
var BarstackComponent = /** @class */ (function (_super) {
    __extends(BarstackComponent, _super);
    function BarstackComponent(myservice, device) {
        var _this = _super.call(this, 'barstack') || this;
        _this.myservice = myservice;
        _this.device = device;
        _this.maxYValue = 0;
        _this.barwidth = 0;
        _this.labelflag = false;
        _this.title = "";
        _this.legend = true;
        _this.labelcolor = "black";
        _this.color = [];
        _this.svgwidth = 300;
        _this.level = 0;
        _this.drillabledatakey = [];
        _this.hScale = true;
        _this.drillableFlag = true;
        _this.resizeflag = false;
        _this.svgheight = 300;
        _this.onLegendClick = new EventEmitter();
        return _this;
    }
    /**
     * @return {?}
     */
    BarstackComponent.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
        var _this = this;
        if (this.level <= 1) {
            if (this.httpmethod && this.httpurl) {
                this.myservice.fetchUrlData(this.httpurl, this.httpmethod).subscribe(function (response) {
                    //this.data = response;
                    _this.httpresponse = response;
                    _this.data = _this.getResponseData(response);
                }, function (error) {
                }, function () {
                    setTimeout(function () {
                        _this.transformData(_this.data);
                        _this.plotChart();
                    }, 0);
                });
            }
            else if (this.data1) {
                setTimeout(function () {
                    _this.transformData(_this.data1);
                    _this.plotChart();
                }, 0);
            }
        }
    };
    /**
     * @param {?} data
     * @return {?}
     */
    BarstackComponent.prototype.fetchData = /**
     * @param {?} data
     * @return {?}
     */
    function (data) {
        var _this = this;
        /** @type {?} */
        var requestJson;
        /** @type {?} */
        var key = this.drillabledatakey;
        if (this.drillabledatakey.length) {
            /** @type {?} */
            var drillabledata = this.getMultipleDrillbleKeyData(data, key);
            requestJson = drillabledata;
        }
        else {
            requestJson = data;
        }
        if (this.httpmethod && this.httpurl) {
            this.myservice.postfetchData(this.httpurl, this.httpmethod, requestJson).subscribe(function (response) {
                _this.httpresponse = response;
            }, function (error) {
            }, function () {
                setTimeout(function () {
                    //this.data = this.getResponseData(resp);
                    _this.drawChart();
                }, 0);
            });
        }
    };
    /**
     * @return {?}
     */
    BarstackComponent.prototype.drawChart = /**
     * @return {?}
     */
    function () {
        var _this = this;
        setTimeout(function () {
            _this.data = _this.getResponseData(_this.httpresponse);
            _this.transformData(_this.data);
            _this.plotChart();
        }, 0);
    };
    /**
     * @param {?} data1
     * @return {?}
     */
    BarstackComponent.prototype.transformData = /**
     * @param {?} data1
     * @return {?}
     */
    function (data1) {
        var _this = this;
        this.keyArray = [];
        this.legendArray = [];
        data1.forEach(function (element, i) {
            if (i == 0) {
                element.forEach(function (innerelement, index) {
                    if (index > 0) {
                        _this.legendArray[innerelement] = { 'data': [] };
                        _this.keyArray.push(innerelement);
                    }
                    else if (index == 0) {
                        _this.xaxis = innerelement;
                    }
                });
            }
        });
        /** @type {?} */
        var tempinnerarray;
        tempinnerarray = [];
        data1.forEach(function (element, index) {
            if (index > 0) {
                /** @type {?} */
                var obj_1 = {};
                element.forEach(function (innerelement, innerindex) {
                    if (innerindex >= 0) {
                        /** @type {?} */
                        var key = _this.keyArray[innerindex - 1];
                        obj_1[key] = element[innerindex];
                        /** @type {?} */
                        var legenddata = _this.legendArray[key];
                        if (legenddata) {
                            legenddata.data.push({ 'value': element[innerindex], 'label': element[0] });
                        }
                    }
                });
                tempinnerarray.push(obj_1);
            }
        });
        this.data = [];
        tempinnerarray.forEach(function (element) {
            _this.data.push(element);
        });
        /** @type {?} */
        var maxY = 0;
        /** @type {?} */
        var yaxismaxArray = [];
        //find max for yaxis
        this.data.forEach(function (element) {
            var _loop_1 = function (key, value) {
                _this.keyArray.forEach(function (key1) {
                    if (key == key1) {
                        maxY = maxY + value;
                    }
                }); //keyarray loop ends here
            };
            try {
                for (var _a = __values(Object.entries(element)), _b = _a.next(); !_b.done; _b = _a.next()) {
                    var _c = __read(_b.value, 2), key = _c[0], value = _c[1];
                    _loop_1(key, value);
                } //for ends here
            }
            catch (e_1_1) { e_1 = { error: e_1_1 }; }
            finally {
                try {
                    if (_b && !_b.done && (_d = _a.return)) _d.call(_a);
                }
                finally { if (e_1) throw e_1.error; }
            }
            yaxismaxArray.push(maxY);
            maxY = 0;
            var e_1, _d;
        }); // foreach ends
        // foreach ends
        /** @type {?} */
        var tempLarge = 0;
        /** @type {?} */
        var i;
        for (i = 0; i < yaxismaxArray.length; i++) {
            if (yaxismaxArray[i] > tempLarge) {
                this.maxYValue = yaxismaxArray[i];
            } //if ends
        } // for ends
        this.legends = [];
        this.keyArray.forEach(function (element, index) {
            /** @type {?} */
            var legenddata = _this.legendArray[element];
            if (_this.color.length > 0) {
                /** @type {?} */
                var object = { 'label': element, 'color': _this.color[index], 'data': legenddata.data };
                _this.legends.push(object);
            }
            else {
                /** @type {?} */
                var object = { 'label': element, 'color': _this.predefinedcolors[index], 'data': legenddata.data };
                _this.legends.push(object);
            }
        });
    };
    /**
     * @return {?}
     */
    BarstackComponent.prototype.plotChart = /**
     * @return {?}
     */
    function () {
        var _this = this;
        /** @type {?} */
        var tooltip = this.toolTip(d3);
        /** @type {?} */
        var margin = { top: 20, right: 30, bottom: 90, left: 60 };
        /** @type {?} */
        var colors = this.predefinedcolors;
        if (this.device.IsDesktop()) {
            if (this.chartId) {
                this.svgwidth = this.chartId.nativeElement.offsetWidth;
            }
            else {
                this.svgwidth = this.svgwidth;
            }
        }
        //this.svgwidth = this.chartId.nativeElement.offsetWidth;
        /** @type {?} */
        var data;
        data = this.data;
        /** @type {?} */
        var keysetarray = [];
        if (this.httpmethod && this.httpurl) {
            try {
                for (var _a = __values(Object.entries(this.data[0])), _b = _a.next(); !_b.done; _b = _a.next()) {
                    var _c = __read(_b.value, 2), key = _c[0], value = _c[1];
                    keysetarray.push(key);
                }
            }
            catch (e_2_1) { e_2 = { error: e_2_1 }; }
            finally {
                try {
                    if (_b && !_b.done && (_d = _a.return)) _d.call(_a);
                }
                finally { if (e_2) throw e_2.error; }
            }
            this.keyArray = keysetarray;
            this.keyArray.splice(0, 1);
        }
        /** @type {?} */
        var series = stack().keys(this.keyArray)
            .offset(stackOffsetDiverging)(this.data);
        this.svg = select("#" + this.componentId);
        /** @type {?} */
        var width = this.svgwidth - margin.left - margin.right;
        /** @type {?} */
        var height;
        // height=this.chartId.nativeElement.offsetHeight-20;
        if (this.device.IsDesktop()) {
            this.offsetheight = this.chartId.nativeElement.offsetHeight;
            height = this.offsetheight;
        }
        else {
            height = this.chartId.nativeElement.offsetHeight - 10;
        }
        /** @type {?} */
        var x = scaleBand()
            .domain(data.map(function (d) {
            return d[Object.keys(d)[0]];
        }))
            .rangeRound([margin.left, width - margin.right])
            .padding(0.35);
        /** @type {?} */
        var y = scaleLinear()
            .domain([min(this.stackMin(series)),
            this.maxYValue
            // d3.max(this.stackMax(series))
        ])
            .rangeRound([height - margin.bottom, margin.top]);
        // if (this.barwidth > 0) {
        //   this.barwidth = this.barwidth;
        // }
        // else {
        //   this.barwidth = x.bandwidth();
        // }
        if (this.device.IsDesktop() == true) {
            this.svg.append("g")
                .attr("transform", "translate(0," + y(0) + ")")
                .call(axisBottom(x));
        }
        else {
            this.svg.append("g")
                .attr("transform", "translate(0," + y(0) + ")")
                .call(axisBottom(x)).
                selectAll("text")
                .attr("y", 0)
                .attr("x", 9)
                .attr("dy", ".35em")
                .attr("transform", "rotate(60)")
                .style("text-anchor", "start");
        }
        this.svg.append("g")
            .attr("transform", "translate(" + margin.left + ",0)")
            .call(axisLeft(y));
        this.plotLine(this.svg, x, y, height, width, margin.left);
        /** @type {?} */
        var svgRect = this.svg.append("g")
            .selectAll("g")
            .data(series)
            .enter().append("g")
            .attr("fill", function (d, index) {
            if (_this.color.length > 0) {
                if (_this.color[index]) {
                    return _this.color[index];
                }
                else {
                    return colors[index];
                }
            }
            else {
                return colors[index];
            }
        })
            .selectAll("rect")
            .data(function (d) {
            return d;
        });
        svgRect.enter().append("rect")
            .attr("width", x.bandwidth()).attr('id', function (d, i) {
            return d.data[i];
        })
            .attr("x", function (d) {
            return x(+d.data[Object.keys(d.data)[0]]);
        })
            .attr("y", function (d, index) {
            return y(d[1]);
        })
            .attr("cursor", "pointer")
            .attr("height", function (d, index) {
            return y(d[0]) - y(d[1]);
        })
            .on("mouseover", function (d) {
            return tooltip.style("visibility", "visible");
        })
            .on("mousemove", function (d) {
            return tooltip.html(_this.setKey(d))
                .style("top", (event$1.pageY - 10) + "px")
                .style("left", (event$1.pageX + 10) + "px");
        })
            .on("mouseout", function (d) {
            return tooltip.style("visibility", "hidden");
        })
            .on("click", function (d) {
            _this.setBarClickText(d);
            _this.fordrillableClick(_this, d, event);
            return tooltip.style("visibility", "hidden");
            // this.chartClick(d);
        });
        // -------------------------
        if (this.labelflag) {
            svgRect.enter()
                .append("text")
                .style("font-weight", "bold")
                .style("font-size", "1vw")
                .attr("text-anchor", "middle")
                .attr("fill", function (d) {
                if (_this.labelcolor.length > 0) {
                    return _this.labelcolor;
                }
                else {
                    return "black";
                }
            })
                .attr("x", function (d) {
                return x(+d.data[Object.keys(d.data)[0]]) + x.bandwidth() / 2;
                // +  margin.left;
            })
                .attr("y", function (d, index) {
                return y(d[1]) + 20;
            })
                .text(function (d) {
                return d[Object.keys(d)[1]] - d[Object.keys(d)[0]];
            });
        }
        var e_2, _d;
    };
    /**
     * @param {?} serie
     * @return {?}
     */
    BarstackComponent.prototype.stackMin = /**
     * @param {?} serie
     * @return {?}
     */
    function (serie) {
        return min(serie, function (d) { return d[0]; });
    };
    // stackMax(serie) {
    //   return d3.max(serie, function (d) { return d[1]; });
    // }
    // stackMax(serie) {
    //   return d3.max(serie, function (d) { return d[1]; });
    // }
    /**
     * @return {?}
     */
    BarstackComponent.prototype.resize = 
    // stackMax(serie) {
    //   return d3.max(serie, function (d) { return d[1]; });
    // }
    /**
     * @return {?}
     */
    function () {
        this.svgwidth = 0;
        this.svg.selectAll("*").remove();
        this.resizeflag = true;
        this.svgwidth = this.divid.nativeElement.offsetWidth;
        this.plotChart();
    };
    /**
     * @param {?} svg
     * @param {?} x
     * @param {?} y
     * @param {?} height
     * @param {?} width
     * @param {?} m
     * @return {?}
     */
    BarstackComponent.prototype.plotLine = /**
     * @param {?} svg
     * @param {?} x
     * @param {?} y
     * @param {?} height
     * @param {?} width
     * @param {?} m
     * @return {?}
     */
    function (svg, x, y, height, width, m) {
        if (this.hScale) {
            svg.append('g')
                .attr("transform", "translate(" + m + ",0)")
                .attr("color", "lightgrey")
                .call(axisLeft(y)
                .tickSize(-width).tickFormat(''));
        }
    };
    /**
     * @param {?} event
     * @return {?}
     */
    BarstackComponent.prototype.legendClick = /**
     * @param {?} event
     * @return {?}
     */
    function (event) {
        /** @type {?} */
        var obj = {};
        obj["label"] = event.label;
        /** @type {?} */
        var data = [];
        event.data.forEach(function (element) {
            /** @type {?} */
            var object = {};
            object[element.label] = element.value;
            data.push(object);
        });
        obj["data"] = data;
        this.onLegendClick.emit(obj);
    };
    /**
     * @param {?} d
     * @return {?}
     */
    BarstackComponent.prototype.setKey = /**
     * @param {?} d
     * @return {?}
     */
    function (d) {
        /** @type {?} */
        var diff = d[0] - d[1];
        if (diff < 0) {
            diff = (diff * (-1));
        }
        try {
            for (var _a = __values(Object.entries(d.data)), _b = _a.next(); !_b.done; _b = _a.next()) {
                var _c = __read(_b.value, 2), key = _c[0], value = _c[1];
                if (value == diff) {
                    //  let object = { 'label': key, 'value': value , 'legend': d.data[Object.keys(d.data)[0]]};
                    /** @type {?} */
                    var object = {};
                    object[key] = value;
                    object[this.xaxis] = d.data[Object.keys(d.data)[0]];
                    return (this.toolTipForBar(object));
                }
            }
        }
        catch (e_3_1) { e_3 = { error: e_3_1 }; }
        finally {
            try {
                if (_b && !_b.done && (_d = _a.return)) _d.call(_a);
            }
            finally { if (e_3) throw e_3.error; }
        }
        var e_3, _d;
    };
    /**
     * @param {?} d
     * @return {?}
     */
    BarstackComponent.prototype.setBarClickText = /**
     * @param {?} d
     * @return {?}
     */
    function (d) {
        /** @type {?} */
        var diff = d[0] - d[1];
        if (diff < 0) {
            diff = (diff * (-1));
        }
        // let object = {};
        /** @type {?} */
        var object = {};
        try {
            for (var _a = __values(Object.entries(d.data)), _b = _a.next(); !_b.done; _b = _a.next()) {
                var _c = __read(_b.value, 2), key = _c[0], value = _c[1];
                if (value == diff) {
                    object[key] = value;
                    object[this.xaxis] = d.data[Object.keys(d.data)[0]];
                }
            }
        }
        catch (e_4_1) { e_4 = { error: e_4_1 }; }
        finally {
            try {
                if (_b && !_b.done && (_d = _a.return)) _d.call(_a);
            }
            finally { if (e_4) throw e_4.error; }
        }
        this.chartClick(object);
        var e_4, _d;
    };
    /**
     * @param {?} httpResponse
     * @return {?}
     */
    BarstackComponent.prototype.getResponseData = /**
     * @param {?} httpResponse
     * @return {?}
     */
    function (httpResponse) {
        /** @type {?} */
        var responsedata = httpResponse;
        if (this.datareader != null) {
            /** @type {?} */
            var dr = this.datareader.split('.');
            try {
                for (var dr_1 = __values(dr), dr_1_1 = dr_1.next(); !dr_1_1.done; dr_1_1 = dr_1.next()) {
                    var ir = dr_1_1.value;
                    responsedata = responsedata[ir];
                }
            }
            catch (e_5_1) { e_5 = { error: e_5_1 }; }
            finally {
                try {
                    if (dr_1_1 && !dr_1_1.done && (_a = dr_1.return)) _a.call(dr_1);
                }
                finally { if (e_5) throw e_5.error; }
            }
        }
        else {
            responsedata = httpResponse;
        }
        return responsedata;
        var e_5, _a;
    };
    BarstackComponent.decorators = [
        { type: Component, args: [{
                    selector: 'amexio-d3-chart-barstack',
                    template: "<div   *ngIf=\"drillableFlag\" #divid (window:resize)=\"resize()\">\n<table style=\"width: 100%;\" #chartId  (window:resize)=\"resize()\">\n  <tr><td style=\"font-size: 18px; font-weight: bold; \"> {{title}} </td></tr>\n  <tr>\n      <td>\n          <svg [attr.height]=\"svgheight\" [attr.width]=\"svgwidth\" [attr.id]=\"componentId\">\n          </svg>            \n      </td>\n  </tr>\n  <tr>\n      <td style=\"display: block; padding: 5px;\">\n              <amexio-d3-legend *ngIf=\"legend\" [horizontal]=\"true\" (onClick)=\"legendClick($event)\" \n                                  [data]=\"legends\" style=\"height:100%;\">\n              </amexio-d3-legend>\n      </td>\n  \n  </tr>\n</table>\n</div>",
                    styles: [""]
                },] },
    ];
    BarstackComponent.ctorParameters = function () { return [
        { type: CommanDataService },
        { type: DeviceQueryService }
    ]; };
    BarstackComponent.propDecorators = {
        data1: [{ type: Input, args: ['data',] }],
        barwidth: [{ type: Input }],
        labelflag: [{ type: Input, args: ['label',] }],
        title: [{ type: Input }],
        legend: [{ type: Input }],
        labelcolor: [{ type: Input, args: ['label-color',] }],
        color: [{ type: Input }],
        svgwidth: [{ type: Input, args: ['width',] }],
        datareader: [{ type: Input, args: ['data-reader',] }],
        level: [{ type: Input, args: ['level',] }],
        target: [{ type: Input, args: ['target',] }],
        drillabledatakey: [{ type: Input, args: ['drillable-data',] }],
        hScale: [{ type: Input, args: ['horizontal-scale',] }],
        svgheight: [{ type: Input, args: ['height',] }],
        chartId: [{ type: ViewChild, args: ['chartId',] }],
        divid: [{ type: ViewChild, args: ['divid',] }],
        drillid: [{ type: ViewChild, args: ['drillid',] }],
        onLegendClick: [{ type: Output }]
    };
    return BarstackComponent;
}(AmexioD3BaseChartComponent));

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingReturn,uselessCode} checked by tsc
 */
var GroupbarComponent = /** @class */ (function (_super) {
    __extends(GroupbarComponent, _super);
    function GroupbarComponent(myservice, device) {
        var _this = _super.call(this, 'multibar') || this;
        _this.myservice = myservice;
        _this.device = device;
        _this.legend = true;
        _this.barwidth = 0;
        _this.labelcolor = "black";
        _this.labelflag = false;
        _this.onLegendClick = new EventEmitter();
        _this.svgwidth = 300;
        _this.svgheight = 300;
        _this.level = 0;
        _this.drillabledatakey = [];
        _this.hScale = true;
        _this.drillableFlag = true;
        _this.resizeflag = false;
        _this.groupbarchartArray = [];
        _this.urllegendArray = [];
        _this.predefinedcolors = ["#3366cc", "#dc3912", "#ff9900", "#109618", "#990099", "#0099c6", "#dd4477", "#66aa00", "#b82e2e", "#316395", "#994499", "#22aa99", "#aaaa11", "#6633cc", "#e67300", "#8b0707", "#651067", "#329262", "#5574a6", "#3b3eac"];
        return _this;
    }
    /**
     * @return {?}
     */
    GroupbarComponent.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
        var _this = this;
        if (this.level <= 1) {
            /** @type {?} */
            var res_1;
            if (this.httpmethod && this.httpurl) {
                this.myservice.fetchUrlData(this.httpurl, this.httpmethod).subscribe(function (response) {
                    res_1 = response;
                }, function (error) {
                }, function () {
                    setTimeout(function () {
                        _this.data = _this.getResponseData(res_1);
                        _this.initializeData();
                        _this.plotD3Chart();
                    }, 0);
                });
            }
            else if (this.data) {
                setTimeout(function () {
                    _this.data = _this.getResponseData(_this.data);
                    _this.initializeData();
                    _this.plotD3Chart();
                }, 0);
            }
        }
    };
    /**
     * @param {?} data
     * @return {?}
     */
    GroupbarComponent.prototype.fetchData = /**
     * @param {?} data
     * @return {?}
     */
    function (data) {
        var _this = this;
        /** @type {?} */
        var requestJson;
        /** @type {?} */
        var key = this.drillabledatakey;
        /** @type {?} */
        var resp;
        if (this.drillabledatakey.length) {
            /** @type {?} */
            var drillabledata = this.getMultipleDrillbleKeyData(data, key);
            requestJson = drillabledata;
        }
        else {
            requestJson = data;
        }
        if (this.httpmethod && this.httpurl) {
            this.myservice.postfetchData(this.httpurl, this.httpmethod, requestJson).subscribe(function (response) {
                resp = response;
            }, function (error) {
            }, function () {
                setTimeout(function () {
                    _this.data = _this.getResponseData(resp);
                    _this.drawChart();
                }, 0);
            });
        }
    };
    /**
     * @return {?}
     */
    GroupbarComponent.prototype.drawChart = /**
     * @return {?}
     */
    function () {
        var _this = this;
        setTimeout(function () {
            _this.initializeData();
            _this.plotD3Chart();
        }, 0);
    };
    /**
     * @param {?} httpResponse
     * @return {?}
     */
    GroupbarComponent.prototype.getResponseData = /**
     * @param {?} httpResponse
     * @return {?}
     */
    function (httpResponse) {
        /** @type {?} */
        var responsedata = httpResponse;
        if (this.datareader != null) {
            /** @type {?} */
            var dr = this.datareader.split('.');
            try {
                for (var dr_1 = __values(dr), dr_1_1 = dr_1.next(); !dr_1_1.done; dr_1_1 = dr_1.next()) {
                    var ir = dr_1_1.value;
                    responsedata = responsedata[ir];
                }
            }
            catch (e_1_1) { e_1 = { error: e_1_1 }; }
            finally {
                try {
                    if (dr_1_1 && !dr_1_1.done && (_a = dr_1.return)) _a.call(dr_1);
                }
                finally { if (e_1) throw e_1.error; }
            }
        }
        else {
            responsedata = httpResponse;
        }
        return responsedata;
        var e_1, _a;
    };
    /**
     * @return {?}
     */
    GroupbarComponent.prototype.plotD3Chart = /**
     * @return {?}
     */
    function () {
        this.convertToJSON();
        this.plotGroupBarChart();
        this.transformData(this.data);
    };
    /**
     * @return {?}
     */
    GroupbarComponent.prototype.plotGroupBarChart = /**
     * @return {?}
     */
    function () {
        var _this = this;
        /** @type {?} */
        var tooltip = this.toolTip(d3);
        /** @type {?} */
        var colors = this.predefinedcolors;
        // this.svgwidth = this.chartId.nativeElement.offsetWidth;
        if (this.resizeflag == false) {
            if (this.chartId) {
                this.svgwidth = this.chartId.nativeElement.offsetWidth;
            }
            else {
                this.svgwidth = this.svgwidth;
            }
        }
        /** @type {?} */
        var margin = { top: 20, right: 20, bottom: 50, left: 40 };
        /** @type {?} */
        var width = this.svgwidth - margin.left - margin.right;
        /** @type {?} */
        var height = this.svgheight - margin.top - margin.bottom;
        this.svg = select("#" + this.componentId)
            .attr("width", width + margin.left + margin.right)
            .attr("height", height + margin.top + margin.bottom)
            .append("g")
            .attr("transform", "translate(" + margin.left + "," + margin.top + ")");
        /** @type {?} */
        var x0 = scaleBand()
            .rangeRound([0, width])
            .padding(0.2);
        /** @type {?} */
        var x1 = scaleBand().padding(0.1);
        /** @type {?} */
        var y = scaleLinear()
            .rangeRound([height, 0]);
        //setting x and y domains
        this.years = this.groupbarchartArray.map(function (d) { return d.labels; });
        /** @type {?} */
        var label = this.groupbarchartArray[0].values.map(function (d) { return d.label; });
        x0.domain(this.years);
        x1.domain(label).rangeRound([0, x0.bandwidth()]);
        y.domain([0, max(this.groupbarchartArray, function (labels) { return max(labels.values, function (d) { return d.value; }); })]);
        //dynamic barwidth
        if (this.barwidth > 0) {
            this.barwidth = this.barwidth;
        }
        else {
            this.barwidth = x0.bandwidth;
        }
        // add x axis to svg
        if (this.device.IsDesktop() == true) {
            this.svg.append("g")
                .attr("transform", "translate(0," + height + ")")
                .call(axisBottom(x0));
        }
        else {
            this.svg.append("g")
                .attr("transform", "translate(0," + height + ")")
                .call(axisBottom(x0)).
                selectAll("text")
                .attr("y", 0)
                .attr("x", 9)
                .attr("dy", ".35em")
                .attr("transform", "rotate(60)")
                .style("text-anchor", "start");
        }
        //add y axis to svg
        this.svg.append("g")
            .call(axisLeft(y)
            .ticks(10));
        this.plotLine(this.svg, y, height, width);
        // svg.select('.y').transition().duration(500).delay(1300).style('opacity', '1');
        //adding bars
        /** @type {?} */
        var slice = this.svg.selectAll(".slice")
            .data(this.groupbarchartArray)
            .enter().append("g")
            .attr("class", "g")
            .attr("transform", function (d) { return "translate(" + x0(d.labels) + ",0)"; });
        slice.selectAll("rect")
            .data(function (d) { return d.values; })
            .enter().append("rect")
            .attr("width", x1.bandwidth)
            .attr("x", function (d) {
            return x1(d.label);
        })
            .style("fill", function (d, index) { return colors[index]; })
            .attr("y", function (d) { return y(0); })
            .attr("height", function (d) { return height - y(0); })
            .attr("cursor", "pointer")
            .on("mouseover", function (d) {
            return tooltip.style("visibility", "visible");
        })
            .on("mousemove", function (d) {
            return tooltip.html(_this.setKey(d)
            //  this.toolTipContent(d)
            )
                .style("top", (event$1.pageY - 10) + "px")
                .style("left", (event$1.pageX + 10) + "px");
        }).on("mouseout", function (d) {
            return tooltip.style("visibility", "hidden");
        })
            .on("click", function (d) {
            _this.groupbarClick(d);
            _this.fordrillableClick(_this, d, event);
            return tooltip.style("visibility", "hidden");
            // this.chartClick(d);
        });
        // -------------------------------------------------------
        if (this.labelflag) {
            slice.selectAll("text")
                .data(function (d) { return d.values; })
                .enter().append("text")
                .attr("width", x1.bandwidth)
                .attr("x", function (d) {
                return x1(d.label) + x1.bandwidth() / 2;
            })
                .attr("y", function (d) { return y(d.value); })
                .attr("height", function (d) { return height - y(0); })
                .style("font-weight", "bold")
                .style("font-size", "1vw")
                .attr("text-anchor", "middle")
                .attr("fill", function (d) {
                if (_this.labelcolor.length > 0) {
                    return _this.labelcolor;
                }
                else {
                    return "black";
                }
            })
                .text(function (d) {
                return d.value;
            });
        }
        slice.selectAll("rect")
            .attr("y", function (d) {
            return y(d.value);
        })
            .attr("height", function (d) { return height - y(d.value); });
    };
    /**
     * @param {?} d
     * @return {?}
     */
    GroupbarComponent.prototype.groupbarClick = /**
     * @param {?} d
     * @return {?}
     */
    function (d) {
        /** @type {?} */
        var object = {};
        object[d.label] = d.value;
        object[this.xaxisData] = d.xaxis;
        this.chartClick(object);
    };
    /**
     * @param {?} event
     * @return {?}
     */
    GroupbarComponent.prototype.resize = /**
     * @param {?} event
     * @return {?}
     */
    function (event) {
        this.svgwidth = 0;
        this.svg.selectAll("*").remove();
        this.resizeflag = true;
        this.svgwidth = this.divid.nativeElement.offsetWidth;
        this.plotGroupBarChart();
    };
    /**
     * @param {?} event
     * @return {?}
     */
    GroupbarComponent.prototype.legendClick = /**
     * @param {?} event
     * @return {?}
     */
    function (event) {
        // const legendNode = JSON.parse(JSON.stringify(event));
        // delete legendNode.color;
        // const legendNode = JSON.parse(JSON.stringify(event));
        // delete legendNode.color;
        /** @type {?} */
        var obj = {};
        obj["label"] = event.label;
        /** @type {?} */
        var data = [];
        event.data.forEach(function (element) {
            /** @type {?} */
            var object = {};
            object[element.label] = element.value;
            data.push(object);
        });
        obj["data"] = data;
        this.onLegendClick.emit(obj);
        // this.onLegendClick.emit(legendNode);
    };
    //2d array to json conversion
    //2d array to json conversion
    /**
     * @return {?}
     */
    GroupbarComponent.prototype.convertToJSON = 
    //2d array to json conversion
    /**
     * @return {?}
     */
    function () {
        /** @type {?} */
        var groupChartObj = { "labels": "", values: [] };
        /** @type {?} */
        var firstRowOfData = this.data[0];
        this.xaxisData = this.data[0][0];
        for (var i = 1; i < this.data.length; i++) {
            /** @type {?} */
            var multiSeriesArray = [];
            /** @type {?} */
            var valueOfJ = void 0;
            for (var j = 1; j < this.data[i].length; j++) {
                valueOfJ = this.data[i][0];
                /** @type {?} */
                var singleBarObj = {};
                singleBarObj["value"] = this.data[i][j];
                singleBarObj["label"] = firstRowOfData[j];
                singleBarObj["xaxis"] = this.data[i][0];
                multiSeriesArray.push(singleBarObj);
            }
            if (multiSeriesArray.length) {
                groupChartObj["values"] = multiSeriesArray;
                /** @type {?} */
                var newLabelsValues = valueOfJ;
                /** @type {?} */
                var newGroupDataObj = Object.assign({}, groupChartObj);
                newGroupDataObj['labels'] = newLabelsValues + '';
                this.groupbarchartArray.push(newGroupDataObj);
            }
        }
    };
    /**
     * @return {?}
     */
    GroupbarComponent.prototype.transformto2dArray = /**
     * @return {?}
     */
    function () {
        var _this = this;
        /** @type {?} */
        var result = [];
        result.push("years");
        this.data.forEach(function (element, i) {
            if (i == 0) {
                element.values.forEach(function (element2) {
                    result.push(element2.label);
                });
            }
        });
        this.urllegendArray.push(result);
        /** @type {?} */
        var temparray = [];
        this.data.forEach(function (element) {
            temparray = [];
            /** @type {?} */
            var values;
            /** @type {?} */
            var year = element.labels;
            temparray.push(year);
            element.values.forEach(function (element2) {
                values = element2.value;
                temparray.push(values);
            });
            _this.urllegendArray.push(temparray);
        });
    };
    /**
     * @param {?} data
     * @return {?}
     */
    GroupbarComponent.prototype.transformData = /**
     * @param {?} data
     * @return {?}
     */
    function (data) {
        var _this = this;
        this.keyArray = [];
        this.legendArray = [];
        data.forEach(function (element, i) {
            if (i == 0) {
                element.forEach(function (innerelement, index) {
                    if (index > 0) {
                        _this.legendArray[innerelement] = { 'data': [] };
                        _this.keyArray.push(innerelement);
                    }
                });
            }
        });
        data.forEach(function (element, index) {
            if (index > 0) {
                /** @type {?} */
                var obj_1 = {};
                element.forEach(function (innerelement, innerindex) {
                    if (innerindex >= 0) {
                        /** @type {?} */
                        var key = _this.keyArray[innerindex - 1];
                        obj_1[key] = element[innerindex];
                        /** @type {?} */
                        var legenddata = _this.legendArray[key];
                        if (legenddata) {
                            legenddata.data.push({ 'value': element[innerindex], 'label': element[0] });
                        }
                    }
                });
            }
        });
        this.legends = [];
        this.keyArray.forEach(function (element, index) {
            /** @type {?} */
            var legenddata = _this.legendArray[element];
            /** @type {?} */
            var object = { 'label': element, 'color': _this.predefinedcolors[index], 'data': legenddata.data };
            _this.legends.push(object);
        });
    };
    /**
     * @param {?} d
     * @return {?}
     */
    GroupbarComponent.prototype.setKey = /**
     * @param {?} d
     * @return {?}
     */
    function (d) {
        /** @type {?} */
        var object = {};
        object[d.label] = d.value;
        object[this.xaxisData] = d.xaxis;
        return (this.toolTipForBar(object));
    };
    /**
     * @param {?} g
     * @param {?} y
     * @param {?} height
     * @param {?} width
     * @return {?}
     */
    GroupbarComponent.prototype.plotLine = /**
     * @param {?} g
     * @param {?} y
     * @param {?} height
     * @param {?} width
     * @return {?}
     */
    function (g, y, height, width) {
        if (this.hScale) {
            g.append('g')
                .attr("color", "lightgrey")
                .call(axisLeft(y)
                .tickSize(-width).tickFormat(''));
        }
    };
    GroupbarComponent.decorators = [
        { type: Component, args: [{
                    selector: 'amexio-d3-chart-multiseries',
                    template: "<div   *ngIf=\"drillableFlag\" #divid (window:resize)=\"resize($event)\"> \n<table style=\"width: 100%;\" #chartId>\n    <tr>\n        <td colspan=\"2\" style=\"font-size: 18px; font-weight: bold; \"> {{title}} </td>\n    </tr>\n    <tr>\n        <td>\n            <svg [attr.height]=\"height\" [attr.width]=\"width\" [attr.id]=\"componentId\">\n            </svg>\n        </td>\n    </tr>\n    <tr>\n        <td style=\"display: block; padding: 5px;\">\n            <amexio-d3-legend *ngIf=\"legend\" [horizontal]=\"true\" (onClick)=\"legendClick($event)\" [data]=\"legends\" style=\"height:100%;\"></amexio-d3-legend>\n        </td>\n    </tr>\n</table>\n</div>\n\n\n",
                    styles: [""]
                },] },
    ];
    GroupbarComponent.ctorParameters = function () { return [
        { type: CommanDataService },
        { type: DeviceQueryService }
    ]; };
    GroupbarComponent.propDecorators = {
        chartId: [{ type: ViewChild, args: ['chartId',] }],
        divid: [{ type: ViewChild, args: ['divid',] }],
        drillid: [{ type: ViewChild, args: ['drillid',] }],
        data: [{ type: Input, args: ['data',] }],
        legend: [{ type: Input }],
        barwidth: [{ type: Input }],
        labelcolor: [{ type: Input, args: ['label-color',] }],
        labelflag: [{ type: Input, args: ['label',] }],
        onLegendClick: [{ type: Output }],
        svgwidth: [{ type: Input, args: ['width',] }],
        svgheight: [{ type: Input, args: ['height',] }],
        datareader: [{ type: Input, args: ['data-reader',] }],
        level: [{ type: Input, args: ['level',] }],
        target: [{ type: Input, args: ['target',] }],
        drillabledatakey: [{ type: Input, args: ['drillable-data',] }],
        hScale: [{ type: Input, args: ['horizontal-scale',] }]
    };
    return GroupbarComponent;
}(AmexioD3BaseChartComponent));

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingReturn,uselessCode} checked by tsc
 */
var CombochartComponent = /** @class */ (function (_super) {
    __extends(CombochartComponent, _super);
    function CombochartComponent(myservice, device) {
        var _this = _super.call(this, 'combochart') || this;
        _this.myservice = myservice;
        _this.device = device;
        _this.svgwidth = 300;
        _this.svgheight = 300;
        _this.lineColor = "black";
        _this.horizontal = false;
        _this.level = 0;
        _this.drillabledatakey = [];
        _this.hScale = true;
        _this.drillableFlag = true;
        _this.resizeflag = false;
        _this.colorflag = false;
        _this.keyArray = [];
        _this.transformeddata = [];
        _this.legendArray = [];
        return _this;
    }
    /**
     * @return {?}
     */
    CombochartComponent.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
        var _this = this;
        if (this.level <= 1) {
            /** @type {?} */
            var resp_1;
            if (this.httpmethod && this.httpurl) {
                this.myservice.fetchUrlData(this.httpurl, this.httpmethod).subscribe(function (response) {
                    resp_1 = response;
                    _this.httpresponse = response;
                }, function (error) {
                }, function () {
                    setTimeout(function () {
                        _this.data = _this.getResponseData(resp_1);
                        _this.transformData(_this.data);
                        _this.initializeData();
                        _this.plotD3Chart();
                    }, 0);
                });
            }
            else if (this.data) {
                setTimeout(function () {
                    _this.data = _this.getResponseData(_this.data);
                    _this.transformData(_this.data);
                    _this.initializeData();
                    _this.plotD3Chart();
                }, 0);
            }
        }
    };
    /**
     * @param {?} data
     * @return {?}
     */
    CombochartComponent.prototype.fetchData = /**
     * @param {?} data
     * @return {?}
     */
    function (data) {
        var _this = this;
        /** @type {?} */
        var requestJson;
        /** @type {?} */
        var key = this.drillabledatakey;
        if (this.drillabledatakey.length) {
            /** @type {?} */
            var drillabledata = this.getMultipleDrillbleKeyData(data, key);
            requestJson = drillabledata;
        }
        else {
            requestJson = data;
        }
        if (this.httpmethod && this.httpurl) {
            this.myservice.postfetchData(this.httpurl, this.httpmethod, requestJson).subscribe(function (response) {
                _this.httpresponse = response;
            }, function (error) {
            }, function () {
                setTimeout(function () {
                    // this.data = this.getResponseData(resp);
                    _this.drawChart();
                }, 0);
            });
        }
    };
    /**
     * @return {?}
     */
    CombochartComponent.prototype.drawChart = /**
     * @return {?}
     */
    function () {
        var _this = this;
        setTimeout(function () {
            _this.data = _this.getResponseData(_this.httpresponse);
            _this.transformData(_this.data);
            _this.initializeData();
            _this.plotD3Chart();
        }, 0);
    };
    /**
     * @param {?} httpResponse
     * @return {?}
     */
    CombochartComponent.prototype.getResponseData = /**
     * @param {?} httpResponse
     * @return {?}
     */
    function (httpResponse) {
        /** @type {?} */
        var responsedata = httpResponse;
        if (this.datareader != null) {
            /** @type {?} */
            var dr = this.datareader.split('.');
            try {
                for (var dr_1 = __values(dr), dr_1_1 = dr_1.next(); !dr_1_1.done; dr_1_1 = dr_1.next()) {
                    var ir = dr_1_1.value;
                    responsedata = responsedata[ir];
                }
            }
            catch (e_1_1) { e_1 = { error: e_1_1 }; }
            finally {
                try {
                    if (dr_1_1 && !dr_1_1.done && (_a = dr_1.return)) _a.call(dr_1);
                }
                finally { if (e_1) throw e_1.error; }
            }
        }
        else {
            responsedata = httpResponse;
        }
        return responsedata;
        var e_1, _a;
    };
    /**
     * @return {?}
     */
    CombochartComponent.prototype.plotD3Chart = /**
     * @return {?}
     */
    function () {
        var _this = this;
        this.formLegendData();
        if (this.resizeflag == false) {
            if (this.chartId) {
                this.svgwidth = this.chartId.nativeElement.offsetWidth;
            }
            else {
                this.svgwidth = this.svgwidth;
            }
        }
        /** @type {?} */
        var lineName = this.lineInput;
        /** @type {?} */
        var tooltip = this.toolTip(d3);
        this.svg = select("#" + this.componentId);
        /** @type {?} */
        var margin = { top: 20, right: 20, bottom: 85, left: 60 };
        /** @type {?} */
        var width = this.svgwidth - margin.left - margin.right;
        /** @type {?} */
        var height;
        console.log("offsetheight", this.offsetheight);
        if (this.device.IsDesktop() == true) {
            this.offsetheight = this.chartId.nativeElement.offsetHeight - 20 - 90;
            height = this.offsetheight;
        }
        else {
            height = this.svgheight - margin.top - margin.bottom;
        }
        /** @type {?} */
        var x;
        /** @type {?} */
        var y;
        /** @type {?} */
        var g = this.svg.append("g")
            .attr("transform", "translate(" + margin.left + "," + margin.top + ")");
        if (this.horizontal == false) {
            x = scaleBand()
                .rangeRound([0, width])
                .padding(0.1);
            y = scaleLinear()
                .rangeRound([height, 0]);
            //setting content for x and y axis
            x.domain(this.data.map(function (d) {
                return d[Object.keys(d)[0]];
            }));
            /** @type {?} */
            var barRange = max(this.data, function (d) {
                return d[Object.keys(d)[1]];
            });
            /** @type {?} */
            var lineRange = max(this.data, function (d) {
                return d[_this.lineInput];
            });
            /** @type {?} */
            var range = void 0;
            if (barRange > lineRange) {
                range = barRange;
            }
            else {
                range = lineRange;
            }
            y.domain([0, range]);
            if (this.device.IsDesktop() == true) {
                g.append("g")
                    .attr("transform", "translate(0," + height + ")")
                    .call(axisBottom(x));
            }
            else {
                g.append("g")
                    .attr("transform", "translate(0," + height + ")")
                    .call(axisBottom(x)).
                    selectAll("text")
                    .attr("y", 0)
                    .attr("x", 9)
                    .attr("dy", ".35em")
                    .attr("transform", "rotate(65)")
                    .style("text-anchor", "start");
            }
            //add y axis to svg
            g.append("g")
                .call(axisLeft(y)
                .ticks(10));
            this.plotLine(g, x, y, height, width);
            //add bar chart
            g.selectAll(".bar")
                .data(this.data)
                .enter()
                .append("rect")
                .attr("class", "bar")
                .attr("x", function (d) {
                return x(d[Object.keys(d)[0]]);
            })
                .attr("y", function (d) {
                return y(d[Object.keys(d)[1]]);
            })
                .attr("cursor", "pointer")
                .attr("width", x.bandwidth())
                .attr("height", function (d) { return height - y(d[Object.keys(d)[1]]); })
                .style("fill", function (d) {
                return d.color;
            })
                .on("mouseover", function (d) {
                return tooltip.style("visibility", "visible");
            })
                .on("mousemove", function (d) {
                return tooltip.html(_this.formTooltipData(d))
                    .style("top", (event$1.pageY - 10) + "px")
                    .style("left", (event$1.pageX + 10) + "px");
            })
                .on("mouseout", function (d) {
                return tooltip.style("visibility", "hidden");
            })
                .on("click", function (d) {
                _this.barChartClick(d);
                _this.fordrillableClick(_this, d, event);
                return tooltip.style("visibility", "hidden");
            });
            //line code start
            /** @type {?} */
            var valueline = line()
                .x(function (d) {
                return x(d[Object.keys(d)[0]]);
            })
                .y(function (d) {
                return y(d[lineName]);
            });
            /** @type {?} */
            var shift = margin.left + x.bandwidth() / 2;
            this.svg.append("path")
                .data([this.data])
                .attr("fill", "none")
                .style("stroke", this.lineColor)
                .attr("stroke-width", 1.5)
                .attr("transform", "translate( " + shift + ", 20 )")
                .attr("d", valueline);
            /** @type {?} */
            var points1 = this.svg.selectAll("circle.point1")
                .data(this.data);
            points1.enter().append("circle")
                .merge(points1)
                .attr("class", "point1")
                .attr("cursor", "pointer")
                .style("stroke", this.lineColor)
                .style("fill", this.lineColor)
                .attr("cx", function (d) {
                return x(d[Object.keys(d)[0]]);
            })
                .attr("cy", function (d) {
                return y(d[lineName]);
            })
                .attr("r", function (d) { return 5; })
                .attr("transform", "translate( " + shift + ", 20 )")
                .on("mouseover", function (d) {
                return tooltip.style("visibility", "visible");
            })
                .on("mousemove", function (d) {
                return tooltip.html(_this.formTooltipLineData(d))
                    .style("top", (event$1.pageY - 10) + "px")
                    .style("left", (event$1.pageX + 10) + "px");
            })
                .on("mouseout", function (d) {
                return tooltip.style("visibility", "hidden");
            })
                .on("click", function (d) {
                _this.onComboLineClick(d);
                _this.fordrillableClick(_this, d, event);
                return tooltip.style("visibility", "hidden");
            });
            //line code ends
        }
    };
    /**
     * @param {?} g
     * @param {?} x
     * @param {?} y
     * @param {?} height
     * @param {?} width
     * @return {?}
     */
    CombochartComponent.prototype.plotLine = /**
     * @param {?} g
     * @param {?} x
     * @param {?} y
     * @param {?} height
     * @param {?} width
     * @return {?}
     */
    function (g, x, y, height, width) {
        if (this.hScale) {
            g.append('g')
                .attr("color", "lightgrey")
                .call(axisLeft(y)
                .tickSize(-width).tickFormat(''));
        }
    };
    /**
     * @param {?} tooltipData
     * @return {?}
     */
    CombochartComponent.prototype.formTooltipData = /**
     * @param {?} tooltipData
     * @return {?}
     */
    function (tooltipData) {
        /** @type {?} */
        var object = {};
        try {
            for (var _a = __values(Object.entries(tooltipData)), _b = _a.next(); !_b.done; _b = _a.next()) {
                var _c = __read(_b.value, 2), key = _c[0], value = _c[1];
                if (key != 'color') {
                    object[key] = value;
                }
            }
        }
        catch (e_2_1) { e_2 = { error: e_2_1 }; }
        finally {
            try {
                if (_b && !_b.done && (_d = _a.return)) _d.call(_a);
            }
            finally { if (e_2) throw e_2.error; }
        }
        return this.toolTipForBar(object);
        var e_2, _d;
    };
    /**
     * @param {?} data
     * @return {?}
     */
    CombochartComponent.prototype.transformData = /**
     * @param {?} data
     * @return {?}
     */
    function (data) {
        var _this = this;
        this.transformeddata = [];
        this.keyArray = data[0];
        data.forEach(function (element, index) {
            if (index > 0) {
                /** @type {?} */
                var DummyObject_1 = {};
                element.forEach(function (individualvalue, keyindex) {
                    DummyObject_1[_this.keyArray[keyindex]] = individualvalue;
                }); //inner for loop ends
                _this.transformeddata.push(DummyObject_1);
            } //if ends
        }); //outer for loop ends
        this.data = this.transformeddata;
    };
    /**
     * @return {?}
     */
    CombochartComponent.prototype.formLegendData = /**
     * @return {?}
     */
    function () {
        var _this = this;
        this.legendArray = [];
        this.data.forEach(function (element) {
            /** @type {?} */
            var legendobject = {};
            legendobject['label'] = element[Object.keys(element)[0]];
            legendobject['value'] = element[Object.keys(element)[1]];
            legendobject['color'] = element.color;
            _this.legendArray.push(legendobject);
        });
    };
    /**
     * @param {?} legendevent
     * @return {?}
     */
    CombochartComponent.prototype.onBarLegendClick = /**
     * @param {?} legendevent
     * @return {?}
     */
    function (legendevent) {
        /** @type {?} */
        var obj = {};
        obj[this.keyArray[0]] = legendevent.label;
        obj[this.keyArray[1]] = legendevent.value;
        this.legendClick(obj);
    };
    /**
     * @param {?} event
     * @return {?}
     */
    CombochartComponent.prototype.barChartClick = /**
     * @param {?} event
     * @return {?}
     */
    function (event) {
        /** @type {?} */
        var object = {};
        try {
            for (var _a = __values(Object.entries(event)), _b = _a.next(); !_b.done; _b = _a.next()) {
                var _c = __read(_b.value, 2), key = _c[0], value = _c[1];
                if (key != 'color') {
                    object[key] = value;
                }
            }
        }
        catch (e_3_1) { e_3 = { error: e_3_1 }; }
        finally {
            try {
                if (_b && !_b.done && (_d = _a.return)) _d.call(_a);
            }
            finally { if (e_3) throw e_3.error; }
        }
        this.chartClick(object);
        var e_3, _d;
    };
    /**
     * @param {?} data
     * @return {?}
     */
    CombochartComponent.prototype.onComboLineClick = /**
     * @param {?} data
     * @return {?}
     */
    function (data) {
        /** @type {?} */
        var object = {};
        try {
            for (var _a = __values(Object.entries(data)), _b = _a.next(); !_b.done; _b = _a.next()) {
                var _c = __read(_b.value, 2), key = _c[0], value = _c[1];
                if (key != "color") {
                    object[key] = value;
                }
            }
        }
        catch (e_4_1) { e_4 = { error: e_4_1 }; }
        finally {
            try {
                if (_b && !_b.done && (_d = _a.return)) _d.call(_a);
            }
            finally { if (e_4) throw e_4.error; }
        }
        this.comboLineClick(object);
        var e_4, _d;
        //this.chartClick(object);
    };
    /**
     * @param {?} data
     * @return {?}
     */
    CombochartComponent.prototype.formTooltipLineData = /**
     * @param {?} data
     * @return {?}
     */
    function (data) {
        /** @type {?} */
        var object = {};
        try {
            for (var _a = __values(Object.entries(data)), _b = _a.next(); !_b.done; _b = _a.next()) {
                var _c = __read(_b.value, 2), key = _c[0], value = _c[1];
                if (key == this.lineInput) {
                    object[key] = value;
                }
            }
        }
        catch (e_5_1) { e_5 = { error: e_5_1 }; }
        finally {
            try {
                if (_b && !_b.done && (_d = _a.return)) _d.call(_a);
            }
            finally { if (e_5) throw e_5.error; }
        }
        return this.toolTipForBar(object);
        var e_5, _d;
    };
    /**
     * @return {?}
     */
    CombochartComponent.prototype.resize = /**
     * @return {?}
     */
    function () {
        this.svgwidth = 0;
        this.svg.selectAll("*").remove();
        this.resizeflag = true;
        this.svgwidth = this.divid.nativeElement.offsetWidth;
        //  this.svgheight=this.offsetheight;
        this.plotD3Chart();
    };
    CombochartComponent.decorators = [
        { type: Component, args: [{
                    selector: 'amexio-d3-combochart',
                    template: "<div *ngIf=\"drillableFlag\" #divid (window:resize)=\"resize()\">\n<table style=\"width: 100%;\" #chartId >\n  <tr>\n      <td style=\"font-size: 18px; font-weight: bold; \"> {{title}} </td>\n  </tr>\n  <tr>\n      <td>\n          <svg [attr.height]=\"svgheight\" [attr.width]=\"svgwidth\" [attr.id]=\"componentId\">\n          </svg>\n      </td>\n  </tr>\n  <tr>\n      <td style=\"display: block; padding: 5px;\">\n          <amexio-d3-legend *ngIf=\"legend\" [horizontal]=\"true\" (onClick)=\"onBarLegendClick($event)\" [data]=\"legendArray\" style=\"height:100%;\">\n          </amexio-d3-legend>\n      </td>\n  </tr>\n</table>\n</div>",
                    styles: [""]
                },] },
    ];
    CombochartComponent.ctorParameters = function () { return [
        { type: CommanDataService },
        { type: DeviceQueryService }
    ]; };
    CombochartComponent.propDecorators = {
        svgwidth: [{ type: Input, args: ['width',] }],
        svgheight: [{ type: Input, args: ['height',] }],
        lineColor: [{ type: Input, args: ['line-color',] }],
        horizontal: [{ type: Input }],
        chartId: [{ type: ViewChild, args: ['chartId',] }],
        divid: [{ type: ViewChild, args: ['divid',] }],
        datareader: [{ type: Input, args: ['data-reader',] }],
        level: [{ type: Input, args: ['level',] }],
        target: [{ type: Input, args: ['target',] }],
        drillabledatakey: [{ type: Input, args: ['drillable-data',] }],
        lineInput: [{ type: Input, args: ['line-data-index',] }],
        hScale: [{ type: Input, args: ['horizontal-scale',] }]
    };
    return CombochartComponent;
}(AmexioD3BaseChartComponent));

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingReturn,uselessCode} checked by tsc
 */
var HistogramComponent = /** @class */ (function (_super) {
    __extends(HistogramComponent, _super);
    function HistogramComponent(myservice, device) {
        var _this = _super.call(this, 'histogram') || this;
        _this.myservice = myservice;
        _this.device = device;
        _this.svgwidth = 300;
        _this.svgheight = 400;
        _this.color = "blue";
        _this.labelflag = false;
        _this.labelcolor = "black";
        _this.hScale = true;
        _this.level = 0;
        _this.drillabledatakey = [];
        _this.resizeflag = false;
        _this.drillableFlag = true;
        _this.values = [];
        _this.array = [];
        _this.xaxisArray = [];
        _this.yaxisArray = [];
        _this.yaxisData = [];
        _this.histogramarray = [];
        _this.histogramdata = [];
        _this.lengtharray = [];
        _this.arrayofLength = [];
        _this.chartData = [];
        _this.finaldataarray = [];
        _this.tooltipArray = [];
        _this.index = 0;
        return _this;
    }
    /**
     * @return {?}
     */
    HistogramComponent.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
        var _this = this;
        /** @type {?} */
        var res;
        if (this.level <= 1) {
            if (this.httpmethod && this.httpurl) {
                this.myservice.fetchUrlData(this.httpurl, this.httpmethod).subscribe(function (response) {
                    res = response;
                    _this.httpresponse = response;
                }, function (error) {
                }, function () {
                    setTimeout(function () {
                        _this.datahisto = [];
                        _this.datahisto = _this.getResponseData(res);
                        _this.transformData();
                        _this.plotXaxis();
                        _this.plotYaxis();
                        _this.tooltipData();
                        _this.dataforChart();
                        _this.transformData1(_this.finaldataarray);
                        _this.plotChart();
                    }, 0);
                });
            }
            else if (this.datahisto) {
                setTimeout(function () {
                    _this.datahisto = _this.getResponseData(_this.datahisto);
                    _this.transformData();
                    _this.plotXaxis();
                    _this.plotYaxis();
                    _this.tooltipData();
                    _this.dataforChart();
                    _this.transformData1(_this.finaldataarray);
                    _this.plotChart();
                }, 0);
            }
        }
    };
    /**
     * @param {?} data
     * @return {?}
     */
    HistogramComponent.prototype.fetchData = /**
     * @param {?} data
     * @return {?}
     */
    function (data) {
        var _this = this;
        /** @type {?} */
        var requestJson;
        /** @type {?} */
        var key = this.drillabledatakey;
        if (this.drillabledatakey.length) {
            /** @type {?} */
            var drillabledata = this.getMultipleDrillbleKeyData(data, key);
            requestJson = drillabledata;
        }
        else {
            requestJson = data;
        }
        if (this.httpmethod && this.httpurl) {
            this.myservice.postfetchData(this.httpurl, this.httpmethod, requestJson).subscribe(function (response) {
                _this.httpresponse = response;
            }, function (error) {
            }, function () {
                setTimeout(function () {
                    //this.data = this.getResponseData(resp);
                    _this.drawChart();
                }, 0);
            });
        }
    };
    /**
     * @return {?}
     */
    HistogramComponent.prototype.drawChart = /**
     * @return {?}
     */
    function () {
        var _this = this;
        setTimeout(function () {
            _this.datahisto = _this.getResponseData(_this.httpresponse);
            _this.transformData();
            _this.plotXaxis();
            _this.plotYaxis();
            _this.tooltipData();
            _this.dataforChart();
            _this.transformData1(_this.finaldataarray);
            _this.plotChart();
        }, 0);
    };
    /**
     * @param {?} httpResponse
     * @return {?}
     */
    HistogramComponent.prototype.getResponseData = /**
     * @param {?} httpResponse
     * @return {?}
     */
    function (httpResponse) {
        /** @type {?} */
        var responsedata = httpResponse;
        if (this.datareader != null) {
            /** @type {?} */
            var dr = this.datareader.split('.');
            try {
                for (var dr_1 = __values(dr), dr_1_1 = dr_1.next(); !dr_1_1.done; dr_1_1 = dr_1.next()) {
                    var ir = dr_1_1.value;
                    responsedata = responsedata[ir];
                }
            }
            catch (e_1_1) { e_1 = { error: e_1_1 }; }
            finally {
                try {
                    if (dr_1_1 && !dr_1_1.done && (_a = dr_1.return)) _a.call(dr_1);
                }
                finally { if (e_1) throw e_1.error; }
            }
        }
        else {
            responsedata = httpResponse;
        }
        return responsedata;
        var e_1, _a;
    };
    /**
     * @param {?} data1
     * @return {?}
     */
    HistogramComponent.prototype.transformData1 = /**
     * @param {?} data1
     * @return {?}
     */
    function (data1) {
        var _this = this;
        this.keyArray = [];
        this.legendArray = [];
        data1.forEach(function (element, i) {
            if (i == 0) {
                element.forEach(function (innerelement, index) {
                    if (index > 0) {
                        _this.legendArray[innerelement] = { 'data': [] };
                        _this.keyArray.push(innerelement);
                    }
                    else if (index == 0) {
                        _this.xaxis = innerelement;
                    }
                });
            }
        });
        /** @type {?} */
        var tempinnerarray;
        tempinnerarray = [];
        data1.forEach(function (element, index) {
            if (index > 0) {
                /** @type {?} */
                var obj_1 = {};
                element.forEach(function (innerelement, innerindex) {
                    if (innerindex >= 0) {
                        /** @type {?} */
                        var key = _this.keyArray[innerindex - 1];
                        obj_1[key] = element[innerindex];
                        /** @type {?} */
                        var legenddata = _this.legendArray[key];
                        if (legenddata) {
                            legenddata.data.push({ 'value': element[innerindex], 'label': element[0] });
                        }
                    }
                });
                tempinnerarray.push(obj_1);
            }
        });
        this.data = [];
        tempinnerarray.forEach(function (element) {
            _this.data.push(element);
        });
        this.legends = [];
        /** @type {?} */
        var element = this.datahisto[0];
        /** @type {?} */
        var object = { 'label': element[1] + " " + "of" + " " + element[0], 'color': this.color };
        this.legends.push(object);
    };
    /**
     * @return {?}
     */
    HistogramComponent.prototype.plotChart = /**
     * @return {?}
     */
    function () {
        var _this = this;
        /** @type {?} */
        var tooltip = this.toolTip(d3);
        /** @type {?} */
        var data;
        data = this.data;
        /** @type {?} */
        var series;
        series = [];
        series = stack().keys(this.keyArray)
            .offset(stackOffsetDiverging)(this.data);
        /** @type {?} */
        var i = 0;
        /** @type {?} */
        var tempdata;
        tempdata = [];
        tempdata = series;
        tempdata.forEach(function (element) {
            element.forEach(function (innerelement) {
                /** @type {?} */
                var singletooltip = [];
                singletooltip.push(innerelement.data.tooltipdata[i]);
                innerelement.push(singletooltip);
            });
            i++;
        });
        /** @type {?} */
        var chartdata = [];
        for (i = 0; i < tempdata.length - 1; i++) {
            chartdata.push(tempdata[i]);
        }
        if (this.resizeflag == false) {
            if (this.chartId) {
                this.svgwidth = this.chartId.nativeElement.offsetWidth;
            }
            else {
                this.svgwidth = this.svgwidth;
            }
        }
        /** @type {?} */
        var margin = { top: 20, right: 20, bottom: 50, left: 60 };
        /** @type {?} */
        var width = this.svgwidth - margin.left - margin.right;
        /** @type {?} */
        var height = this.svgheight - margin.top - margin.bottom;
        //const height = +svg.attr("height") - margin.top - margin.bottom;
        /** @type {?} */
        var x;
        /** @type {?} */
        var y;
        this.svg = select("#" + this.componentId)
            .attr("width", width + margin.left + margin.right)
            .attr("height", height + margin.top + margin.bottom)
            .append("g")
            .attr("transform", "translate(" + margin.left + "," + margin.top + ")");
        /** @type {?} */
        var barWidth = (width / this.chartData.length);
        x = scalePoint()
            .domain(this.xaxisArray, function (d) { return d; })
            .rangeRound([0, width]);
        y = scaleLinear().rangeRound([height, 0]);
        y.domain([0, max(this.arrayofLength)]);
        /** @type {?} */
        var z = scaleOrdinal(schemeCategory10);
        this.arrayofLength = [];
        // add x axis to svg
        if (this.device.IsDesktop() == true) {
            this.svg.append("g")
                .attr("transform", "translate(0," + height + ")")
                .call(axisBottom(x));
        }
        else {
            this.svg.append("g")
                .attr("transform", "translate(0," + height + ")")
                .call(axisBottom(x)).
                selectAll("text")
                .attr("y", 0)
                .attr("x", 9)
                .attr("dy", ".35em")
                .attr("transform", "rotate(60)")
                .style("text-anchor", "start");
        }
        /** @type {?} */
        var horizontalpadding = 0.05;
        //add y axis to svg
        this.svg.append("g")
            .call(axisLeft(y));
        this.plotLine(this.svg, x, y, height, width);
        /** @type {?} */
        var histogramBar = this.svg.append("g")
            .selectAll("g")
            .data(chartdata)
            .enter().append("g")
            .attr("fill", this.color)
            .selectAll("rect")
            .data(function (d) {
            return d;
        });
        /** @type {?} */
        var histogramBar1 = this.svg.append("g")
            .selectAll("g")
            .data(chartdata)
            .enter().append("g")
            .selectAll("labels")
            .data(function (d) {
            return d;
        });
        histogramBar.enter().append("rect")
            .attr("width", barWidth - 1)
            .attr("y", function (d, index) {
            return y(d[1]);
        })
            .attr("cursor", "pointer")
            .attr("height", function (d, index) {
            return Math.abs(y(d[0]) - y(d[1] - horizontalpadding));
        })
            .attr("transform", function (d, i) {
            /** @type {?} */
            var translate = [barWidth * i, 0];
            return "translate(" + translate + ")";
        })
            .on("mouseover", function (d) {
            return tooltip.style("visibility", "visible");
        }).on("mousemove", function (d) {
            /** @type {?} */
            var data = d[2];
            return tooltip.html(_this.setKey(data[0]))
                .style("top", (event$1.pageY - 10) + "px")
                .style("left", (event$1.pageX + 10) + "px");
        }).on("mouseout", function (d) {
            return tooltip.style("visibility", "hidden");
        })
            .on("click", function (d) {
            /** @type {?} */
            var clickdata = d[2];
            _this.histogramClick(clickdata[0]);
            _this.fordrillableClick(_this, d, event);
            return tooltip.style("visibility", "hidden");
        });
        if (this.labelflag) {
            histogramBar1.enter()
                .append("text")
                .style("font-weight", "bold")
                .attr("text-anchor", "middle")
                .attr("fill", function (d) {
                if (_this.labelcolor.length > 0) {
                    return _this.labelcolor;
                }
                else {
                    return "black";
                }
            })
                .attr("y", function (d, i) {
                return y(d[1]);
            })
                .text(function (d) {
                /** @type {?} */
                var data;
                /** @type {?} */
                var data2;
                data = d[2];
                data2 = data[0];
                if (data2) {
                    return data2.value;
                }
                else {
                    return null;
                }
            })
                .attr("transform", function (d, i) {
                /** @type {?} */
                var translate = [((barWidth * i) + barWidth / 2), (Math.abs(y(d[0]) - y(d[1] - horizontalpadding)))];
                return "translate(" + translate + ")";
            });
        }
        //  .append("label")
        // //  .attr("width", barWidth - 1)
        //  .attr("y", (d, index) => {
        //    return y(d[1]);
        //  })
        // ---------------------------------------------------------
        //   this.svg.append("g")
        //   .selectAll("g")
        //   .data( chartdata)
        //   .enter( ).append("g")
        //   // .attr("fill", this.color)
        //   // .selectAll("rect")
        //   .data((d) => {
        //     return d;
        //   })
        //   histogramBar.enter(  )
        //   .append("text")
        //   // .attr("width", barWidth - 1)
        //   .attr("y", (d, index) => {
        //     return y(d[1]);
        //   })
        //    .attr("height", (d, index) => {
        //     return Math.abs(y(d[0]) - y(d[1] - horizontalpadding));
        //   })
        //   .attr("transform", function (d, i) {
        //     var translate = [barWidth * i, 0];
        //     return "translate(" + translate + ")";
        //   })
        //   .text(function(d){
        //     console.log("aksa");
        //       return "aksa";
        //   })
        //   .style("font-weight","bold")
        // .attr("text-anchor", "middle")
        // .attr("fill", (d)=>{
        //     return "black";
        // });
    };
    /**
     * @param {?} obj
     * @return {?}
     */
    HistogramComponent.prototype.histogramClick = /**
     * @param {?} obj
     * @return {?}
     */
    function (obj) {
        /** @type {?} */
        var object = {};
        /** @type {?} */
        var data = this.datahisto[0];
        /** @type {?} */
        var label1 = data[1];
        /** @type {?} */
        var label2 = data[0];
        if (obj.label.length) {
            object[label2 + ":"] = obj.label;
            object[label1 + ":"] = obj.value;
        }
        this.chartClick(object);
    };
    /**
     * @param {?} event
     * @return {?}
     */
    HistogramComponent.prototype.legendClick = /**
     * @param {?} event
     * @return {?}
     */
    function (event) {
        this.onLegendClick.emit(this.datahisto);
    };
    /**
     * @return {?}
     */
    HistogramComponent.prototype.transformData = /**
     * @return {?}
     */
    function () {
        var _this = this;
        this.array = [];
        this.values = [];
        this.datahisto.forEach(function (element) {
            _this.values.push(element[1]);
        });
        for (var i = 1; i < this.values.length; i++) {
            this.array.push(this.values[i]);
        }
    };
    /**
     * @return {?}
     */
    HistogramComponent.prototype.plotXaxis = /**
     * @return {?}
     */
    function () {
        this.xaxisArray = [];
        this.xaxisArray.push(0);
        /** @type {?} */
        var newvalue = 0;
        /** @type {?} */
        var value = Math.ceil(max(this.array));
        if (value % 10 == 0) {
            value = value;
        }
        else {
            value = (10 - value % 10) + value;
        }
        /** @type {?} */
        var quotient = value / 5;
        while (newvalue < value) {
            newvalue = newvalue + quotient;
            this.xaxisArray.push(newvalue);
        }
    };
    /**
     * @return {?}
     */
    HistogramComponent.prototype.plotYaxis = /**
     * @return {?}
     */
    function () {
        var _this = this;
        /** @type {?} */
        var tempvalue = 0;
        /** @type {?} */
        var lengthofArray = 0;
        /** @type {?} */
        var lengthcount = 0;
        /** @type {?} */
        var templength = 0;
        /** @type {?} */
        var newvalue = 0;
        this.yaxisArray = [];
        this.histogramarray = [];
        this.lengtharray = [];
        this.histogramdata = [];
        this.arrayofLength = [];
        this.chartData = [];
        this.xaxisArray.forEach(function (element1) {
            _this.yaxisArray = [];
            _this.array.forEach(function (element2) {
                if (tempvalue < element2 && element2 <= element1) {
                    _this.yaxisArray.push(element2);
                }
                lengthofArray = _this.yaxisArray.length;
            });
            if (templength > lengthofArray) {
                lengthcount = templength;
            }
            else {
                lengthcount = lengthofArray;
            }
            templength = lengthcount;
            tempvalue = element1;
            //this.histogramarray.push(this.yaxisArray);
            _this.lengtharray.push(lengthofArray);
        });
        /** @type {?} */
        var value = Math.ceil(templength);
        /** @type {?} */
        var quotient = value / 5;
        while (newvalue <= value) {
            newvalue = newvalue + quotient;
            this.yaxisData.push(newvalue);
        }
        for (var i = 1; i < this.histogramarray.length; i++) {
            this.histogramdata.push(this.histogramarray[i]);
        }
        for (var i = 1; i < this.lengtharray.length; i++) {
            this.arrayofLength.push(this.lengtharray[i]);
        }
        for (var i = 0; i < this.arrayofLength.length; i++) {
            /** @type {?} */
            var data = {};
            data["value"] = this.arrayofLength[i];
            this.chartData.push(data);
        }
        this.array = [];
    };
    /**
     * @return {?}
     */
    HistogramComponent.prototype.resize = /**
     * @return {?}
     */
    function () {
        this.svgwidth = 0;
        this.svg.selectAll("*").remove();
        this.resizeflag = true;
        this.svgwidth = this.divid.nativeElement.offsetWidth;
        this.transformData();
        this.plotXaxis();
        this.plotYaxis();
        this.tooltipData();
        this.dataforChart();
        this.transformData1(this.finaldataarray);
        this.plotChart();
    };
    /**
     * @return {?}
     */
    HistogramComponent.prototype.dataforChart = /**
     * @return {?}
     */
    function () {
        this.finaldataarray = [];
        /** @type {?} */
        var initialArray = [];
        /** @type {?} */
        var temparray = [];
        initialArray.push('level');
        /** @type {?} */
        var maxElement = Math.max.apply(null, this.arrayofLength);
        /** @type {?} */
        var maxlength = maxElement;
        /** @type {?} */
        var n = 1;
        while (n <= maxElement) {
            initialArray.push('' + n);
            n++;
        }
        initialArray.push('tooltipdata');
        /** @type {?} */
        var length = this.arrayofLength.length;
        /** @type {?} */
        var number = 1;
        /** @type {?} */
        var j = 0;
        this.finaldataarray.push(initialArray);
        for (var i = 0; i < this.arrayofLength.length; i++) {
            /** @type {?} */
            var value = this.arrayofLength[i];
            /** @type {?} */
            var tempvalue = value;
            temparray = [];
            temparray.push('' + i);
            maxElement = maxlength;
            if (value > 0) {
                while (value != 0) {
                    temparray.push(number);
                    value--;
                }
                maxElement = maxElement - tempvalue;
                while (maxElement != 0) {
                    temparray.push(0);
                    maxElement--;
                }
            }
            else {
                while (maxElement != 0) {
                    temparray.push(0);
                    maxElement--;
                }
            }
            temparray.push(this.tooltipArray[j]);
            this.finaldataarray.push(temparray);
            j++;
        }
    };
    /**
     * @return {?}
     */
    HistogramComponent.prototype.tooltipData = /**
     * @return {?}
     */
    function () {
        /** @type {?} */
        var arrayofTooltip = [];
        /** @type {?} */
        var obj = { "label": "", "value": "" };
        this.datahisto.forEach(function (element) {
            obj = { "label": "", "value": "" };
            obj["label"] = element[0];
            obj["value"] = element[1];
            arrayofTooltip.push(obj);
        });
        /** @type {?} */
        var value1 = this.xaxisArray[0];
        /** @type {?} */
        var tooltipdata = [];
        var _loop_1 = function (j) {
            tooltipdata = [];
            /** @type {?} */
            var value2 = this_1.xaxisArray[j];
            arrayofTooltip.forEach(function (element) {
                if (value1 <= element.value && element.value <= value2) {
                    /** @type {?} */
                    var tooltipobj = { "label": "", "value": "" };
                    tooltipobj["label"] = element["label"];
                    tooltipobj["value"] = element["value"];
                    tooltipdata.push(tooltipobj);
                }
            });
            this_1.tooltipArray.push(tooltipdata);
            value1 = value2;
        };
        var this_1 = this;
        for (var j = 1; j < this.xaxisArray.length; j++) {
            _loop_1(j);
        }
    };
    /**
     * @param {?} obj
     * @return {?}
     */
    HistogramComponent.prototype.setKey = /**
     * @param {?} obj
     * @return {?}
     */
    function (obj) {
        /** @type {?} */
        var object = {};
        /** @type {?} */
        var data = this.datahisto[0];
        /** @type {?} */
        var label1 = data[1];
        /** @type {?} */
        var label2 = data[0];
        object[label2 + ":"] = obj.label;
        object[label1 + ":"] = obj.value;
        return (this.toolTipForBar(object));
    };
    /**
     * @param {?} g
     * @param {?} x
     * @param {?} y
     * @param {?} height
     * @param {?} width
     * @return {?}
     */
    HistogramComponent.prototype.plotLine = /**
     * @param {?} g
     * @param {?} x
     * @param {?} y
     * @param {?} height
     * @param {?} width
     * @return {?}
     */
    function (g, x, y, height, width) {
        if (this.hScale) {
            g.append('g')
                .attr("color", "lightgrey")
                .call(axisLeft(y)
                .tickSize(-width).tickFormat(''));
        }
    };
    HistogramComponent.decorators = [
        { type: Component, args: [{
                    selector: 'amexio-d3-chart-histogram',
                    template: "<div   *ngIf=\"drillableFlag\" #divid (window:resize)=\"resize()\" >\n<table style=\"width: 100%;\" #chartId >\n        <tr>\n            <td colspan=\"2\" style=\"font-size: 18px; font-weight: bold; \"> {{title}} </td>\n        </tr>\n        <tr>\n            <td>\n                <svg [attr.height]=\"svgheight\" [attr.width]=\"svgwidth\" [attr.id]=\"componentId\">\n                </svg>\n            </td>\n        </tr>\n        <tr>\n            <td style=\"display: block; padding: 5px;\">\n                <amexio-d3-legend *ngIf=\"legend\" [horizontal]=\"true\" (onClick)=\"legendClick($event)\" [data]=\"legends\" style=\"height:100%;\"></amexio-d3-legend>\n            </td>\n        </tr>\n    </table>\n</div>\n",
                    styles: [".bar{background-color:#3943cf;padding:.02px}"]
                },] },
    ];
    HistogramComponent.ctorParameters = function () { return [
        { type: CommanDataService },
        { type: DeviceQueryService }
    ]; };
    HistogramComponent.propDecorators = {
        svgwidth: [{ type: Input, args: ['width',] }],
        svgheight: [{ type: Input, args: ['height',] }],
        color: [{ type: Input, args: ['color',] }],
        datahisto: [{ type: Input, args: ['data',] }],
        labelflag: [{ type: Input, args: ['label',] }],
        labelcolor: [{ type: Input, args: ['label-color',] }],
        hScale: [{ type: Input, args: ['horizontal-scale',] }],
        chartId: [{ type: ViewChild, args: ['chartId',] }],
        divid: [{ type: ViewChild, args: ['divid',] }],
        datareader: [{ type: Input, args: ['data-reader',] }],
        level: [{ type: Input, args: ['level',] }],
        target: [{ type: Input, args: ['target',] }],
        drillabledatakey: [{ type: Input, args: ['drillable-data',] }]
    };
    return HistogramComponent;
}(AmexioD3BaseChartComponent));

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingReturn,uselessCode} checked by tsc
 */
var ScatterchartComponent = /** @class */ (function (_super) {
    __extends(ScatterchartComponent, _super);
    function ScatterchartComponent(myservice, device) {
        var _this = _super.call(this, 'scatter') || this;
        _this.myservice = myservice;
        _this.device = device;
        _this.svgwidth = 300;
        _this.svgheight = 300;
        _this.color = "blue";
        _this.labelcolor = "black";
        _this.labelflag = false;
        _this.level = 0;
        _this.drillabledatakey = [];
        _this.hScale = true;
        _this.vScale = true;
        _this.drillableFlag = true;
        _this.resizeflag = false;
        _this.keyArray = [];
        _this.transformeddata = [];
        _this.legendarray = [];
        return _this;
    }
    /**
     * @return {?}
     */
    ScatterchartComponent.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
        var _this = this;
        this.dataFormatted = [];
        if (this.level <= 1) {
            /** @type {?} */
            var resp_1;
            if (this.httpmethod && this.httpurl) {
                this.myservice.fetchUrlData(this.httpurl, this.httpmethod).subscribe(function (response) {
                    resp_1 = response;
                    _this.httpresponse = resp_1;
                }, function (error) {
                }, function () {
                    setTimeout(function () {
                        _this.data = _this.getResponseData(resp_1);
                        _this.dataFormatted = _this.data;
                        _this.transformData(_this.dataFormatted);
                        _this.colorGeneration();
                        _this.legendCreation();
                        _this.plotScatterChart();
                    }, 0);
                });
            }
            else if (this.data) {
                setTimeout(function () {
                    _this.dataFormatted = _this.data;
                    _this.data = _this.getResponseData(_this.data);
                    _this.transformData(_this.data);
                    _this.colorGeneration();
                    _this.legendCreation();
                    _this.plotScatterChart();
                }, 0);
            }
        }
    };
    /**
     * @param {?} data
     * @return {?}
     */
    ScatterchartComponent.prototype.fetchData = /**
     * @param {?} data
     * @return {?}
     */
    function (data) {
        var _this = this;
        /** @type {?} */
        var requestJson;
        /** @type {?} */
        var key = this.drillabledatakey;
        if (this.drillabledatakey.length) {
            /** @type {?} */
            var drillabledata = this.getMultipleDrillbleKeyData(data, key);
            requestJson = drillabledata;
        }
        else {
            requestJson = data;
        }
        if (this.httpmethod && this.httpurl) {
            this.myservice.postfetchData(this.httpurl, this.httpmethod, requestJson).subscribe(function (response) {
                _this.httpresponse = response;
            }, function (error) {
            }, function () {
                setTimeout(function () {
                    //this.data = this.getResponseData(resp);
                    _this.drawChart();
                }, 0);
            });
        }
    };
    /**
     * @return {?}
     */
    ScatterchartComponent.prototype.drawChart = /**
     * @return {?}
     */
    function () {
        var _this = this;
        setTimeout(function () {
            _this.data = _this.getResponseData(_this.httpresponse);
            _this.dataFormatted = _this.data;
            _this.transformData(_this.data);
            _this.colorGeneration();
            _this.legendCreation();
            _this.plotScatterChart();
        }, 0);
    };
    // Method to transform data in key value pair 
    // Method to transform data in key value pair 
    /**
     * @param {?} data
     * @return {?}
     */
    ScatterchartComponent.prototype.transformData = 
    // Method to transform data in key value pair 
    /**
     * @param {?} data
     * @return {?}
     */
    function (data) {
        var _this = this;
        this.keyArray = data[0];
        data.forEach(function (element, index) {
            if (index > 0) {
                /** @type {?} */
                var DummyObject_1 = {};
                element.forEach(function (individualvalue, keyindex) {
                    DummyObject_1[_this.keyArray[keyindex]] = individualvalue;
                });
                _this.transformeddata.push(DummyObject_1);
            }
        });
        this.data = this.transformeddata;
    };
    // Method get response data using data reader
    // Method get response data using data reader
    /**
     * @param {?} httpResponse
     * @return {?}
     */
    ScatterchartComponent.prototype.getResponseData = 
    // Method get response data using data reader
    /**
     * @param {?} httpResponse
     * @return {?}
     */
    function (httpResponse) {
        /** @type {?} */
        var responsedata = httpResponse;
        if (this.datareader != null) {
            /** @type {?} */
            var dr = this.datareader.split('.');
            try {
                for (var dr_1 = __values(dr), dr_1_1 = dr_1.next(); !dr_1_1.done; dr_1_1 = dr_1.next()) {
                    var ir = dr_1_1.value;
                    responsedata = responsedata[ir];
                }
            }
            catch (e_1_1) { e_1 = { error: e_1_1 }; }
            finally {
                try {
                    if (dr_1_1 && !dr_1_1.done && (_a = dr_1.return)) _a.call(dr_1);
                }
                finally { if (e_1) throw e_1.error; }
            }
        }
        else {
            responsedata = httpResponse;
        }
        return responsedata;
        var e_1, _a;
    };
    // Method to plot d3 chart
    // Method to plot d3 chart
    /**
     * @return {?}
     */
    ScatterchartComponent.prototype.plotScatterChart = 
    // Method to plot d3 chart
    /**
     * @return {?}
     */
    function () {
        var _this = this;
        if (this.resizeflag == false) {
            if (this.chartId) {
                this.svgwidth = this.chartId.nativeElement.offsetWidth;
            }
            else {
                this.svgwidth = this.svgwidth;
            }
        }
        /** @type {?} */
        var tooltip = this.toolTip(d3);
        /** @type {?} */
        var margin = { top: 20, right: 20, bottom: 30, left: 60 };
        /** @type {?} */
        var width = this.svgwidth - margin.left - margin.right;
        /** @type {?} */
        var height = this.svgheight - margin.top - margin.bottom;
        /** @type {?} */
        var x;
        /** @type {?} */
        var y;
        x = scaleLinear()
            .rangeRound([0, width]);
        y = scaleLinear()
            .rangeRound([height, 0]);
        /** @type {?} */
        var xAxis = axisBottom(x);
        /** @type {?} */
        var yAxis = axisLeft(y);
        this.svg = select("#" + this.componentId)
            .attr("width", width + margin.left + margin.right)
            .attr("height", height + margin.top + margin.bottom)
            .append("g")
            .attr("transform", "translate(" + margin.left + "," + margin.top + ")");
        x.domain([0, max(this.data, function (d) { return d[Object.keys(d)[0]]; })]);
        y.domain([0, max(this.data, function (d) { return d[Object.keys(d)[1]]; })]);
        if (this.device.IsDesktop() == true) {
            this.svg.append("g")
                .attr("transform", "translate(0," + height + ")")
                .call(xAxis)
                .append("text")
                .attr("y", 0)
                .attr("x", 9)
                .attr("dy", ".35em")
                .style("text-anchor", "start");
        }
        else {
            this.svg.append("g")
                .attr("class", "x axis")
                .attr("transform", "translate(0," + height + ")")
                .call(xAxis).
                selectAll("text")
                .attr("y", 0)
                .attr("x", 9)
                .attr("dy", ".35em")
                .attr("transform", "rotate(60)")
                .style("text-anchor", "start");
        }
        // this.svg.append("g")
        //   .attr("class", "x axis")
        //   .attr("transform", "translate(0," + height + ")")
        //   .call(xAxis)
        //   .append("text")
        //   .attr("class", "label")
        //   .attr("x", width)
        //   .attr("y", -6)
        //   .style("text-anchor", "end");
        this.svg.append("g")
            .attr("class", "y axis")
            .call(yAxis)
            .append("text")
            .attr("class", "label")
            .attr("transform", "rotate(-90)")
            .attr("y", 6)
            .attr("dy", ".71em")
            .style("text-anchor", "end");
        if (this.dataFormatted[0].length == 2) {
            this.plotLine(this.svg, x, y, height, width);
            this.svg.selectAll(".dot")
                .data(this.data)
                .enter().append("circle")
                .attr("class", "dot")
                .attr("fill", this.color)
                .attr("r", 4.5)
                .attr("cursor", "pointer")
                .attr("cx", function (d) {
                debugger;
                return x(d[Object.keys(d)[0]]);
            })
                .attr("cy", function (d) { return y(d[Object.keys(d)[1]]); })
                .on("mouseover", function (d) {
                return tooltip.style("visibility", "visible");
            })
                .on("mousemove", function (d) {
                return tooltip.html(_this.formTooltipData(d))
                    .style("top", (event$1.pageY - 10) + "px")
                    .style("left", (event$1.pageX + 10) + "px");
            })
                .on("mouseout", function (d) {
                return tooltip.style("visibility", "hidden");
            })
                .on("click", function (d) {
                _this.scatterChartClick(d);
                _this.fordrillableClick(_this, d, event);
                return tooltip.style("visibility", "hidden");
            });
            // ------------------------------------------------------------------------------
            if (this.labelflag) {
                this.svg.selectAll("labels")
                    .data(this.data)
                    .enter().append("text")
                    .style("font-weight", "bold")
                    .attr("text-anchor", "middle")
                    .attr("vertical-align", "middle")
                    .attr("margin-top", margin.top)
                    .attr("fill", function (d) {
                    if (_this.labelcolor.length > 0) {
                        return _this.labelcolor;
                    }
                    else {
                        return "black";
                    }
                })
                    .attr("x", function (d, i) {
                    return x(d[Object.keys(d)[0]]) + 11;
                })
                    .attr("y", function (d, i) {
                    return y(d[Object.keys(d)[1]]);
                })
                    .text(function (d) {
                    return d[Object.keys(d)[1]];
                });
            }
        }
        else {
            this.plotLine(this.svg, x, y, height, width);
            this.svg.selectAll(".dot")
                .data(this.transformeddata)
                .enter().append("circle")
                .attr("class", "dot")
                .attr("r", 4.5)
                .attr("cursor", "pointer")
                .attr("cx", function (d) {
                return x(d[Object.keys(d)[0]]);
            })
                .attr("cy", function (d) { return y(d[Object.keys(d)[1]]); })
                .attr("fill", function (d) { return d[Object.keys(d)[4]]; })
                .on("mouseover", function (d) {
                return tooltip.style("visibility", "visible");
            })
                .on("mousemove", function (d) {
                return tooltip.html(_this.formTooltipData(d))
                    .style("top", (event$1.pageY - 10) + "px")
                    .style("left", (event$1.pageX + 10) + "px");
            })
                .on("mouseout", function (d) {
                return tooltip.style("visibility", "hidden");
            })
                .on("click", function (d) {
                _this.scatterChartClick(d);
                _this.fordrillableClick(_this, d, event);
                return tooltip.style("visibility", "hidden");
            });
            if (this.labelflag) {
                this.svg.selectAll("labels")
                    .data(this.data)
                    .enter().append("text")
                    .style("font-weight", "bold")
                    .attr("text-anchor", "middle")
                    .attr("vertical-align", "middle")
                    .attr("margin-top", margin.top)
                    .attr("fill", function (d) {
                    if (_this.labelcolor.length > 0) {
                        return _this.labelcolor;
                    }
                    else {
                        return "black";
                    }
                })
                    .attr("x", function (d, i) {
                    return x(d[Object.keys(d)[0]]) + 11;
                })
                    .attr("y", function (d, i) {
                    return y(d[Object.keys(d)[1]]);
                })
                    .text(function (d) {
                    return d[Object.keys(d)[1]];
                });
            }
        }
    };
    // Method to form tooltip data
    // Method to form tooltip data
    /**
     * @param {?} tooltipData
     * @return {?}
     */
    ScatterchartComponent.prototype.formTooltipData = 
    // Method to form tooltip data
    /**
     * @param {?} tooltipData
     * @return {?}
     */
    function (tooltipData) {
        /** @type {?} */
        var object = {};
        try {
            for (var _a = __values(Object.entries(tooltipData)), _b = _a.next(); !_b.done; _b = _a.next()) {
                var _c = __read(_b.value, 2), key = _c[0], value = _c[1];
                if (key != 'color') {
                    object[key] = value;
                }
            }
        }
        catch (e_2_1) { e_2 = { error: e_2_1 }; }
        finally {
            try {
                if (_b && !_b.done && (_d = _a.return)) _d.call(_a);
            }
            finally { if (e_2) throw e_2.error; }
        }
        return this.toolTipForBar(object);
        var e_2, _d;
    };
    // Method on chart click
    // Method on chart click
    /**
     * @param {?} event
     * @return {?}
     */
    ScatterchartComponent.prototype.scatterChartClick = 
    // Method on chart click
    /**
     * @param {?} event
     * @return {?}
     */
    function (event) {
        /** @type {?} */
        var object = {};
        try {
            for (var _a = __values(Object.entries(event)), _b = _a.next(); !_b.done; _b = _a.next()) {
                var _c = __read(_b.value, 2), key = _c[0], value = _c[1];
                object[key] = value;
            }
        }
        catch (e_3_1) { e_3 = { error: e_3_1 }; }
        finally {
            try {
                if (_b && !_b.done && (_d = _a.return)) _d.call(_a);
            }
            finally { if (e_3) throw e_3.error; }
        }
        this.chartClick(object);
        var e_3, _d;
    };
    // method to create Legend
    // method to create Legend
    /**
     * @return {?}
     */
    ScatterchartComponent.prototype.legendCreation = 
    // method to create Legend
    /**
     * @return {?}
     */
    function () {
        var _this = this;
        if (this.dataFormatted[0].length == 2) {
            this.legends = [];
            /** @type {?} */
            var element = this.dataFormatted[0];
            /** @type {?} */
            var object = { 'label': element[0] + " " + "vs" + " " + element[1], 'color': this.color };
            this.legends.push(object);
        }
        else {
            this.legends = [];
            this.legendarray.forEach(function (element) {
                /** @type {?} */
                var legendobject = {};
                legendobject['label'] = element.label;
                legendobject['color'] = element.color;
                _this.legends.push(legendobject);
            });
        }
    };
    // Method on Legend Click
    // Method on Legend Click
    /**
     * @param {?} legendevent
     * @return {?}
     */
    ScatterchartComponent.prototype.onScatterLegendClick = 
    // Method on Legend Click
    /**
     * @param {?} legendevent
     * @return {?}
     */
    function (legendevent) {
        var _this = this;
        if (this.dataFormatted[0].length == 2) {
            this.onLegendClick.emit(this.data);
        }
        else {
            this.legendarray.forEach(function (element) {
                if (legendevent.label == element.label) {
                    _this.legendClick(element.value);
                }
            });
        }
    };
    // Method for responsiveness
    // Method for responsiveness
    /**
     * @return {?}
     */
    ScatterchartComponent.prototype.resize = 
    // Method for responsiveness
    /**
     * @return {?}
     */
    function () {
        this.svgwidth = 0;
        this.svg.selectAll("*").remove();
        this.resizeflag = true;
        this.svgwidth = this.divid.nativeElement.offsetWidth;
        this.plotScatterChart();
    };
    /**
     * @param {?} g
     * @param {?} x
     * @param {?} y
     * @param {?} height
     * @param {?} width
     * @return {?}
     */
    ScatterchartComponent.prototype.plotLine = /**
     * @param {?} g
     * @param {?} x
     * @param {?} y
     * @param {?} height
     * @param {?} width
     * @return {?}
     */
    function (g, x, y, height, width) {
        if (this.vScale) {
            g.append('g')
                .attr("color", "lightgrey")
                .attr('transform', 'translate(0,' + height + ')')
                .call(axisBottom(x).
                tickSize(-this.width).tickFormat(''));
        }
        if (this.hScale) {
            g.append('g')
                .attr("color", "lightgrey")
                .call(axisLeft(y)
                .tickSize(-width).tickFormat(''));
        }
    };
    /**
     * @return {?}
     */
    ScatterchartComponent.prototype.colorGeneration = /**
     * @return {?}
     */
    function () {
        var _this = this;
        this.legendarray = [];
        /** @type {?} */
        var i = 0;
        /** @type {?} */
        var names = this.dataFormatted
            .map(function (e) { return e[2]; })
            .filter(function (e, i, a) { return a.indexOf(e) === i; });
        var _loop_1 = function (j) {
            /** @type {?} */
            var value = [];
            /** @type {?} */
            var obj = { "label": "", "color": "", "value": [] };
            this_1.transformeddata.forEach(function (element) {
                if (element[Object.keys(element)[2]] == names[j]) {
                    element['color'] = _this.predefinedcolors[i];
                    value.push(element);
                }
            });
            obj["value"] = value;
            obj["label"] = names[j];
            obj["color"] = this_1.predefinedcolors[i];
            this_1.legendarray.push(obj);
            i++;
        };
        var this_1 = this;
        for (var j = 1; j < names.length; j++) {
            _loop_1(j);
        }
    };
    /**
     * @return {?}
     */
    ScatterchartComponent.prototype.formLegendData = /**
     * @return {?}
     */
    function () {
        var _this = this;
        this.legendData = [];
        this.legendarray.forEach(function (element) {
            /** @type {?} */
            var legendobject = {};
            legendobject['label'] = element.label;
            legendobject['color'] = element.color;
            _this.legendData.push(legendobject);
        });
    };
    ScatterchartComponent.decorators = [
        { type: Component, args: [{
                    selector: 'amexio-d3-chart-scatter',
                    template: "<div *ngIf=\"drillableFlag\" #divid (window:resize)=\"resize()\">\n    <table style=\"width: 100%;\" #chartId >\n        <tr>\n            <td colspan=\"2\" style=\"font-size: 18px; font-weight: bold; \"> {{title}} </td>\n        </tr>\n        <tr>\n            <td>\n                <svg [attr.height]=\"svgheight\" [attr.width]=\"svgwidth\" [attr.id]=\"componentId\">\n                </svg>\n            </td>\n        </tr>\n        <tr>\n            <td style=\"display: block; padding: 5px;\">\n                <amexio-d3-legend *ngIf=\"legend\" [horizontal]=\"true\" (onClick)=\"onScatterLegendClick($event)\" [data]=\"legends\" style=\"height:100%;\"></amexio-d3-legend>\n            </td>\n        </tr>\n    </table>\n</div>",
                    styles: [""]
                },] },
    ];
    ScatterchartComponent.ctorParameters = function () { return [
        { type: CommanDataService },
        { type: DeviceQueryService }
    ]; };
    ScatterchartComponent.propDecorators = {
        svgwidth: [{ type: Input, args: ['width',] }],
        svgheight: [{ type: Input, args: ['height',] }],
        color: [{ type: Input, args: ['color',] }],
        labelcolor: [{ type: Input, args: ['label-color',] }],
        labelflag: [{ type: Input, args: ['label',] }],
        chartId: [{ type: ViewChild, args: ['chartId',] }],
        divid: [{ type: ViewChild, args: ['divid',] }],
        datareader: [{ type: Input, args: ['data-reader',] }],
        level: [{ type: Input, args: ['level',] }],
        target: [{ type: Input, args: ['target',] }],
        drillabledatakey: [{ type: Input, args: ['drillable-data',] }],
        hScale: [{ type: Input, args: ['horizontal-scale',] }],
        vScale: [{ type: Input, args: ['vertical-scale',] }]
    };
    return ScatterchartComponent;
}(AmexioD3BaseChartComponent));

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingReturn,uselessCode} checked by tsc
 */
var MultiareaComponent = /** @class */ (function (_super) {
    __extends(MultiareaComponent, _super);
    function MultiareaComponent(myservice, device) {
        var _this = _super.call(this, "areachart") || this;
        _this.myservice = myservice;
        _this.device = device;
        _this.svgwidth = 300;
        _this.svgheight = 350;
        _this.level = 0;
        _this.labelcolor = "black";
        _this.labelflag = false;
        _this.drillabledatakey = [];
        _this.drillableFlag = true;
        _this.resizeflag = false;
        _this.togglelabel = false;
        _this.onLegendClick = new EventEmitter();
        _this.onTooltipClick = new EventEmitter();
        _this.hScale = true;
        _this.margin = {};
        _this.keyArray = [];
        _this.transformeddata = [];
        _this.data1 = [];
        _this.legendArray = [];
        return _this;
    }
    /**
     * @return {?}
     */
    MultiareaComponent.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
        var _this = this;
        this.togglelabel = false;
        if (this.level <= 1) {
            if (this.httpmethod && this.httpurl) {
                this.myservice.fetchUrlData(this.httpurl, this.httpmethod).subscribe(function (response) {
                    _this.httpresponse = response;
                    _this.data = _this.getResponseData(response);
                }, function (error) {
                }, function () {
                    setTimeout(function () {
                        _this.transformData(_this.data);
                        _this.initAreaChart();
                        _this.plotD3Chart();
                    }, 0);
                });
            }
            else if (this.data1) {
                setTimeout(function () {
                    _this.transformData(_this.data);
                    _this.initAreaChart();
                    _this.plotD3Chart();
                }, 0);
            }
        }
    };
    /**
     * @param {?} data
     * @return {?}
     */
    MultiareaComponent.prototype.fetchData = /**
     * @param {?} data
     * @return {?}
     */
    function (data) {
        var _this = this;
        /** @type {?} */
        var requestJson;
        /** @type {?} */
        var key = this.drillabledatakey;
        if (this.drillabledatakey.length) {
            /** @type {?} */
            var drillabledata = this.getMultipleDrillbleKeyData(data, key);
            requestJson = drillabledata;
        }
        else {
            requestJson = data;
        }
        if (this.httpmethod && this.httpurl) {
            this.myservice.postfetchData(this.httpurl, this.httpmethod, requestJson).subscribe(function (response) {
                _this.httpresponse = response;
            }, function (error) {
            }, function () {
                setTimeout(function () {
                    //this.data = this.getResponseData(resp);
                    _this.drawChart();
                }, 0);
            });
        }
    };
    /**
     * @return {?}
     */
    MultiareaComponent.prototype.drawChart = /**
     * @return {?}
     */
    function () {
        var _this = this;
        setTimeout(function () {
            _this.data = _this.getResponseData(_this.httpresponse);
            _this.transformData(_this.data);
            _this.initAreaChart();
            _this.plotD3Chart();
        }, 0);
    };
    /**
     * @return {?}
     */
    MultiareaComponent.prototype.initAreaChart = /**
     * @return {?}
     */
    function () {
        this.tooltip = this.toolTip(d3);
        if (this.resizeflag == false) {
            if (this.chartId) {
                this.svgwidth = this.chartId.nativeElement.offsetWidth;
            }
            else {
                this.svgwidth = this.svgwidth;
            }
        }
        this.margin = { top: 30, right: 44, bottom: 50, left: 30 },
            this.width = this.svgwidth - this.margin.left - this.margin.right,
            this.height = this.svgheight - this.margin.top - this.margin.bottom;
        //find max and initialize max
        this.maximumValue = this.findMaxData(this.data);
        this.x = scalePoint()
            .range([0, this.width]);
        // .padding(0.1);
        this.y = scaleLinear()
            .rangeRound([this.height, 0]);
        this.areaArray = [];
        //set x y domain
        this.areaArray = this.data.map(function (d) { return d[Object.keys(d)[0]]; });
        this.x.domain(this.areaArray);
        this.y.domain([0, this.maximumValue]);
        //initialize svg
        this.svg =
            select("#" + this.componentId)
                .attr("width", this.width + this.margin.left + this.margin.right)
                .attr("height", this.height + this.margin.top + this.margin.bottom);
        this.predefinedColors = ["#3366cc", "#dc3912", "#ff9900", "#109618", "#990099", "#0099c6", "#dd4477", "#66aa00", "#b82e2e", "#316395", "#994499", "#22aa99", "#aaaa11", "#6633cc", "#e67300", "#8b0707", "#651067", "#329262", "#5574a6", "#3b3eac"];
    };
    /**
     * @return {?}
     */
    MultiareaComponent.prototype.plotD3Chart = /**
     * @return {?}
     */
    function () {
        this.formLegendData();
        /** @type {?} */
        var counter;
        /** @type {?} */
        var g = this.svg.append("g").attr("transform", "translate(" + this.margin.left + "," + this.margin.top + ")");
        // add the X 
        if (this.device.IsDesktop() == true) {
            g.append("g")
                .attr("transform", "translate(0," + this.height + ")")
                .call(axisBottom(this.x));
        }
        else {
            g.append("g")
                .attr("transform", "translate(0," + this.height + ")")
                .call(axisBottom(this.x)).
                selectAll("text")
                .attr("y", 0)
                .attr("x", 9)
                .attr("dy", ".35em")
                .attr("transform", "rotate(60)")
                .style("text-anchor", "start");
        }
        // add the Y Axis
        g.append("g")
            .call(axisLeft(this.y));
        this.plotLine(g, this.x, this.y, this.height, this.width);
        for (counter = 1; counter < this.keyArray.length; counter++) {
            /** @type {?} */
            var innerGroup = this.svg.append("g").attr("transform", "translate(" + this.margin.left + "," + this.margin.top + ")");
            this.plotAreaChart(innerGroup, counter, this);
        }
        //call method to plot points
        /** @type {?} */
        var increment;
        for (increment = 1; increment < this.keyArray.length; increment++) {
            //plot line
            /** @type {?} */
            var innerGroup = this.svg.append("g").attr("transform", "translate(" + this.margin.left + "," + this.margin.top + ")");
            this.PlotLineDot(innerGroup, increment, this);
        } //increment for ends
    };
    /**
     * @param {?} g
     * @param {?} i
     * @param {?} thisa
     * @return {?}
     */
    MultiareaComponent.prototype.PlotLineDot = /**
     * @param {?} g
     * @param {?} i
     * @param {?} thisa
     * @return {?}
     */
    function (g, i, thisa) {
        var _this = this;
        /** @type {?} */
        var flag = this.togglelabel;
        /** @type {?} */
        var line$$1 = line()
            .x(function (d) { return thisa.x(d[Object.keys(d)[0]]); })
            .y(function (d) { return thisa.y(d[Object.keys(d)[i]]); });
        g.append("path")
            .data([thisa.data])
            .attr("fill", "none")
            .attr("stroke", thisa.predefinedcolors[i])
            .attr("stroke-width", 1.5)
            .attr("d", line$$1)
            .attr("opacity", 0.2)
            .attr("transform", 
        // "translate(" + this.margin.left + "," + 0 + ")");
        "translate(" + 0 + "," + 0 + ")");
        //----------
        g.selectAll('dot')
            .data(thisa.data)
            .enter()
            .append('circle')
            .attr('opacity', 0)
            .attr("fill", thisa.predefinedcolors[i])
            .attr("cx", function (d) { return thisa.x(d[Object.keys(d)[0]]); })
            .attr("cy", function (d) { return thisa.y(d[Object.keys(d)[i]]); })
            .attr('r', 4)
            .attr("cursor", "pointer")
            .on("mouseover", function (d) {
            _this.formTooltipData(d, i);
            return _this.tooltip.style("visibility", "visible");
        })
            .on("mousemove", function (d) {
            return _this.tooltip.html(_this.formTooltipData(d, i))
                .style("top", (event$1.pageY - 10) + "px")
                .style("left", (event$1.pageX + 10) + "px");
        })
            .on("mouseout", function (d) {
            return _this.tooltip.style("visibility", "hidden");
        })
            .style("opacity", 1)
            .on("click", function (d) {
            _this.onAreaTooltipClick(d, i);
            _this.fordrillableClick(_this, d, event);
            return _this.tooltip.style("visibility", "hidden");
            //this.chartClick(d);
        })
            .attr("transform", 
        // "translate(" + this.margin.left + "," + 0 + ")");
        "translate(" + 0 + "," + 0 + ")");
        // -----------------------------------------------------------------
        if (this.labelflag) {
            g.selectAll('labels')
                .data(thisa.data)
                .enter()
                .append('text')
                .style("font-weight", "bold")
                .attr("text-anchor", "middle")
                .attr("fill", function (d) {
                if (_this.labelcolor.length > 0) {
                    return _this.labelcolor;
                }
                else {
                    return "black";
                }
            })
                .attr("x", function (d) {
                // let length = String(d[Object.keys(d)[i]]).length
                return thisa.x(d[Object.keys(d)[0]]) + 20;
            })
                .attr("y", function (d) {
                /** @type {?} */
                var key = [Object.keys(d)[i]];
                if (flag) {
                    return thisa.y(d[key]) - 5; // fr up
                }
                else {
                    return thisa.y(d[key]) + 15;
                }
                // return thisa.y(d[Object.keys(d)[i]]);
                //  return y(d[Object.keys(d)[1]])+yTextPadding;
            })
                .text(function (d) {
                return d[Object.keys(d)[i]];
            })
                .attr("transform", "translate(" + 0 + "," + 0 + ")");
        }
        if (this.togglelabel) {
            this.togglelabel = false;
        }
        else {
            this.togglelabel = true;
        }
    };
    /**
     * @param {?} g
     * @param {?} i
     * @param {?} thisa
     * @return {?}
     */
    MultiareaComponent.prototype.plotAreaChart = /**
     * @param {?} g
     * @param {?} i
     * @param {?} thisa
     * @return {?}
     */
    function (g, i, thisa) {
        // calculate area and valueline
        // define the line
        /** @type {?} */
        var valueline = line()
            .x(function (d) {
            /** @type {?} */
            var key = [Object.keys(d)[0]];
            return thisa.x(d[key]);
        })
            .y(function (d) {
            /** @type {?} */
            var key = [Object.keys(d)[i]];
            return thisa.y(d[key]);
        });
        // add the valueline path.
        g.append("path")
            .data([this.data])
            .style("stroke", this.predefinedColors[i])
            .attr("fill", "none")
            .style("stroke-width", "2px")
            .attr("d", valueline)
            .attr("transform", 
        // "translate(" + this.margin.left + "," + 0 + ")");
        "translate(" + 0 + "," + 0 + ")");
        // define the area
        /** @type {?} */
        var area$$1 = area()
            .x(function (d) {
            /** @type {?} */
            var key = [Object.keys(d)[0]];
            return thisa.x(d[key]);
        })
            .y0(this.height)
            .y1(function (d) {
            /** @type {?} */
            var key = [Object.keys(d)[i]];
            return thisa.y(d[key]);
        });
        g.append("path")
            .data([this.data])
            .attr("d", area$$1)
            .attr("transform", 
        // "translate(" + this.margin.left + "," + 0 + ")")
        "translate(" + 0 + "," + 0 + ")")
            .style("stroke", "none")
            .attr("fill", this.predefinedColors[i])
            .style("opacity", 0.5);
    };
    /**
     * @param {?} tooltipData
     * @param {?} count
     * @return {?}
     */
    MultiareaComponent.prototype.onAreaTooltipClick = /**
     * @param {?} tooltipData
     * @param {?} count
     * @return {?}
     */
    function (tooltipData, count) {
        /** @type {?} */
        var obj = {};
        obj[this.keyArray[0]] = tooltipData[Object.keys(tooltipData)[0]];
        obj[this.keyArray[count]] = tooltipData[Object.keys(tooltipData)[count]];
        this.chartClick(obj);
    };
    /**
     * @param {?} data
     * @return {?}
     */
    MultiareaComponent.prototype.findMaxData = /**
     * @param {?} data
     * @return {?}
     */
    function (data) {
        var _this = this;
        /** @type {?} */
        var tempArray = [];
        /** @type {?} */
        var largeValues = [];
        /** @type {?} */
        var maxValue;
        //logic to search 3 largest values 
        data.forEach(function (element) {
            /** @type {?} */
            var value;
            try {
                for (var _a = __values(Object.entries(element)), _b = _a.next(); !_b.done; _b = _a.next()) {
                    var _c = __read(_b.value, 2), key = _c[0], value_1 = _c[1];
                    //exempts first column of data as it is treated as x-axis
                    if (key != _this.keyArray[0]) {
                        tempArray.push(value_1);
                    }
                } //for loop end
            }
            catch (e_1_1) { e_1 = { error: e_1_1 }; }
            finally {
                try {
                    if (_b && !_b.done && (_d = _a.return)) _d.call(_a);
                }
                finally { if (e_1) throw e_1.error; }
            }
            value = _this.findLargestValue(tempArray);
            largeValues.push(value);
            var e_1, _d;
        });
        maxValue = this.findLargestValue(largeValues);
        return maxValue;
    };
    /**
     * @param {?} array
     * @return {?}
     */
    MultiareaComponent.prototype.findLargestValue = /**
     * @param {?} array
     * @return {?}
     */
    function (array) {
        /** @type {?} */
        var i;
        /** @type {?} */
        var max$$1 = 0;
        for (i = 0; i < array.length; i++) {
            if (array[i] > max$$1) {
                max$$1 = array[i];
            } //if ends 
        } //max ends
        return max$$1;
    };
    //covert data
    //covert data
    /**
     * @param {?} data
     * @return {?}
     */
    MultiareaComponent.prototype.transformData = 
    //covert data
    /**
     * @param {?} data
     * @return {?}
     */
    function (data) {
        var _this = this;
        this.transformeddata = [];
        this.keyArray = data[0];
        data.forEach(function (element, index) {
            if (index > 0) {
                /** @type {?} */
                var DummyObject_1 = {};
                element.forEach(function (individualvalue, keyindex) {
                    DummyObject_1[_this.keyArray[keyindex]] = individualvalue;
                }); //inner for loop ends
                _this.transformeddata.push(DummyObject_1);
            } //if ends
        }); //outer for loop ends
        //outer for loop ends
        /** @type {?} */
        var parsedtransformeddata = JSON.parse(JSON.stringify(this.transformeddata));
        this.data = parsedtransformeddata;
    };
    /**
     * @return {?}
     */
    MultiareaComponent.prototype.formLegendData = /**
     * @return {?}
     */
    function () {
        var _this = this;
        this.legendArray = [];
        this.keyArray.forEach(function (element, index) {
            if (index > 0) {
                /** @type {?} */
                var legendobject = {};
                legendobject['label'] = element;
                legendobject['color'] = _this.predefinedColors[index + 1];
                _this.legendArray.push(legendobject);
            }
        });
    };
    /**
     * @param {?} legendData
     * @return {?}
     */
    MultiareaComponent.prototype.onAreaLegendClick = /**
     * @param {?} legendData
     * @return {?}
     */
    function (legendData) {
        var _this = this;
        /** @type {?} */
        var obj = {};
        obj["label"] = legendData.label;
        /** @type {?} */
        var data = [];
        this.data.forEach(function (element) {
            try {
                for (var _a = __values(Object.entries(_this.data[0])), _b = _a.next(); !_b.done; _b = _a.next()) {
                    var _c = __read(_b.value, 2), key = _c[0], value = _c[1];
                    if (key == legendData.label) {
                        /** @type {?} */
                        var object = {};
                        object[key] = value;
                        data.push(object);
                    } //inner if ends
                } //inner forloop ends
            }
            catch (e_2_1) { e_2 = { error: e_2_1 }; }
            finally {
                try {
                    if (_b && !_b.done && (_d = _a.return)) _d.call(_a);
                }
                finally { if (e_2) throw e_2.error; }
            }
            var e_2, _d;
        }); //outer foreach ends
        obj["data"] = data;
        this.onLegendClick.emit(obj);
    };
    /**
     * @param {?} httpResponse
     * @return {?}
     */
    MultiareaComponent.prototype.getResponseData = /**
     * @param {?} httpResponse
     * @return {?}
     */
    function (httpResponse) {
        /** @type {?} */
        var responsedata = httpResponse;
        if (this.datareader != null) {
            /** @type {?} */
            var dr = this.datareader.split('.');
            try {
                for (var dr_1 = __values(dr), dr_1_1 = dr_1.next(); !dr_1_1.done; dr_1_1 = dr_1.next()) {
                    var ir = dr_1_1.value;
                    responsedata = responsedata[ir];
                }
            }
            catch (e_3_1) { e_3 = { error: e_3_1 }; }
            finally {
                try {
                    if (dr_1_1 && !dr_1_1.done && (_a = dr_1.return)) _a.call(dr_1);
                }
                finally { if (e_3) throw e_3.error; }
            }
        }
        else {
            responsedata = httpResponse;
        }
        return responsedata;
        var e_3, _a;
    };
    /**
     * @return {?}
     */
    MultiareaComponent.prototype.resize = /**
     * @return {?}
     */
    function () {
        this.svgwidth = 0;
        this.svg.selectAll("*").remove();
        this.resizeflag = true;
        this.svgwidth = this.divid.nativeElement.offsetWidth;
        this.initAreaChart();
        this.plotD3Chart();
    };
    /**
     * @param {?} tooltipData
     * @param {?} count
     * @return {?}
     */
    MultiareaComponent.prototype.formTooltipData = /**
     * @param {?} tooltipData
     * @param {?} count
     * @return {?}
     */
    function (tooltipData, count) {
        /** @type {?} */
        var obj = {};
        obj[this.keyArray[0]] = tooltipData[Object.keys(tooltipData)[0]];
        obj[this.keyArray[count]] = tooltipData[Object.keys(tooltipData)[count]];
        return this.toolTipForBar(obj);
    };
    /**
     * @param {?} g
     * @param {?} x
     * @param {?} y
     * @param {?} height
     * @param {?} width
     * @return {?}
     */
    MultiareaComponent.prototype.plotLine = /**
     * @param {?} g
     * @param {?} x
     * @param {?} y
     * @param {?} height
     * @param {?} width
     * @return {?}
     */
    function (g, x, y, height, width) {
        if (this.hScale) {
            g.append('g')
                .attr("color", "lightgrey")
                .call(axisLeft(y)
                .tickSize(-width).tickFormat(''));
        }
    };
    MultiareaComponent.decorators = [
        { type: Component, args: [{
                    selector: 'amexio-d3-chart-multiarea',
                    template: "\n<div  *ngIf=\"drillableFlag\" #divid (window:resize)=\"resize()\">\n<table style=\"width: 100%;\" #chartId>\n  <tr>\n      <td style=\"font-size: 18px; font-weight: bold; \"> {{title}} </td>\n  </tr>\n  <tr>\n      <td>\n          <svg [attr.height]=\"svgheight\" [attr.width]=\"svgwidth\" [attr.id]=\"componentId\">\n          </svg>\n      </td>\n  </tr>\n  <tr>\n      <td style=\"display: block; padding: 5px;\">\n          <amexio-d3-legend *ngIf=\"legend\" [horizontal]=\"true\" (onClick)=\"onAreaLegendClick($event)\" [data]=\"legendArray\" style=\"height:100%;\">\n          </amexio-d3-legend>\n      </td>\n  </tr>\n</table>\n</div>",
                    styles: [""]
                },] },
    ];
    MultiareaComponent.ctorParameters = function () { return [
        { type: CommanDataService },
        { type: DeviceQueryService }
    ]; };
    MultiareaComponent.propDecorators = {
        svgwidth: [{ type: Input, args: ['width',] }],
        svgheight: [{ type: Input, args: ['height',] }],
        datareader: [{ type: Input, args: ['data-reader',] }],
        level: [{ type: Input, args: ['level',] }],
        labelcolor: [{ type: Input, args: ['label-color',] }],
        labelflag: [{ type: Input, args: ['label',] }],
        target: [{ type: Input, args: ['target',] }],
        drillabledatakey: [{ type: Input, args: ['drillable-data',] }],
        chartId: [{ type: ViewChild, args: ['chartId',] }],
        divid: [{ type: ViewChild, args: ['divid',] }],
        onLegendClick: [{ type: Output }],
        onTooltipClick: [{ type: Output }],
        hScale: [{ type: Input, args: ['horizontal-scale',] }]
    };
    return MultiareaComponent;
}(AmexioD3BaseChartComponent));

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingReturn,uselessCode} checked by tsc
 */
var CandlestickComponent = /** @class */ (function (_super) {
    __extends(CandlestickComponent, _super);
    function CandlestickComponent(myservice, device) {
        var _this = _super.call(this, "candlestickwaterfallchart") || this;
        _this.myservice = myservice;
        _this.device = device;
        _this.svgwidth = 300;
        _this.svgheight = 300;
        _this.level = 0;
        _this.drillabledatakey = [];
        _this.labelcolor = "black";
        _this.labelflag = false;
        _this.hScale = true;
        _this.onLegendClick = new EventEmitter();
        _this.drillableFlag = true;
        _this.resizeflag = false;
        _this.predefinedColor = [];
        _this.keyArray = [];
        _this.margin = {};
        _this.legendArray = [];
        return _this;
    }
    /**
     * @return {?}
     */
    CandlestickComponent.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
        var _this = this;
        this.predefinedColor = ["#3366cc", "#dc3912", "#ff9900", "#109618", "#990099", "#0099c6", "#dd4477", "#66aa00", "#b82e2e", "#316395", "#994499", "#22aa99", "#aaaa11", "#6633cc", "#e67300", "#8b0707", "#651067", "#329262", "#5574a6", "#3b3eac"];
        if (this.level <= 1) {
            if (this.httpmethod && this.httpurl) {
                this.myservice.fetchUrlData(this.httpurl, this.httpmethod).subscribe(function (response) {
                    //this.data = response;
                    _this.httpresponse = response;
                    _this.data = _this.getResponseData(response);
                }, function (error) {
                }, function () {
                    setTimeout(function () {
                        _this.transformData(_this.data);
                        _this.initializeData();
                        _this.plotXYAxis();
                        _this.plotD3Chart();
                    }, 0);
                });
            }
            else if (this.data) {
                setTimeout(function () {
                    _this.transformData(_this.data);
                    _this.initializeData();
                    _this.plotXYAxis();
                    _this.plotD3Chart();
                }, 0);
            }
        }
    };
    /**
     * @param {?} data
     * @return {?}
     */
    CandlestickComponent.prototype.fetchData = /**
     * @param {?} data
     * @return {?}
     */
    function (data) {
        var _this = this;
        /** @type {?} */
        var requestJson;
        /** @type {?} */
        var key = this.drillabledatakey;
        if (this.drillabledatakey.length) {
            /** @type {?} */
            var drillabledata = this.getMultipleDrillbleKeyData(data, key);
            requestJson = drillabledata;
        }
        else {
            requestJson = data;
        }
        if (this.httpmethod && this.httpurl) {
            this.myservice.postfetchData(this.httpurl, this.httpmethod, requestJson).subscribe(function (response) {
                _this.httpresponse = response;
            }, function (error) {
            }, function () {
                setTimeout(function () {
                    //this.data = this.getResponseData(resp);
                    _this.drawChart();
                }, 0);
            });
        }
    };
    /**
     * @return {?}
     */
    CandlestickComponent.prototype.drawChart = /**
     * @return {?}
     */
    function () {
        var _this = this;
        setTimeout(function () {
            _this.data = _this.getResponseData(_this.httpresponse);
            _this.transformData(_this.data);
            _this.initializeData();
            _this.plotXYAxis();
            _this.plotD3Chart();
        }, 0);
    };
    /**
     * @return {?}
     */
    CandlestickComponent.prototype.initializeData = /**
     * @return {?}
     */
    function () {
        this.tooltip = this.toolTip(d3);
        if (this.resizeflag == false) {
            if (this.chartId) {
                this.svgwidth = this.chartId.nativeElement.offsetWidth;
            }
            else {
                this.svgwidth = this.svgwidth;
            }
        }
        this.margin = { top: 20, right: 30, bottom: 50, left: 60 },
            this.width = this.svgwidth - this.margin.left - this.margin.right,
            this.height = this.svgheight - this.margin.top - this.margin.bottom;
    };
    /**
     * @return {?}
     */
    CandlestickComponent.prototype.plotXYAxis = /**
     * @return {?}
     */
    function () {
        // set the ranges
        this.x = scaleBand().range([0, this.width]);
        this.y = scaleLinear()
            .rangeRound([this.height, 0]);
        // scale the range of the data
        /** @type {?} */
        var candlestickArray = this.data.map(function (d) {
            return d[Object.keys(d)[0]];
        });
        this.x.domain(candlestickArray);
        /** @type {?} */
        var max$$1 = max(this.data, function (d) { return d.end; });
        this.y.domain([0, max$$1]);
        this.svg = select("#" + this.componentId)
            .attr("width", this.width + this.margin.left + this.margin.right)
            .attr("height", this.height + this.margin.top + this.margin.bottom)
            .append("g")
            .attr("transform", "translate(" + this.margin.left + "," + this.margin.top + ")");
        // add the X Axis
        if (this.device.IsDesktop() == true) {
            this.svg.append("g")
                .attr("transform", "translate(0," + this.height + ")")
                .call(axisBottom(this.x));
        }
        else {
            this.svg.append("g")
                .attr("transform", "translate(0," + this.height + ")")
                .call(axisBottom(this.x)).
                selectAll("text")
                .attr("y", 0)
                .attr("x", 9)
                .attr("dy", ".35em")
                .attr("transform", "rotate(60)")
                .style("text-anchor", "start");
        }
        // this.svg.append("g")
        //   .attr("transform", "translate(0," + this.height + ")")
        //   .call(d3.axisBottom(this.x));
        // add the Y Axis
        this.svg.append("g")
            .call(axisLeft(this.y));
        this.plotLine(this.svg, this.x, this.y, this.height, this.width);
    };
    /**
     * @return {?}
     */
    CandlestickComponent.prototype.plotD3Chart = /**
     * @return {?}
     */
    function () {
        var _this = this;
        /** @type {?} */
        var bar = this.svg.selectAll(".bar")
            .data(this.data)
            .enter().append("g")
            .attr("class", function (d) { return "bar " + d.class; })
            .attr("transform", function (d) {
            return "translate(" + _this.x(d[Object.keys(d)[0]]) + ",0)";
        });
        bar.append("rect")
            .attr("y", function (d) { return _this.y(Math.max(d.start, d.end)); })
            .attr("height", function (d) { return Math.abs(_this.y(d.start) - _this.y(d.end)); })
            .attr("width", this.x.bandwidth())
            .attr("fill", function (d, i) {
            return _this.predefinedColor[i];
        })
            .attr("cursor", "pointer")
            .on("mouseover", function (d) {
            _this.formTooltipData(d);
            return _this.tooltip.style("visibility", "visible");
        })
            .on("mousemove", function (d) {
            return _this.tooltip.html(_this.formTooltipData(d))
                .style("top", (event$1.pageY - 10) + "px")
                .style("left", (event$1.pageX + 10) + "px");
        })
            .on("mouseout", function (d) {
            return _this.tooltip.style("visibility", "hidden");
        })
            .on("click", function (d) {
            _this.onCandlestickClick(d);
            _this.fordrillableClick(_this, d, event);
            return _this.tooltip.style("visibility", "hidden");
        });
        if (this.labelflag) {
            bar.append("text")
                .style("font-weight", "bold")
                .style("font-size", "1vw")
                .attr("text-anchor", "middle")
                .attr("fill", function (d) {
                if (_this.labelcolor.length > 0) {
                    return _this.labelcolor;
                }
                else {
                    return "black";
                }
            })
                .attr("x", function (d) {
                return (_this.x.bandwidth()) / 2;
            })
                .attr("y", function (d, index) {
                return _this.y(Math.max(d.start, d.end)) + 20;
            })
                .text(function (d) {
                return d[Object.keys(d)[1]];
            });
        }
    };
    /**
     * @param {?} svg
     * @param {?} x
     * @param {?} y
     * @param {?} height
     * @param {?} width
     * @return {?}
     */
    CandlestickComponent.prototype.plotLine = /**
     * @param {?} svg
     * @param {?} x
     * @param {?} y
     * @param {?} height
     * @param {?} width
     * @return {?}
     */
    function (svg, x, y, height, width) {
        if (this.hScale) {
            svg.append('g')
                .attr("color", "lightgrey")
                .call(axisLeft(y)
                .tickSize(-width).tickFormat(''));
        }
    };
    /**
     * @param {?} data
     * @return {?}
     */
    CandlestickComponent.prototype.transformData = /**
     * @param {?} data
     * @return {?}
     */
    function (data) {
        var _this = this;
        this.transformeddata = [];
        this.keyArray = [];
        this.keyArray = data[0];
        data.forEach(function (element, index) {
            if (index > 0) {
                /** @type {?} */
                var DummyObject_1 = {};
                element.forEach(function (individualvalue, keyindex) {
                    DummyObject_1[_this.keyArray[keyindex]] = individualvalue;
                }); //inner for loop ends
                _this.transformeddata.push(DummyObject_1);
            } //if ends
        }); //outer for loop ends 
        this.data = this.transformeddata;
        this.addDataKeys();
        this.formLegendData();
    };
    /**
     * @return {?}
     */
    CandlestickComponent.prototype.addDataKeys = /**
     * @return {?}
     */
    function () {
        /** @type {?} */
        var cumulative = 0;
        for (var i = 0; i < this.data.length; i++) {
            this.data[i]["start"] = cumulative;
            cumulative += this.data[i][this.keyArray[1]];
            this.data[i]["end"] = cumulative;
            this.data[i]["class"] = (this.data[i][this.keyArray[1]] >= 0) ? 'positive' : 'negative';
        }
    };
    /**
     * @param {?} httpResponse
     * @return {?}
     */
    CandlestickComponent.prototype.getResponseData = /**
     * @param {?} httpResponse
     * @return {?}
     */
    function (httpResponse) {
        /** @type {?} */
        var responsedata = httpResponse;
        if (this.datareader != null) {
            /** @type {?} */
            var dr = this.datareader.split('.');
            try {
                for (var dr_1 = __values(dr), dr_1_1 = dr_1.next(); !dr_1_1.done; dr_1_1 = dr_1.next()) {
                    var ir = dr_1_1.value;
                    responsedata = responsedata[ir];
                }
            }
            catch (e_1_1) { e_1 = { error: e_1_1 }; }
            finally {
                try {
                    if (dr_1_1 && !dr_1_1.done && (_a = dr_1.return)) _a.call(dr_1);
                }
                finally { if (e_1) throw e_1.error; }
            }
        }
        else {
            responsedata = httpResponse;
        }
        return responsedata;
        var e_1, _a;
    };
    /**
     * @param {?} tooltipData
     * @return {?}
     */
    CandlestickComponent.prototype.formTooltipData = /**
     * @param {?} tooltipData
     * @return {?}
     */
    function (tooltipData) {
        /** @type {?} */
        var object = {};
        object[this.keyArray[0]] = tooltipData[Object.keys(tooltipData)[0]];
        object[this.keyArray[1]] = tooltipData[Object.keys(tooltipData)[1]];
        return this.toolTipForBar(object);
    };
    /**
     * @param {?} chartData
     * @return {?}
     */
    CandlestickComponent.prototype.onCandlestickClick = /**
     * @param {?} chartData
     * @return {?}
     */
    function (chartData) {
        /** @type {?} */
        var object = {};
        object[this.keyArray[0]] = chartData[Object.keys(chartData)[0]];
        object[this.keyArray[1]] = chartData[Object.keys(chartData)[1]];
        this.chartClick(object);
    };
    /**
     * @return {?}
     */
    CandlestickComponent.prototype.formLegendData = /**
     * @return {?}
     */
    function () {
        var _this = this;
        this.legendArray = [];
        this.data.forEach(function (element, index) {
            try {
                for (var _a = __values(Object.entries(element)), _b = _a.next(); !_b.done; _b = _a.next()) {
                    var _c = __read(_b.value, 2), key = _c[0], value = _c[1];
                    if (key == _this.keyArray[0]) {
                        /** @type {?} */
                        var object = {};
                        object["label"] = value;
                        object["color"] = _this.predefinedColor[index];
                        _this.legendArray.push(object);
                    }
                }
            }
            catch (e_2_1) { e_2 = { error: e_2_1 }; }
            finally {
                try {
                    if (_b && !_b.done && (_d = _a.return)) _d.call(_a);
                }
                finally { if (e_2) throw e_2.error; }
            }
            var e_2, _d;
        });
    };
    /**
     * @param {?} chartData
     * @return {?}
     */
    CandlestickComponent.prototype.onCandlestickLegendClick = /**
     * @param {?} chartData
     * @return {?}
     */
    function (chartData) {
        /** @type {?} */
        var object = {};
        this.data.forEach(function (element) {
            try {
                for (var _a = __values(Object.entries(element)), _b = _a.next(); !_b.done; _b = _a.next()) {
                    var _c = __read(_b.value, 2), key = _c[0], value = _c[1];
                    if (value == chartData.label) {
                        object[chartData.label] = element.value;
                    }
                }
            }
            catch (e_3_1) { e_3 = { error: e_3_1 }; }
            finally {
                try {
                    if (_b && !_b.done && (_d = _a.return)) _d.call(_a);
                }
                finally { if (e_3) throw e_3.error; }
            }
            var e_3, _d;
        });
        this.onLegendClick.emit(object);
    };
    /**
     * @return {?}
     */
    CandlestickComponent.prototype.resize = /**
     * @return {?}
     */
    function () {
        this.svgwidth = 0;
        this.svg.selectAll("*").remove();
        this.resizeflag = true;
        this.svgwidth = this.divid.nativeElement.offsetWidth;
        this.initializeData();
        this.plotXYAxis();
        this.plotD3Chart();
    };
    CandlestickComponent.decorators = [
        { type: Component, args: [{
                    selector: 'amexio-d3-chart-waterfall',
                    template: "\n<div   *ngIf=\"drillableFlag\" #divid (window:resize)=\"resize()\" >\n<table style=\"width: 100%;\" #chartId (window:resize)=\"resize()\">\n  <tr>\n      <td style=\"font-size: 18px; font-weight: bold; \"> {{title}} </td>\n  </tr>\n  <tr>\n      <td>\n          <svg [attr.height]=\"svgheight\" [attr.width]=\"svgwidth\" [attr.id]=\"componentId\">\n          </svg>\n      </td>\n  </tr>\n  <tr>\n      <td style=\"display: block; padding: 5px;\">\n          <amexio-d3-legend *ngIf=\"legend\" [horizontal]=\"true\" (onClick)=\"onCandlestickLegendClick($event)\" [data]=\"legendArray\" style=\"height:100%;\">\n          </amexio-d3-legend>\n      </td>\n  </tr>\n</table>\n</div>",
                    styles: [""]
                },] },
    ];
    CandlestickComponent.ctorParameters = function () { return [
        { type: CommanDataService },
        { type: DeviceQueryService }
    ]; };
    CandlestickComponent.propDecorators = {
        svgwidth: [{ type: Input, args: ['width',] }],
        svgheight: [{ type: Input, args: ['height',] }],
        datareader: [{ type: Input, args: ['data-reader',] }],
        data: [{ type: Input }],
        level: [{ type: Input, args: ['level',] }],
        target: [{ type: Input, args: ['target',] }],
        drillabledatakey: [{ type: Input, args: ['drillable-data',] }],
        labelcolor: [{ type: Input, args: ['label-color',] }],
        labelflag: [{ type: Input, args: ['label',] }],
        hScale: [{ type: Input, args: ['horizontal-scale',] }],
        chartId: [{ type: ViewChild, args: ['chartId',] }],
        divid: [{ type: ViewChild, args: ['divid',] }],
        onLegendClick: [{ type: Output }]
    };
    return CandlestickComponent;
}(AmexioD3BaseChartComponent));

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingReturn,uselessCode} checked by tsc
 */
var BubbleComponent = /** @class */ (function (_super) {
    __extends(BubbleComponent, _super);
    function BubbleComponent(myservice, cdf, device) {
        var _this = _super.call(this, 'bubble') || this;
        _this.myservice = myservice;
        _this.cdf = cdf;
        _this.device = device;
        _this.svgwidth = 300;
        _this.svgheight = 300;
        _this.color = "blue";
        _this.level = 0;
        _this.drillabledatakey = [];
        _this.hScale = true;
        _this.vScale = true;
        _this.drillableFlag = true;
        _this.resizeflag = false;
        _this.keyArray = [];
        _this.transformeddata = [];
        _this.colors = [];
        _this.xaxisArray = [];
        _this.xarray = [];
        _this.legends = [];
        _this.legendarray = [];
        _this.legendData = [];
        _this.minxvalue = 0;
        _this.maxxvalue = 0;
        _this.bubblechartdata = [];
        _this.predefinedcolors = ["#3366cc", "#dc3912", "#ff9900", "#109618", "#990099", "#0099c6", "#dd4477", "#66aa00", "#b82e2e", "#316395", "#994499", "#22aa99", "#aaaa11", "#6633cc", "#e67300", "#8b0707", "#651067", "#329262", "#5574a6", "#3b3eac"];
        return _this;
    }
    /**
     * @return {?}
     */
    BubbleComponent.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
        var _this = this;
        this.data1 = [];
        if (this.level <= 1) {
            /** @type {?} */
            var resp_1;
            if (this.httpmethod && this.httpurl) {
                this.myservice.fetchUrlData(this.httpurl, this.httpmethod).subscribe(function (response) {
                    resp_1 = response;
                    _this.httpresponse = resp_1;
                }, function (error) {
                }, function () {
                    setTimeout(function () {
                        _this.data = _this.getResponseData(resp_1);
                        _this.data1 = _this.data;
                        _this.xaxisData();
                        _this.transformData(_this.data1);
                        _this.transformdata();
                        _this.colorGeneration();
                        _this.formLegendData();
                        _this.plotBubbleChart();
                    }, 0);
                });
            }
            else if (this.data) {
                setTimeout(function () {
                    _this.data1 = _this.data;
                    _this.data = _this.getResponseData(_this.data);
                    _this.xaxisData();
                    _this.transformData(_this.data);
                    _this.transformdata();
                    _this.colorGeneration();
                    _this.formLegendData();
                    _this.plotBubbleChart();
                }, 0);
            }
        }
    };
    /**
     * @param {?} data
     * @return {?}
     */
    BubbleComponent.prototype.fetchData = /**
     * @param {?} data
     * @return {?}
     */
    function (data) {
        var _this = this;
        /** @type {?} */
        var requestJson;
        /** @type {?} */
        var key = this.drillabledatakey;
        if (this.drillabledatakey.length) {
            /** @type {?} */
            var drillabledata = this.getMultipleDrillbleKeyData(data, key);
            requestJson = drillabledata;
        }
        else {
            requestJson = data;
        }
        if (this.httpmethod && this.httpurl) {
            this.myservice.postfetchData(this.httpurl, this.httpmethod, requestJson).subscribe(function (response) {
                _this.httpresponse = response;
            }, function (error) {
            }, function () {
                setTimeout(function () {
                    //this.data = this.getResponseData(resp);
                    _this.drawChart();
                }, 0);
            });
        }
    };
    /**
     * @return {?}
     */
    BubbleComponent.prototype.drawChart = /**
     * @return {?}
     */
    function () {
        var _this = this;
        setTimeout(function () {
            _this.data = _this.getResponseData(_this.httpresponse);
            _this.data1 = _this.data;
            _this.xaxisData();
            _this.transformData(_this.data1);
            _this.transformdata();
            _this.colorGeneration();
            _this.formLegendData();
            _this.plotBubbleChart();
        }, 0);
    };
    /**
     * @param {?} httpResponse
     * @return {?}
     */
    BubbleComponent.prototype.getResponseData = /**
     * @param {?} httpResponse
     * @return {?}
     */
    function (httpResponse) {
        /** @type {?} */
        var responsedata = httpResponse;
        if (this.datareader != null) {
            /** @type {?} */
            var dr = this.datareader.split('.');
            try {
                for (var dr_1 = __values(dr), dr_1_1 = dr_1.next(); !dr_1_1.done; dr_1_1 = dr_1.next()) {
                    var ir = dr_1_1.value;
                    responsedata = responsedata[ir];
                }
            }
            catch (e_1_1) { e_1 = { error: e_1_1 }; }
            finally {
                try {
                    if (dr_1_1 && !dr_1_1.done && (_a = dr_1.return)) _a.call(dr_1);
                }
                finally { if (e_1) throw e_1.error; }
            }
        }
        else {
            responsedata = httpResponse;
        }
        return responsedata;
        var e_1, _a;
    };
    /**
     * @param {?} data
     * @return {?}
     */
    BubbleComponent.prototype.transformData = /**
     * @param {?} data
     * @return {?}
     */
    function (data) {
        var _this = this;
        this.colordata = [];
        this.keyArray = data[0];
        data.forEach(function (element, index) {
            if (index > 0) {
                /** @type {?} */
                var DummyObject_1 = {};
                element.forEach(function (individualvalue, keyindex) {
                    DummyObject_1[_this.keyArray[keyindex]] = individualvalue;
                });
                _this.transformeddata.push(DummyObject_1);
            }
        });
        this.data = this.transformeddata;
        this.colordata = this.transformeddata;
    };
    /**
     * @return {?}
     */
    BubbleComponent.prototype.plotBubbleChart = /**
     * @return {?}
     */
    function () {
        var _this = this;
        /** @type {?} */
        var colors = this.predefinedcolors;
        if (this.resizeflag == false) {
            if (this.chartId) {
                this.svgwidth = this.chartId.nativeElement.offsetWidth;
            }
            else {
                this.svgwidth = this.svgwidth;
            }
        }
        /** @type {?} */
        var tooltip = this.toolTip(d3);
        /** @type {?} */
        var margin = { top: 20, right: 60, bottom: 50, left: 60 };
        /** @type {?} */
        var width = this.svgwidth - margin.left - margin.right;
        /** @type {?} */
        var height = this.svgheight - margin.top - margin.bottom;
        /** @type {?} */
        var x;
        /** @type {?} */
        var y;
        x = scaleLinear()
            .rangeRound([0, width]);
        y = scaleLinear()
            .rangeRound([height, 0]);
        /** @type {?} */
        var xAxis = axisBottom(x);
        /** @type {?} */
        var yAxis = axisLeft(y);
        this.svg = select("#" + this.componentId)
            .attr("width", width + margin.left + margin.right)
            .attr("height", height + margin.top + margin.bottom)
            .append("g")
            .attr("transform", "translate(" + margin.left + "," + margin.top + ")");
        // x.domain([0, d3.max(this.data, function (d) { return d[Object.keys(d)[1]] })]);
        y.domain([0, max(this.data, function (d) { return d[Object.keys(d)[2]]; })]);
        x.domain([this.minxvalue, this.maxxvalue]);
        /** @type {?} */
        var rScale = scaleSqrt().rangeRound([6, 30]);
        rScale.domain([min(this.data, function (d) { return d[Object.keys(d)[4]]; }), max(this.data, function (d, i) { return d[Object.keys(d)[4]]; })]);
        if (this.device.IsDesktop() == true) {
            this.svg.append("g")
                .attr("transform", "translate(0," + height + ")")
                .call(xAxis)
                .append("text")
                .attr("y", 0)
                .attr("x", 9)
                .attr("dy", ".35em")
                .style("text-anchor", "start");
        }
        else {
            this.svg.append("g")
                .attr("class", "x axis")
                .attr("transform", "translate(0," + height + ")")
                .call(xAxis).
                selectAll("text")
                .attr("y", 0)
                .attr("x", 9)
                .attr("dy", ".35em")
                .attr("transform", "rotate(60)")
                .style("text-anchor", "start");
        }
        this.svg.append("g")
            .attr("class", "y axis")
            .call(yAxis)
            .append("text")
            .attr("class", "label")
            .attr("transform", "rotate(-90)")
            .attr("y", 6)
            .attr("dy", ".71em")
            .style("text-anchor", "end");
        this.plotLine(this.svg, x, y, height, width);
        /** @type {?} */
        var node = this.svg.selectAll(".dot")
            .data(this.bubblechartdata)
            .enter().append("circle")
            .attr("class", "dot")
            .attr("r", function (d) { return rScale(d[Object.keys(d)[4]]); })
            .attr("cursor", "pointer")
            .attr("cx", function (d) {
            return x(d[Object.keys(d)[1]]);
        })
            .attr("cy", function (d) { return y(d[Object.keys(d)[2]]); })
            .attr("fill", function (d) { return d[Object.keys(d)[5]]; })
            .attr('opacity', 0.7)
            .on("mouseover", function (d) {
            return tooltip.style("visibility", "visible");
        })
            .on("mousemove", function (d) {
            return tooltip.html(_this.formTooltipData(d))
                .style("top", (event$1.pageY - 10) + "px")
                .style("left", (event$1.pageX + 10) + "px");
        })
            .on("mouseout", function (d) {
            return tooltip.style("visibility", "hidden");
        })
            .on("click", function (d) {
            _this.bubbleChartClick(d);
            _this.fordrillableClick(_this, d, event);
            return tooltip.style("visibility", "hidden");
        });
    };
    /**
     * @param {?} tooltipData
     * @return {?}
     */
    BubbleComponent.prototype.formTooltipData = /**
     * @param {?} tooltipData
     * @return {?}
     */
    function (tooltipData) {
        /** @type {?} */
        var object = {};
        try {
            for (var _a = __values(Object.entries(tooltipData)), _b = _a.next(); !_b.done; _b = _a.next()) {
                var _c = __read(_b.value, 2), key = _c[0], value = _c[1];
                if (key != 'color') {
                    object[key] = value;
                }
            }
        }
        catch (e_2_1) { e_2 = { error: e_2_1 }; }
        finally {
            try {
                if (_b && !_b.done && (_d = _a.return)) _d.call(_a);
            }
            finally { if (e_2) throw e_2.error; }
        }
        return this.toolTipForBar(object);
        var e_2, _d;
    };
    // Method on chart click
    // Method on chart click
    /**
     * @param {?} event
     * @return {?}
     */
    BubbleComponent.prototype.bubbleChartClick = 
    // Method on chart click
    /**
     * @param {?} event
     * @return {?}
     */
    function (event) {
        /** @type {?} */
        var object = {};
        try {
            for (var _a = __values(Object.entries(event)), _b = _a.next(); !_b.done; _b = _a.next()) {
                var _c = __read(_b.value, 2), key = _c[0], value = _c[1];
                object[key] = value;
            }
        }
        catch (e_3_1) { e_3 = { error: e_3_1 }; }
        finally {
            try {
                if (_b && !_b.done && (_d = _a.return)) _d.call(_a);
            }
            finally { if (e_3) throw e_3.error; }
        }
        this.chartClick(object);
        var e_3, _d;
    };
    /**
     * @param {?} data
     * @return {?}
     */
    BubbleComponent.prototype.resize = /**
     * @param {?} data
     * @return {?}
     */
    function (data) {
        this.svgwidth = 0;
        this.svg.selectAll("*").remove();
        this.resizeflag = true;
        this.svgwidth = this.divid.nativeElement.offsetWidth;
        this.plotBubbleChart();
    };
    /**
     * @return {?}
     */
    BubbleComponent.prototype.xaxisData = /**
     * @return {?}
     */
    function () {
        /** @type {?} */
        var array = [];
        this.minxvalue = 0;
        this.maxxvalue = 0;
        this.xaxisArray = [];
        this.xarray = [];
        this.data1.forEach(function (element) {
            array.push(element[1]);
        });
        for (var i = 1; i < array.length; i++) {
            this.xaxisArray.push(array[i]);
        }
        /** @type {?} */
        var minvalue = Math.floor(min(this.xaxisArray));
        /** @type {?} */
        var maxvalue = Math.ceil(max(this.xaxisArray));
        this.minxvalue = 5 * (Math.floor(Math.abs(minvalue / 5)));
        this.maxxvalue = 5 * (Math.ceil(Math.abs(maxvalue / 5)));
    };
    /**
     * @return {?}
     */
    BubbleComponent.prototype.colorGeneration = /**
     * @return {?}
     */
    function () {
        var _this = this;
        this.legendarray = [];
        /** @type {?} */
        var i = 0;
        /** @type {?} */
        var names = this.data1
            .map(function (e) { return e[3]; })
            .filter(function (e, i, a) { return a.indexOf(e) === i; });
        var _loop_1 = function (j) {
            /** @type {?} */
            var value = [];
            /** @type {?} */
            var obj = { "label": "", "color": "", "value": [] };
            this_1.colordata.forEach(function (element) {
                if (element[Object.keys(element)[3]] == names[j]) {
                    element['color'] = _this.predefinedcolors[i];
                    value.push(element);
                }
            });
            obj["value"] = value;
            obj["label"] = names[j];
            obj["color"] = this_1.predefinedcolors[i];
            this_1.legendarray.push(obj);
            i++;
        };
        var this_1 = this;
        for (var j = 1; j < names.length; j++) {
            _loop_1(j);
        }
    };
    /**
     * @return {?}
     */
    BubbleComponent.prototype.formLegendData = /**
     * @return {?}
     */
    function () {
        var _this = this;
        this.legendData = [];
        this.legendarray.forEach(function (element) {
            /** @type {?} */
            var legendobject = {};
            legendobject['label'] = element.label;
            legendobject['color'] = element.color;
            _this.legendData.push(legendobject);
        });
    };
    /**
     * @param {?} legendevent
     * @return {?}
     */
    BubbleComponent.prototype.onBubbleLegendClick = /**
     * @param {?} legendevent
     * @return {?}
     */
    function (legendevent) {
        var _this = this;
        this.legendarray.forEach(function (element) {
            if (legendevent.label == element.label) {
                _this.legendClick(element.value);
            }
        });
    };
    /**
     * @param {?} g
     * @param {?} x
     * @param {?} y
     * @param {?} height
     * @param {?} width
     * @return {?}
     */
    BubbleComponent.prototype.plotLine = /**
     * @param {?} g
     * @param {?} x
     * @param {?} y
     * @param {?} height
     * @param {?} width
     * @return {?}
     */
    function (g, x, y, height, width) {
        if (this.vScale) {
            g.append('g')
                .attr("color", "lightgrey")
                .attr('transform', 'translate(0,' + height + ')')
                .call(axisBottom(x).
                tickSize(-this.width).tickFormat(''));
        }
        if (this.hScale) {
            g.append('g')
                .attr("color", "lightgrey")
                .call(axisLeft(y)
                .tickSize(-width).tickFormat(''));
        }
    };
    /**
     * @return {?}
     */
    BubbleComponent.prototype.transformdata = /**
     * @return {?}
     */
    function () {
        var _this = this;
        this.bubblechartdata = [];
        /** @type {?} */
        var buubledata = [];
        this.colordata.forEach(function (element, i) {
            buubledata.push(element[Object.keys(element)[4]]);
        });
        /** @type {?} */
        var data = buubledata.sort(function (a, b) { return b - a; });
        var _loop_2 = function (j) {
            this_2.colordata.forEach(function (element) {
                if (data[j] == element[Object.keys(element)[4]])
                    _this.bubblechartdata.push(element);
            });
        };
        var this_2 = this;
        for (var j = 0; j <= data.length; j++) {
            _loop_2(j);
        }
    };
    BubbleComponent.decorators = [
        { type: Component, args: [{
                    selector: 'amexio-d3-chart-bubble',
                    template: "\n<div   *ngIf=\"drillableFlag\" #divid (window:resize)=\"resize($event)\">\n<table style=\"width: 100%;\" #chartId >\n  <tr>\n      <td colspan=\"2\" style=\"font-size: 18px; font-weight: bold; \"> {{title}} </td>\n  </tr>\n  <tr>\n      <td>\n          <svg [attr.height]=\"svgheight\" [attr.width]=\"svgwidth\" [attr.id]=\"componentId\">\n          </svg>\n      </td>\n  </tr>\n  <tr>\n      <td style=\"display: block; padding: 5px;\">\n          <amexio-d3-legend *ngIf=\"legend\" [horizontal]=\"true\" (onClick)=\"onBubbleLegendClick($event)\" [data]=\"legendData\" style=\"height:100%;\"></amexio-d3-legend>\n      </td>\n  </tr>\n</table>\n</div>",
                    styles: [""]
                },] },
    ];
    BubbleComponent.ctorParameters = function () { return [
        { type: CommanDataService },
        { type: ChangeDetectorRef },
        { type: DeviceQueryService }
    ]; };
    BubbleComponent.propDecorators = {
        svgwidth: [{ type: Input, args: ['width',] }],
        svgheight: [{ type: Input, args: ['height',] }],
        color: [{ type: Input, args: ['color',] }],
        chartId: [{ type: ViewChild, args: ['chartId',] }],
        divid: [{ type: ViewChild, args: ['divid',] }],
        datareader: [{ type: Input, args: ['data-reader',] }],
        level: [{ type: Input, args: ['level',] }],
        target: [{ type: Input, args: ['target',] }],
        drillabledatakey: [{ type: Input, args: ['drillable-data',] }],
        hScale: [{ type: Input, args: ['horizontal-scale',] }],
        vScale: [{ type: Input, args: ['vertical-scale',] }]
    };
    return BubbleComponent;
}(AmexioD3BaseChartComponent));

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingReturn,uselessCode} checked by tsc
 */
var ViewDrillableComponent = /** @class */ (function () {
    function ViewDrillableComponent() {
    }
    /**
     * @return {?}
     */
    ViewDrillableComponent.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
    };
    /**
     * @return {?}
     */
    ViewDrillableComponent.prototype.ngAfterViewInit = /**
     * @return {?}
     */
    function () {
        return this.getComponentData();
    };
    /**
     * @return {?}
     */
    ViewDrillableComponent.prototype.getComponentData = /**
     * @return {?}
     */
    function () {
        this.chartInputArray = [];
        this.barchartinput = this.queryBarchartinput.toArray();
        this.groupbarchartinput = this.QueryGroupbarchartinput.toArray();
        this.linechartinput = this.QueryLinechartinput.toArray();
        this.donutchartinput = this.QueryDonutchartinput.toArray();
        this.piechartinput = this.QueryPiechartinput.toArray();
        this.barstackchartinput = this.QueryBarStackchartinput.toArray();
        this.combochartinput = this.QueryCombochartinput.toArray();
        this.histogramchartinput = this.QueryHistogramchartinput.toArray();
        this.scatterchartinput = this.QuerySatterchartinput.toArray();
        this.multiareachartinput = this.QueryMultiareachartinput.toArray();
        this.candlestickchartinput = this.QueryCandlestickchartinput.toArray();
        this.bubblechartinput = this.QueryBubblechartinput.toArray();
        this.chartInputArray = this.chartInputArray.concat(this.barchartinput, this.groupbarchartinput, this.linechartinput, this.donutchartinput, this.piechartinput, this.barstackchartinput, this.combochartinput, this.histogramchartinput, this.scatterchartinput, this.multiareachartinput, this.candlestickchartinput, this.bubblechartinput);
        return this.chartInputArray;
    };
    ViewDrillableComponent.propDecorators = {
        queryBarchartinput: [{ type: ContentChildren, args: [AmexioD3BarChartComponent, { descendants: true },] }],
        QueryGroupbarchartinput: [{ type: ContentChildren, args: [GroupbarComponent, { descendants: true },] }],
        QueryLinechartinput: [{ type: ContentChildren, args: [AmexioD3LineComponent, { descendants: true },] }],
        QueryPiechartinput: [{ type: ContentChildren, args: [AmexioD3PieChartComponent, { descendants: true },] }],
        QueryDonutchartinput: [{ type: ContentChildren, args: [AmexioD3DounutChartComponent, { descendants: true },] }],
        QueryBarStackchartinput: [{ type: ContentChildren, args: [BarstackComponent, { descendants: true },] }],
        QueryCombochartinput: [{ type: ContentChildren, args: [CombochartComponent, { descendants: true },] }],
        QueryHistogramchartinput: [{ type: ContentChildren, args: [HistogramComponent, { descendants: true },] }],
        QuerySatterchartinput: [{ type: ContentChildren, args: [ScatterchartComponent, { descendants: true },] }],
        QueryMultiareachartinput: [{ type: ContentChildren, args: [MultiareaComponent, { descendants: true },] }],
        QueryCandlestickchartinput: [{ type: ContentChildren, args: [CandlestickComponent, { descendants: true },] }],
        QueryBubblechartinput: [{ type: ContentChildren, args: [BubbleComponent, { descendants: true },] }]
    };
    return ViewDrillableComponent;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingReturn,uselessCode} checked by tsc
 */
var DrillableComponent = /** @class */ (function (_super) {
    __extends(DrillableComponent, _super);
    function DrillableComponent() {
        var _this = _super.call(this) || this;
        _this.mouseLocation = { left: 0, top: 0 };
        _this.componentcounter = 1;
        _this.disableFlag = false;
        return _this;
    }
    /**
     * @return {?}
     */
    DrillableComponent.prototype.ngOnInit = /**
     * @return {?}
     */
    function () {
    };
    /**
     * @return {?}
     */
    DrillableComponent.prototype.ngAfterViewInit = /**
     * @return {?}
     */
    function () {
        this.ComponentDataArray = this.getComponentData();
        this.getData(this.ComponentDataArray);
    };
    /**
     * @param {?} data
     * @return {?}
     */
    DrillableComponent.prototype.getData = /**
     * @param {?} data
     * @return {?}
     */
    function (data) {
        var _this = this;
        data.forEach(function (element) {
            if (element.level !== 1) {
                element.drillableFlag = false;
                element.drillableEvent.subscribe(function (eventdata) {
                    _this.hideUI(eventdata);
                    _this.sameLevelChart(eventdata);
                    _this.ShowUI(eventdata);
                });
            }
            else {
                _this.disableFlag = false;
                element.drillableEvent.subscribe(function (eventdata) {
                    _this.hideUI(eventdata);
                    _this.sameLevelChart(eventdata);
                    _this.ShowUI(eventdata);
                });
            }
        });
    };
    /**
     * @param {?} eventRef
     * @return {?}
     */
    DrillableComponent.prototype.hideUI = /**
     * @param {?} eventRef
     * @return {?}
     */
    function (eventRef) {
        this.ComponentDataArray.forEach(function (element) {
            if (element.level == eventRef.ref.level) {
                eventRef.ref.drillableFlag = false;
            }
        });
    };
    /**
     * @param {?} eventRef
     * @return {?}
     */
    DrillableComponent.prototype.ShowUI = /**
     * @param {?} eventRef
     * @return {?}
     */
    function (eventRef) {
        var _this = this;
        this.eventData = [];
        this.eventData = eventRef;
        this.ComponentDataArray.forEach(function (element) {
            if (eventRef.ref.target == element.level) {
                if (_this.arrayofsameLevel.length == 1) {
                    _this.disableFlag = true;
                    element.drillableFlag = true;
                    element.fetchData(eventRef.node);
                    _this.componentcounter = element.level;
                }
                else {
                    _this.contextmenuFlag = true;
                    _this.mouseLocation.left = eventRef.event.clientX;
                    _this.mouseLocation.top = eventRef.event.clientY;
                    _this.contextStyle = _this.getContextMenuStyle();
                }
            }
        });
        if (this.componentcounter == eventRef.ref.level) {
            eventRef.ref.drillableFlag = true;
        }
    };
    /**
     * @param {?} event
     * @return {?}
     */
    DrillableComponent.prototype.previouschartClick = /**
     * @param {?} event
     * @return {?}
     */
    function (event) {
        var _this = this;
        /** @type {?} */
        var chartLevel = this.componentcounter - 1;
        this.ComponentDataArray.forEach(function (element) {
            if (chartLevel == element.level) {
                element.drillableFlag = true;
                element.drawChart();
            }
            else if (_this.componentcounter == element.level) {
                element.drillableFlag = false;
            }
        });
        if (this.componentcounter == 2) {
            this.disableFlag = false;
        }
        this.componentcounter = chartLevel;
    };
    /**
     * @param {?} eventRef
     * @return {?}
     */
    DrillableComponent.prototype.sameLevelChart = /**
     * @param {?} eventRef
     * @return {?}
     */
    function (eventRef) {
        var _this = this;
        this.arrayofsameLevel = [];
        this.ComponentDataArray.forEach(function (element) {
            if (eventRef.ref.target == element.level) {
                _this.arrayofsameLevel = _this.arrayofsameLevel.concat(element);
            }
        });
    };
    //Method Creates style if two same targets found.
    //Method Creates style if two same targets found.
    /**
     * @return {?}
     */
    DrillableComponent.prototype.getContextMenuStyle = 
    //Method Creates style if two same targets found.
    /**
     * @return {?}
     */
    function () {
        return {
            'cursor': 'default',
            'position': 'fixed',
            'display': this.contextmenuFlag ? 'block' : 'none',
            'left': this.mouseLocation.left + 'px',
            'top': this.mouseLocation.top + 'px',
            'box-shadow': '1px 1px 2px #000000',
            'width': '15%',
        };
    };
    /**
     * @param {?} elementRef
     * @return {?}
     */
    DrillableComponent.prototype.getListPosition = /**
     * @param {?} elementRef
     * @return {?}
     */
    function (elementRef) {
        /** @type {?} */
        var height = 240;
        if ((window.screen.height - elementRef.getBoundingClientRect().bottom) < height) {
            return true;
        }
        else {
            return false;
        }
    };
    /**
     * @param {?} event
     * @return {?}
     */
    DrillableComponent.prototype.onContextNodeClick = /**
     * @param {?} event
     * @return {?}
     */
    function (event) {
        this.componentcounter = 0;
        this.contextmenuFlag = false;
        this.eventData.ref.drillableFlag = false;
        this.disableFlag = true;
        event.drillableFlag = true;
        event.fetchData(this.eventData.node);
        this.componentcounter = event.level;
        if (this.componentcounter == this.eventData.ref.level) {
            this.eventData.ref.drillableFlag = true;
        }
    };
    /**
     * @return {?}
     */
    DrillableComponent.prototype.onCloseClick = /**
     * @return {?}
     */
    function () {
        this.contextmenuFlag = false;
    };
    DrillableComponent.decorators = [
        { type: Component, args: [{
                    selector: 'amexio-drillable',
                    template: "\n<div > \n    <ng-container *ngIf=\"disableFlag\">\n            <button type=\"button\" class=\"button\"\n             (click)=\"previouschartClick($event)\">\n             <i class=\"fa fa-arrow-left\"></i> \n             \n            </button>\n</ng-container>\n\n<ng-content></ng-content>\n\n</div>\n\n<span [ngStyle]=\"contextStyle\" >\n  <ul *ngIf=\"contextmenuFlag\" class=\"close-thik\" class=\"context-menu-list\"  >\n    <span (click)=\"onCloseClick()\" class=\"close\"><i class=\"fa fa-close\"></i></span>\n  <li (click)=\"onContextNodeClick(itemConfig)\" class=\"context-menu-list-items\" \n  *ngFor=\"let itemConfig of arrayofsameLevel\">\n  <em [ngStyle]=\"{'padding-left': itemConfig.icon ? '5px':'19px'}\"></em>\n  <span style=\"white-space: nowrap;display: inline ; padding-left:5px\">{{itemConfig.title}}\n  </span>\n  </li>\n  </ul>\n  </span>\n  ",
                    styles: [".button{position:relative;border:1px solid #555;font-weight:400;color:#000;padding:.5rem 1rem;text-align:center;transition-duration:.4s;text-decoration:none;overflow:hidden;cursor:pointer;border-radius:3px}.button:after{content:\"\";background:#000;display:block;position:absolute;padding-top:300%;padding-left:350%;margin-left:-20px!important;margin-top:-120%;opacity:0;transition:.8s}.button:active:after{padding:0;margin:0;opacity:1;transition:none}.context-menu-list{display:block;position:absolute;flex-direction:column;min-width:180px;cursor:pointer;max-height:150px;z-index:1;padding:10px 0;overflow-y:auto;background-color:#fff!important;box-shadow:0 5px 5px -3px rgba(0,0,0,.2),0 8px 10px 1px rgba(0,0,0,.14),0 3px 14px 2px rgba(0,0,0,.12)}.context-menu-list .context-menu-list-items{text-decoration:none;font-size:14px!important;padding:5px;display:block}.close{float:right;padding-right:8px;cursor:pointer}"]
                },] },
    ];
    DrillableComponent.ctorParameters = function () { return []; };
    return DrillableComponent;
}(ViewDrillableComponent));

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingReturn,uselessCode} checked by tsc
 */
/** @type {?} */
var D3_COMPONENTS = [
    AmexioD3Legend,
    AmexioD3DounutChartComponent,
    AmexioD3BarChartComponent,
    AmexioD3PieChartComponent,
    AmexioD3LineComponent,
    BarstackComponent,
    GroupbarComponent,
    CombochartComponent,
    DrillableComponent,
    HistogramComponent,
    MultiareaComponent,
    ScatterchartComponent,
    CandlestickComponent,
    BubbleComponent
];

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingReturn,uselessCode} checked by tsc
 */
var AmexioChartD3Module = /** @class */ (function () {
    function AmexioChartD3Module() {
    }
    AmexioChartD3Module.decorators = [
        { type: NgModule, args: [{
                    imports: [
                        FormsModule,
                        CommonModule
                    ],
                    declarations: D3_COMPONENTS,
                    providers: [DeviceQueryService],
                    exports: D3_COMPONENTS
                },] },
    ];
    return AmexioChartD3Module;
}());

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingReturn,uselessCode} checked by tsc
 */

/**
 * @fileoverview added by tsickle
 * @suppress {checkTypes,extraRequire,missingReturn,uselessCode} checked by tsc
 */

export { AmexioChartD3Module, AmexioD3DounutChartComponent, AmexioD3PieChartComponent, AmexioD3BarChartComponent, AmexioD3LineComponent, BarstackComponent, GroupbarComponent, D3_COMPONENTS as ɵa, AmexioD3BaseChartComponent as ɵc, ViewDrillableComponent as ɵi, BubbleComponent as ɵn, CandlestickComponent as ɵm, CombochartComponent as ɵg, DrillableComponent as ɵh, HistogramComponent as ɵj, AmexioD3Legend as ɵb, AmexioD3BaseLineComponent as ɵf, MultiareaComponent as ɵl, ScatterchartComponent as ɵk, CommanDataService as ɵd, DeviceQueryService as ɵe };

//# sourceMappingURL=data:application/json;charset=utf-8;base64,eyJ2ZXJzaW9uIjozLCJmaWxlIjoiYW1leGlvLWNoYXJ0LWQzLmpzLm1hcCIsInNvdXJjZXMiOlsibmc6Ly9hbWV4aW8tY2hhcnQtZDMvbGliL2Jhc2UvYmFzZS5jb21wb25lbnQudHMiLCJuZzovL2FtZXhpby1jaGFydC1kMy9saWIvc2VydmljZXMvY29tbWFuLmRhdGEuc2VydmljZS50cyIsIm5nOi8vYW1leGlvLWNoYXJ0LWQzL2xpYi9kb3VudXQvZG91bnV0LmNvbXBvbmVudC50cyIsIm5nOi8vYW1leGlvLWNoYXJ0LWQzL2xpYi9waWUvcGllLmNvbXBvbmVudC50cyIsIm5nOi8vYW1leGlvLWNoYXJ0LWQzL2xpYi9sZWdlbmQvbGVnZW5kLmNvbXBvbmVudC50cyIsIm5nOi8vYW1leGlvLWNoYXJ0LWQzL2xpYi9zZXJ2aWNlcy9kZXZpY2UucXVlcnkuc2VydmljZS50cyIsIm5nOi8vYW1leGlvLWNoYXJ0LWQzL2xpYi9iYXIvYmFyLmNvbXBvbmVudC50cyIsIm5nOi8vYW1leGlvLWNoYXJ0LWQzL2xpYi9saW5lL2Jhc2VsaW5lLmNvbXBvbmVudC50cyIsIm5nOi8vYW1leGlvLWNoYXJ0LWQzL2xpYi9saW5lL2xpbmUuY29tcG9uZW50LnRzIiwibmc6Ly9hbWV4aW8tY2hhcnQtZDMvbGliL2JhcnN0YWNrL2JhcnN0YWNrLmNvbXBvbmVudC50cyIsIm5nOi8vYW1leGlvLWNoYXJ0LWQzL2xpYi9ncm91cGJhci9ncm91cGJhci5jb21wb25lbnQudHMiLCJuZzovL2FtZXhpby1jaGFydC1kMy9saWIvY29tYm9jaGFydC9jb21ib2NoYXJ0LmNvbXBvbmVudC50cyIsIm5nOi8vYW1leGlvLWNoYXJ0LWQzL2xpYi9oaXN0b2dyYW0vaGlzdG9ncmFtLmNvbXBvbmVudC50cyIsIm5nOi8vYW1leGlvLWNoYXJ0LWQzL2xpYi9zY2F0dGVyY2hhcnQvc2NhdHRlcmNoYXJ0LmNvbXBvbmVudC50cyIsIm5nOi8vYW1leGlvLWNoYXJ0LWQzL2xpYi9tdWx0aWFyZWEvbXVsdGlhcmVhLmNvbXBvbmVudC50cyIsIm5nOi8vYW1leGlvLWNoYXJ0LWQzL2xpYi9jYW5kbGVzdGljay9jYW5kbGVzdGljay5jb21wb25lbnQudHMiLCJuZzovL2FtZXhpby1jaGFydC1kMy9saWIvYnViYmxlL2J1YmJsZS9idWJibGUuY29tcG9uZW50LnRzIiwibmc6Ly9hbWV4aW8tY2hhcnQtZDMvbGliL2Jhc2Uvdmlldy5jb21wb25lbnQudHMiLCJuZzovL2FtZXhpby1jaGFydC1kMy9saWIvZHJpbGxhYmxlL2RyaWxsYWJsZS9kcmlsbGFibGUuY29tcG9uZW50LnRzIiwibmc6Ly9hbWV4aW8tY2hhcnQtZDMvbGliL2FtZXhpby1jaGFydC1kMy1jb21wb25lbnRzLnRzIiwibmc6Ly9hbWV4aW8tY2hhcnQtZDMvbGliL2FtZXhpby1jaGFydC1kMy5tb2R1bGUudHMiXSwic291cmNlc0NvbnRlbnQiOlsiaW1wb3J0IHsgSW5wdXQsIE91dHB1dCwgRXZlbnRFbWl0dGVyIH0gZnJvbSBcIkBhbmd1bGFyL2NvcmVcIjtcblxuZXhwb3J0IGNsYXNzIEFtZXhpb0QzQmFzZUNoYXJ0Q29tcG9uZW50e1xuXG4gICBcblxuICAgIEBPdXRwdXQoKSBvbkxlZ2VuZENsaWNrOiBhbnkgPSBuZXcgRXZlbnRFbWl0dGVyPGFueT4oKTtcblxuICAgIEBPdXRwdXQoKSBvbkNoYXJ0Q2xpY2s6IGFueSA9IG5ldyBFdmVudEVtaXR0ZXI8YW55PigpO1xuXG4gICAgQE91dHB1dCgpIG9uTGluZUNsaWNrOiBhbnkgPSBuZXcgRXZlbnRFbWl0dGVyPGFueT4oKTtcbiAgIFxuICAgIEBPdXRwdXQoKSBkcmlsbGFibGVFdmVudCA9IG5ldyBFdmVudEVtaXR0ZXIoKTtcbiAgICBcbiAgICBASW5wdXQoJ2RhdGEnKSBkYXRhOiBhbnk7XG5cbiAgICBASW5wdXQoJ2h0dHAtdXJsJykgaHR0cHVybDogYW55O1xuICAgIFxuICAgIEBJbnB1dCgnaHR0cC1tZXRob2QnKSBodHRwbWV0aG9kOiBhbnk7XG5cbiAgICBASW5wdXQoJ2xlZ2VuZCcpIGxlZ2VuZDogYm9vbGVhbiA9IHRydWUgO1xuXG4gICAgQElucHV0KCdjb2xvcicpIGNvbG9yczogYW55O1xuXG4gICAgQElucHV0KCdoZWlnaHQnKSBoZWlnaHQ6IGFueSA9IFwiMzAwXCI7XG5cbiAgICBASW5wdXQoJ3dpZHRoJykgd2lkdGggOiBhbnkgPSBcIjMwMFwiO1xuXG4gICAgQElucHV0KCd0aXRsZScpIHRpdGxlOiBhbnkgPSBcIlwiO1xuXG4gICAgcHJlZGVmaW5lZGNvbG9yczogc3RyaW5nW107XG4gICAgXG4gICAgY29tcG9uZW50SWQgOiBzdHJpbmc7XG5cbiAgICBwcml2YXRlICBwb3NzaWJsZSA6IHN0cmluZyA9IFwiQUJDREVGR0hJSktMTU5PUFFSU1RVVldYWVphYmNkZGVmZ2hpamtsbW9ucHFyc3R1dnd4eXpcIjtcblxuICAgIGNvbG9ySW5kZXg6IG51bWJlciA9IDA7XG5cbiAgICBjaGFydHR5cGUgOiBzdHJpbmc7XG5cbiAgICBjb25zdHJ1Y3RvcihjaGFydHR5cGU6c3RyaW5nKSB7XG4gICAgICAgIHRoaXMuY29sb3JzID0gW107XG4gICAgICAgIHRoaXMuY2hhcnR0eXBlID0gY2hhcnR0eXBlO1xuICAgICAgICB0aGlzLnByZWRlZmluZWRjb2xvcnMgPSBbXCIjMzM2NmNjXCIsIFwiI2RjMzkxMlwiLCBcIiNmZjk5MDBcIiwgXCIjMTA5NjE4XCIsIFwiIzk5MDA5OVwiLCBcIiMwMDk5YzZcIiwgXCIjZGQ0NDc3XCIsIFwiIzY2YWEwMFwiLCBcIiNiODJlMmVcIiwgXCIjMzE2Mzk1XCIsIFwiIzk5NDQ5OVwiLCBcIiMyMmFhOTlcIiwgXCIjYWFhYTExXCIsIFwiIzY2MzNjY1wiLCBcIiNlNjczMDBcIiwgXCIjOGIwNzA3XCIsIFwiIzY1MTA2N1wiLCBcIiMzMjkyNjJcIiwgXCIjNTU3NGE2XCIsIFwiIzNiM2VhY1wiXTtcbiAgICAgICAgdGhpcy5jb21wb25lbnRJZCA9IHRoaXMuY2hhcnR0eXBlICArIFwiLVwiICsgdGhpcy5nZW5lcmF0ZUlkKCk7XG4gICAgfVxuICBcbiAgICBwcm90ZWN0ZWQgaW5pdGlhbGl6ZURhdGEoKSB7XG4gICAgICAgIFxuICAgICAgICBcbiAgICAgICAgICAgIHRoaXMuZGF0YS5mb3JFYWNoKGVsZW1lbnQgPT4ge1xuICAgICAgICAgICAgIGVsZW1lbnQuY29sb3IgPSB0aGlzLmdldENvbG9yKGVsZW1lbnQpO1xuICAgICAgICAgICB9KTtcbiAgICAgfVxuXG4gICAgICBwcm90ZWN0ZWQgZ2V0TXVsdGlwbGVEcmlsbGJsZUtleURhdGEoZGF0YTphbnksZHJpbGxhYmxla2V5czphbnkpXG4gICAgICB7XG4gICAgICAgXG4gICAgICAgICAgbGV0IG5vZGVPYmplY3Q9e307XG4gICAgICAgICAgaWYoZGF0YSlcbiAgICAgICAgICB7XG4gICAgICBmb3IgKGxldCBpbmRleCA9IDA7IGluZGV4IDwgZHJpbGxhYmxla2V5cy5sZW5ndGg7IGluZGV4KyspIHtcbiAgICAgICAgICAgICAgICBcbiAgICAgICAgICAgbGV0IGVsZW1lbnQgPSBkcmlsbGFibGVrZXlzW2luZGV4XTtcbiAgICAgICAgICAgZm9yIChsZXQgW2tleSx2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMoZGF0YSkpIHtcbiAgICAgICAgICAgICAgICAgICBpZiAoa2V5ID09IGVsZW1lbnQpIFxuICAgICAgICAgICAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgICAgICAgICAgICAgICBub2RlT2JqZWN0W2tleV0gPSB2YWx1ZTtcbiAgICAgICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgICAgIH07XG4gICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgcmV0dXJuIG5vZGVPYmplY3Q7XG4gICAgICAgICAgICB9XG4gICAgICAgXG4gfVxuICAgICBcbiBwcml2YXRlIGdlbmVyYXRlSWQoKXtcbiAgICAgICBsZXQgaWQgPSBcIlwiO1xuICAgICAgIGZvcihsZXQgaSA9IDA7IGk8NTsgaSsrKXtcbiAgICAgICAgaWQgPSBpZCArIHRoaXMucG9zc2libGVcbiAgICAgICAgICAgICAgICAgICAgICAgICAgIC5jaGFyQXQoTWF0aC5mbG9vcihNYXRoLnJhbmRvbSgpKnRoaXMucG9zc2libGUubGVuZ3RoKSk7XG4gICAgICAgfVxuICAgICAgIGlkID0gaWQgKyBcIi1cIituZXcgRGF0ZSgpLmdldFRpbWUoKTtcbiAgICAgICByZXR1cm4gaWQ7XG4gICAgfVxuXG4gICAgcHJpdmF0ZSAgZ2V0Q29sb3Iob2JqZWN0IDogYW55KXtcbiAgICAgICAgaWYgKG9iamVjdC5jb2xvcikge1xuICAgICAgICAgICAgcmV0dXJuIG9iamVjdC5jb2xvcjtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIGlmICh0aGlzLmNvbG9ycy5sZW5ndGggPiB0aGlzLmNvbG9ySW5kZXgpIHtcbiAgICAgICAgICAgIGNvbnN0IGNvbG9yID0gdGhpcy5jb2xvcnNbdGhpcy5jb2xvckluZGV4XTtcbiAgICAgICAgICAgIHRoaXMuY29sb3JJbmRleCsrO1xuICAgICAgICAgICAgcmV0dXJuIGNvbG9yO1xuICAgICAgICB9XG4gICAgICAgIGVsc2UgaWYgKCh0aGlzLmNvbG9ycy5sZW5ndGggPiAwKSAmJiAodGhpcy5jb2xvcnMubGVuZ3RoIDw9IHRoaXMuY29sb3JJbmRleCkpIHtcbiAgICAgICAgICAgIHRoaXMuY29sb3JJbmRleCA9IDA7XG4gICAgICAgICAgICBjb25zdCBjb2xvciA9IHRoaXMuY29sb3JzW3RoaXMuY29sb3JJbmRleF07XG4gICAgICAgICAgICByZXR1cm4gY29sb3I7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICBjb25zdCBjb2xvciA9IHRoaXMucHJlZGVmaW5lZGNvbG9yc1t0aGlzLmNvbG9ySW5kZXhdO1xuICAgICAgICAgICAgdGhpcy5jb2xvckluZGV4Kys7XG4gICAgICAgICAgICByZXR1cm4gY29sb3I7XG4gICAgICAgIH1cbiAgICB9XG5cblxuICAgIGxlZ2VuZENsaWNrKG5vZGU6YW55KXtcbiAgICAgICAgdGhpcy5vbkxlZ2VuZENsaWNrLmVtaXQobm9kZSk7XG4gICAgfVxuXG4gICAgY2hhcnRDbGljayhub2RlOmFueSl7XG4gICAgICAgIHRoaXMub25DaGFydENsaWNrLmVtaXQobm9kZSk7XG4gICAgfVxuICAgIFxuICAgIGNvbWJvTGluZUNsaWNrKG5vZGU6IGFueSl7XG4gICAgICAgIHRoaXMub25MaW5lQ2xpY2suZW1pdChub2RlKTtcbiAgICB9XG4gICAgZm9yZHJpbGxhYmxlQ2xpY2socmVmOiBhbnksbm9kZTogYW55LGV2ZW50OiBhbnkpXG4gICAgIHtcbiAgICAgICAgdGhpcy5kcmlsbGFibGVFdmVudC5lbWl0KHtyZWY6IHJlZixub2RlOiBub2RlLGV2ZW50OiBldmVudH0pO1xuICAgIH1cbiAgICBwcm90ZWN0ZWQgdG9vbFRpcCAoZDM6YW55KSA6YW55e1xuICAgICAgIHJldHVybiAgZDMuc2VsZWN0KFwiYm9keVwiKVxuICAgICAgICAgICAgICAgICAgICAgIC5hcHBlbmQoXCJkaXZcIilcbiAgICAgICAgICAgICAgICAgICAgICAuYXR0cignaWQnLCd0b29sdGlwaWQnKVxuICAgICAgICAgICAgICAgICAgICAgIC5hdHRyKCdjbGFzcycsJ2FtZXhpb2QzdG9vbHRpcCcpXG4gICAgICAgICAgICAgICAgICAgICAgLnN0eWxlKFwicG9zaXRpb25cIiwgXCJhYnNvbHV0ZVwiKVxuICAgICAgICAgICAgICAgICAgICAgIC5zdHlsZShcInotaW5kZXhcIiwgXCIxMFwiKVxuICAgICAgICAgICAgICAgICAgICAgIC5zdHlsZShcInZpc2liaWxpdHlcIiwgXCJoaWRkZW5cIik7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIHRvb2xUaXBDb250ZW50KHRvb2x0aXBkYXRhOmFueSkgOmFueXtcbiAgICAgICBsZXQgdG9vbHRpcGh0bWwgPSBcIjx0YWJsZT5cIjtcbiAgICAgIGZvciAoY29uc3Qga2V5IGluIHRvb2x0aXBkYXRhKSB7XG4gICAgICAgIGlmICh0b29sdGlwZGF0YS5oYXNPd25Qcm9wZXJ0eShrZXkpKSB7XG4gICAgICAgICAgY29uc3QgdmFsdWUgPSB0b29sdGlwZGF0YVtrZXldO1xuICAgICAgICAgIHRvb2x0aXBodG1sID0gdG9vbHRpcGh0bWwgKyBcIjx0cj5cIjtcbi8vLS0tLS0tLS0tLS0tLS0tLS0tXG4gICAgICAgIC8vICAgdG9vbHRpcGh0bWwgPSB0b29sdGlwaHRtbCArIFwiPHRkPlwiO1xuICAgICAgICAvLyAgIHRvb2x0aXBodG1sID0gdG9vbHRpcGh0bWwgKyBrZXkrJzonO1xuICAgICAgICAvLyAgIHRvb2x0aXBodG1sID0gdG9vbHRpcGh0bWwgKyBcIjwvdGQ+XCI7XG4vLy0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgICAgIHRvb2x0aXBodG1sID0gdG9vbHRpcGh0bWwgKyBcIjx0ZD5cIjtcbiAgICAgICAgICB0b29sdGlwaHRtbCA9IHRvb2x0aXBodG1sICsgdmFsdWU7XG4gICAgICAgICAgdG9vbHRpcGh0bWwgPSB0b29sdGlwaHRtbCArIFwiPC90ZD5cIjtcbiAgICAgICAgICB0b29sdGlwaHRtbCA9IHRvb2x0aXBodG1sICsgXCI8L3RyPlwiO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgICB0b29sdGlwaHRtbCA9IHRvb2x0aXBodG1sICsgXCI8L3RhYmxlPlwiO1xuXG4gICAgICByZXR1cm4gdG9vbHRpcGh0bWw7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIHRvb2xUaXBXaXRoTGVnZW5kYW5kQXhpcyhsZWdlbmQ6IHN0cmluZywgeGF4aXM6c3RyaW5nLCB5YXhpczogc3RyaW5nKSA6YW55e1xuICAgICAgICBsZXQgdG9vbHRpcGh0bWwgPSBcIjxkaXY+XCI7XG4gICAgICAgIHRvb2x0aXBodG1sID0gdG9vbHRpcGh0bWwgKyBcIjxiPlwiK3hheGlzK1wiPC9iPiwgXCI7XG4gICAgICAgIHRvb2x0aXBodG1sID0gdG9vbHRpcGh0bWwgKyBsZWdlbmQrXCI8L2I+IFwiO1xuICAgICAgICB0b29sdGlwaHRtbCA9IHRvb2x0aXBodG1sICsgXCI8Yj5cIit5YXhpcytcIjwvYj4gXCI7XG4gICAgICAgIHRvb2x0aXBodG1sID0gdG9vbHRpcGh0bWwgKyBcIjwvZGl2PlwiO1xuICAgICAgICByZXR1cm4gdG9vbHRpcGh0bWw7XG4gICAgfVxuXG4gICAgcHJvdGVjdGVkIHRvb2xUaXBGb3JCYXIodG9vbHRpcERhdGE6IGFueSk6IGFueXtcbiAgICAgICAgIGxldCB0b29sdGlwaHRtbD0gXCI8ZGl2PlwiO1xuICAgICAgICBmb3IgKGxldCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXModG9vbHRpcERhdGEpKSB7XG4gICAgICAgICAgICBsZXQgc2lkZVN0eWxlPVwiZmxvYXQ6bGVmdFwiO1xuICAgICAgICAgICAgdG9vbHRpcGh0bWwgPSB0b29sdGlwaHRtbCArIFwiPGRpdj5cIjtcbiAgICAgICAgIHRvb2x0aXBodG1sID0gdG9vbHRpcGh0bWwgKyBcIjxzcGFuIHN0eWxlID1cIitzaWRlU3R5bGUrXCIgPjxiPlwiICsga2V5ICtcIiBcIisgXCI8L2I+XCIgK3ZhbHVlICsgXCI8L2JyPjwvc3Bhbj5cIjtcbiAgICAgICAgIHRvb2x0aXBodG1sID0gdG9vbHRpcGh0bWwgKyBcIjwvZGl2PlwiO1xuICAgICAgICB9XG5cbiAgICAgICAgIHJldHVybiB0b29sdGlwaHRtbDtcbiAgICB9XG5cbn0iLCJpbXBvcnQgeyBJbmplY3RhYmxlIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBIdHRwQ2xpZW50LEh0dHBDbGllbnRNb2R1bGUsSHR0cEhlYWRlcnMgfSBmcm9tICdAYW5ndWxhci9jb21tb24vaHR0cCc7XG5cbmltcG9ydCB7T2JzZXJ2YWJsZX0gZnJvbSAncnhqcy9pbmRleCc7XG5ASW5qZWN0YWJsZSh7XG4gIHByb3ZpZGVkSW46ICdyb290J1xufSlcbmV4cG9ydCBjbGFzcyBDb21tYW5EYXRhU2VydmljZSB7XG5cbiAgY29uc3RydWN0b3IocHJpdmF0ZSBodHRwOkh0dHBDbGllbnQpIHsgfVxuICBzZXJ2aWNlVXJsOiBzdHJpbmc7XG5cbiAgZmV0Y2hVcmxEYXRhKHNlcnZpY2VVcmw6IHN0cmluZywgbWV0aG9kVHlwZTogc3RyaW5nKTogT2JzZXJ2YWJsZTxhbnk+IHtcbiAgICBjb25zdCByZXF1ZXN0SnNvbiA9IHt9O1xuICAgIGNvbnN0IGhlYWRlcnMgPSBuZXcgSHR0cEhlYWRlcnMoKS5hcHBlbmQoJ0NvbnRlbnQtVHlwZScsICdhcHBsaWNhdGlvbi9qc29uO2NoYXJzZXQ9VVRGLTgnKTtcbiAgICBpZiAobWV0aG9kVHlwZSA9PT0gJ3Bvc3QnKSB7XG4gICAgcmV0dXJuIHRoaXMuaHR0cC5wb3N0KHNlcnZpY2VVcmwsIHJlcXVlc3RKc29uLCB7aGVhZGVyc30pO1xuICAgIH1lbHNlIGlmIChtZXRob2RUeXBlID09PSAnZ2V0Jykge1xuICAgIHJldHVybiB0aGlzLmh0dHAuZ2V0KHNlcnZpY2VVcmwsIHtoZWFkZXJzfSk7XG4gICAgfVxufVxuXG5cbnBvc3RmZXRjaERhdGEoc2VydmljZVVybDogc3RyaW5nLCBtZXRob2RUeXBlOiBzdHJpbmcscmVxdWVzdEpzb246YW55KTogT2JzZXJ2YWJsZTxhbnk+IHtcbiBcbiAgY29uc3QgaGVhZGVycyA9IG5ldyBIdHRwSGVhZGVycygpLmFwcGVuZCgnQ29udGVudC1UeXBlJywgJ2FwcGxpY2F0aW9uL2pzb247Y2hhcnNldD1VVEYtOCcpO1xuICBpZiAobWV0aG9kVHlwZSA9PT0gJ3Bvc3QnKSB7XG4gIHJldHVybiB0aGlzLmh0dHAucG9zdChzZXJ2aWNlVXJsLCByZXF1ZXN0SnNvbiwge2hlYWRlcnN9KTtcbiAgfWVsc2UgaWYgKG1ldGhvZFR5cGUgPT09ICdnZXQnKSB7XG4gIHJldHVybiB0aGlzLmh0dHAuZ2V0KHNlcnZpY2VVcmwsIHtoZWFkZXJzfSk7XG4gIH1cbn1cblxuXG5cblxuXG5cbn0iLCJpbXBvcnQgeyBDb21wb25lbnQsIEV2ZW50RW1pdHRlciwgSW5wdXQsIE9uSW5pdCwgT3V0cHV0LCBWaWV3Q2hpbGQsIEVsZW1lbnRSZWYsIENoYW5nZURldGVjdG9yUmVmIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgKiBhcyBkMyBmcm9tICdkMyc7XG5pbXBvcnQgeyBBbWV4aW9EM0Jhc2VDaGFydENvbXBvbmVudCB9IGZyb20gJy4uL2Jhc2UvYmFzZS5jb21wb25lbnQnO1xuaW1wb3J0IHsgUGxvdENhcnQgfSBmcm9tICcuLi9iYXNlL2NoYXJ0LmNvbXBvbmVudCc7XG5pbXBvcnQgeyBIdHRwQ2xpZW50LCBIdHRwQ2xpZW50TW9kdWxlIH0gZnJvbSAnQGFuZ3VsYXIvY29tbW9uL2h0dHAnO1xuaW1wb3J0IHsgQ29tbWFuRGF0YVNlcnZpY2UgfSBmcm9tICcuLi9zZXJ2aWNlcy9jb21tYW4uZGF0YS5zZXJ2aWNlJztcblxuQENvbXBvbmVudCh7XG4gIHNlbGVjdG9yOiAnYW1leGlvLWQzLWNoYXJ0LWRvbnV0JyxcbiAgdGVtcGxhdGU6IGA8ZGl2ICpuZ0lmPVwiZHJpbGxhYmxlRmxhZ1wiICNjaGFydElkPlxuXG5cbiAgICA8ZGl2IGNvbHNwYW49XCIyXCIgc3R5bGU9XCJmb250LXNpemU6IDE4cHg7IGZvbnQtd2VpZ2h0OiBib2xkOyBcIj5cbiAgICAgICAge3t0aXRsZX19XG4gICAgPC9kaXY+XG4gICAgICAgIDxkaXYgc3R5bGU9XCJkaXNwbGF5OiBmbGV4O2ZsZXgtZGlyZWN0aW9uOiByb3dcIj5cbiAgICAgICAgICAgIDxzdmcgcHJlc2VydmVBc3BlY3RSYXRpbz1cInhNaW5ZTWluIG1lZXRcIiB2aWV3Qm94PVwiMCAwIDMwMCAzMDBcIiBbYXR0ci5oZWlnaHRdPVwiaGVpZ2h0XCIgW2F0dHIud2lkdGhdPVwid2lkdGhcIiBbYXR0ci5pZF09XCJjb21wb25lbnRJZFwiPlxuICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgICA8ZGl2PlxuXG4gICAgICAgICAgIDxkaXYgc3R5bGU9XCJkaXNwbGF5OiBibG9jazsgcGFkZGluZzogMSU7XCI+XG4gICAgICAgICAgICAgICAgICAgIDxhbWV4aW8tZDMtbGVnZW5kICpuZ0lmPVwibGVnZW5kXCIgKG9uQ2xpY2spPVwib25Eb251dExlZ2VuZENsaWNrKCRldmVudClcIiBbZGF0YV09XCJsZWdlbmRBcnJheVwiIHN0eWxlPVwiaGVpZ2h0OjEwMCU7XCI+PC9hbWV4aW8tZDMtbGVnZW5kPlxuICAgICAgICAgIDwvZGl2PlxuICAgPC9kaXY+XG4gICAgYFxufSlcbmV4cG9ydCBjbGFzcyBBbWV4aW9EM0RvdW51dENoYXJ0Q29tcG9uZW50IGV4dGVuZHMgQW1leGlvRDNCYXNlQ2hhcnRDb21wb25lbnQgaW1wbGVtZW50cyBQbG90Q2FydCB7XG5cbiAgQElucHV0KCdwaWUnKSBwaWU6IGJvb2xlYW4gPSBmYWxzZTtcbiAgQElucHV0KCd3aWR0aCcpIHN2Z3dpZHRoOiBudW1iZXIgPSAzMDA7XG4gIEBJbnB1dCgnaGVpZ2h0Jykgc3ZnaGVpZ2h0OiBudW1iZXIgPSAzMDA7XG4gIEBWaWV3Q2hpbGQoJ2NoYXJ0SWQnKSBjaGFydElkOiBFbGVtZW50UmVmO1xuICBASW5wdXQoJ2xhYmVsLWNvbG9yJykgbGFiZWxjb2xvcjogc3RyaW5nID0gXCJibGFja1wiO1xuICBASW5wdXQoJ2xhYmVsJykgbGFiZWxmbGFnOiBib29sZWFuID0gZmFsc2U7XG4gIEBWaWV3Q2hpbGQoJ2RpdmlkJykgZGl2aWQ6IEVsZW1lbnRSZWY7XG4gIEBWaWV3Q2hpbGQoJ2RyaWxsaWQnKSBkcmlsbGlkOiBhbnk7XG4gIEBJbnB1dCgnZGF0YS1yZWFkZXInKSBkYXRhcmVhZGVyOiBzdHJpbmc7XG4gIEBJbnB1dCgnbGV2ZWwnKSBsZXZlbDogbnVtYmVyID0gMDtcbiAgQElucHV0KCd0YXJnZXQnKSB0YXJnZXQ6IG51bWJlcjtcbiAgQElucHV0KCkgZHJpbGxEYXRhOiBhbnk7XG4gIEBJbnB1dCgnZHJpbGxhYmxlLWRhdGEnKSBkcmlsbGFibGVkYXRha2V5OiBhbnlcbiAgZHJpbGxhYmxlRmxhZzogYm9vbGVhbiA9IHRydWU7XG4gIGtleUFycmF5OiBhbnlbXSA9IFtdO1xuICB0cmFuc2Zvcm1lZGRhdGE6IGFueVtdID0gW107XG4gIGxlZ2VuZEFycmF5OiBhbnlbXSA9IFtdO1xuICByZXNwb25zZTogYW55O1xuICBzdmc6IGFueTtcbiAgY29uc3RydWN0b3IocHJpdmF0ZSBteXNlcnZpY2U6IENvbW1hbkRhdGFTZXJ2aWNlLCBwcml2YXRlIGNkZjogQ2hhbmdlRGV0ZWN0b3JSZWYpIHtcbiAgICBzdXBlcignRE9OVVRDSEFSVCcpO1xuICB9XG5cbiAgbmdPbkluaXQoKSB7XG5cbiAgICBpZiAodGhpcy5sZXZlbCA8PSAxKSB7XG4gICAgICBsZXQgcmVzcDogYW55O1xuICAgICAgaWYgKHRoaXMuaHR0cG1ldGhvZCAmJiB0aGlzLmh0dHB1cmwpIHtcbiAgICAgICAgdGhpcy5teXNlcnZpY2UuZmV0Y2hVcmxEYXRhKHRoaXMuaHR0cHVybCwgdGhpcy5odHRwbWV0aG9kKS5zdWJzY3JpYmUoKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgcmVzcCA9IHJlc3BvbnNlO1xuICAgICAgICB9LCAoZXJyb3IpID0+IHtcbiAgICAgICAgfSwgKCkgPT4ge1xuXG4gICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG5cbiAgICAgICAgICAgIHRoaXMuZGF0YSA9IHRoaXMuZ2V0UmVzcG9uc2VEYXRhKHJlc3ApO1xuICAgICAgICAgICAgdGhpcy5kcmF3Q2hhcnQoKTtcblxuICAgICAgICAgICAgdGhpcy5kYXRhID0gdGhpcy5nZXRSZXNwb25zZURhdGEocmVzcCk7XG4gICAgICAgICAgICAvL3RoaXMudHJhbnNmb3JtRGF0YSh0aGlzLmRhdGEpO1xuICAgICAgICAgICAgdGhpcy5pbml0aWFsaXplRGF0YSgpO1xuICAgICAgICAgICAgdGhpcy5wbG90RDNDaGFydCgpO1xuICAgICAgICAgIH0sIDApO1xuICAgICAgICB9KTtcblxuICAgICAgfSBlbHNlXG4gICAgICAgIGlmICh0aGlzLmRhdGEpIHtcblxuXG4gICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmRhdGEgPSB0aGlzLmdldFJlc3BvbnNlRGF0YSh0aGlzLmRhdGEpO1xuICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm1EYXRhKHRoaXMuZGF0YSk7XG4gICAgICAgICAgICB0aGlzLmluaXRpYWxpemVEYXRhKCk7XG4gICAgICAgICAgICB0aGlzLnBsb3REM0NoYXJ0KCk7XG4gICAgICAgICAgfSwgMCk7XG4gICAgICAgIH1cbiAgICB9IGVsc2Uge1xuXG4gICAgICB0aGlzLmZldGNoRGF0YSh0aGlzLmRyaWxsRGF0YSk7XG4gICAgfVxuICB9XG5cblxuICBmZXRjaERhdGEoZGF0YTogYW55KSB7XG5cbiAgICBsZXQgcmVxdWVzdEpzb247XG4gICAgbGV0IGtleSA9IHRoaXMuZHJpbGxhYmxlZGF0YWtleTtcbiAgICBsZXQgcmVzcDogYW55O1xuXG4gICAgaWYgKHRoaXMuZHJpbGxhYmxlZGF0YWtleS5sZW5ndGgpIHtcbiAgICAgIGxldCBkcmlsbGFibGVkYXRhID0gdGhpcy5nZXRNdWx0aXBsZURyaWxsYmxlS2V5RGF0YShkYXRhLCBrZXkpO1xuICAgICAgcmVxdWVzdEpzb24gPSBkcmlsbGFibGVkYXRhO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHJlcXVlc3RKc29uID0gZGF0YTtcbiAgICB9XG5cbiAgICBpZiAodGhpcy5odHRwbWV0aG9kICYmIHRoaXMuaHR0cHVybCkge1xuICAgICAgdGhpcy5teXNlcnZpY2UucG9zdGZldGNoRGF0YSh0aGlzLmh0dHB1cmwsIHRoaXMuaHR0cG1ldGhvZCwgcmVxdWVzdEpzb24pLnN1YnNjcmliZSgocmVzcG9uc2UpID0+IHtcbiAgICAgICAgcmVzcCA9IHJlc3BvbnNlO1xuICAgICAgICB0aGlzLnJlc3BvbnNlID0gcmVzcDtcbiAgICAgIH0sIChlcnJvcikgPT4ge1xuICAgICAgfSwgKCkgPT4ge1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICB0aGlzLmRhdGEgPSB0aGlzLmdldFJlc3BvbnNlRGF0YShyZXNwKTtcblxuICAgICAgICAgIHRoaXMuZHJhd0NoYXJ0KCk7XG5cbiAgICAgICAgfSwgMCk7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBkcmF3Q2hhcnQoKSB7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICB0aGlzLmRyaWxsYWJsZUZsYWcgPSB0cnVlO1xuICAgICAgdGhpcy5pbml0aWFsaXplRGF0YSgpO1xuICAgICAgdGhpcy5wbG90RDNDaGFydCgpO1xuICAgIH0sIDApO1xuXG4gIH1cblxuICBnZXRSZXNwb25zZURhdGEoaHR0cFJlc3BvbnNlOiBhbnkpIHtcbiAgICBsZXQgcmVzcG9uc2VkYXRhID0gaHR0cFJlc3BvbnNlO1xuICAgIGlmICh0aGlzLmRhdGFyZWFkZXIgIT0gbnVsbCkge1xuICAgICAgY29uc3QgZHIgPSB0aGlzLmRhdGFyZWFkZXIuc3BsaXQoJy4nKTtcbiAgICAgIGZvciAoY29uc3QgaXIgb2YgZHIpIHtcbiAgICAgICAgcmVzcG9uc2VkYXRhID0gcmVzcG9uc2VkYXRhW2lyXTtcbiAgICAgIH1cbiAgICB9IGVsc2Uge1xuICAgICAgcmVzcG9uc2VkYXRhID0gaHR0cFJlc3BvbnNlO1xuICAgIH1cbiAgICByZXR1cm4gcmVzcG9uc2VkYXRhO1xuICB9XG4gIHBsb3REM0NoYXJ0KCkge1xuICAgIHRoaXMuZm9ybUxlZ2VuZERhdGEoKTtcbiAgICAvL3RoaXMudHJhbnNmb3JtRGF0YSh0aGlzLmRhdGEpO1xuICAgIC8vICB0aGlzLmRhdGEgPSB0aGlzLnRyYW5zZm9ybWVkZGF0YTtcbiAgICBsZXQgb3V0ZXJSYWRpdXMgPSAwO1xuICAgIGxldCBpbm5lclJhZGl1cyA9IDA7XG5cbiAgICBvdXRlclJhZGl1cyA9IHRoaXMuc3Znd2lkdGggLyAyO1xuICAgIGlubmVyUmFkaXVzID0gdGhpcy5zdmd3aWR0aCAvIDQ7XG5cbiAgICBpZiAodGhpcy5waWUpIHtcbiAgICAgIGlubmVyUmFkaXVzID0gMDtcbiAgICB9XG5cbiAgICBjb25zdCB0b29sdGlwID0gdGhpcy50b29sVGlwKGQzKTtcblxuICAgIGNvbnN0IGFyYyA9IGQzLmFyYygpXG4gICAgICAub3V0ZXJSYWRpdXMob3V0ZXJSYWRpdXMpXG4gICAgICAuaW5uZXJSYWRpdXMoaW5uZXJSYWRpdXMpO1xuXG4gICAgY29uc3QgcGllID0gZDMucGllKClcbiAgICAgIC52YWx1ZSgoZCkgPT4ge1xuICAgICAgICByZXR1cm4gZFtPYmplY3Qua2V5cyhkKVsxXV07XG4gICAgICAgIC8vICByZXR1cm4gZC52YWx1ZVxuICAgICAgfSk7XG5cbiAgICB0aGlzLnN2ZyA9IGQzLnNlbGVjdChcIiNcIiArIHRoaXMuY29tcG9uZW50SWQpXG4gICAgICAuYXBwZW5kKCdnJylcbiAgICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCAndHJhbnNsYXRlKCcgKyB0aGlzLnN2Z3dpZHRoIC8gMiArICcsJyArIHRoaXMuc3ZnaGVpZ2h0IC8gMiArICcpJylcbiAgICAgIC5zZWxlY3RBbGwoJ3BhdGgnKVxuICAgICAgLmRhdGEocGllKHRoaXMuZGF0YSkpXG4gICAgICAuZW50ZXIoKTtcblxuICAgIGNvbnN0IHBhdGggPSB0aGlzLnN2Zy5hcHBlbmQoJ3BhdGgnKVxuICAgICAgLmF0dHIoJ2QnLCBhcmMpXG4gICAgICAuYXR0cignZmlsbCcsIGZ1bmN0aW9uIChkLCBpKSB7XG4gICAgICAgIGlmIChkLmRhdGEuY29sb3IpIHtcbiAgICAgICAgICByZXR1cm4gZC5kYXRhLmNvbG9yO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIHJldHVybiBcImJsYWNrXCI7XG4gICAgICAgIH1cbiAgICAgICAgLy8gIHJldHVybiAoZCAmJiBkLmRhdGEgJiYgZC5kYXRhLmNvbG9yKSA/IGQuZGF0YS5jb2xvciA6IFwiYmxhY2tcIlxuICAgICAgfSlcbiAgICAgIC5hdHRyKCdjdXJzb3InLCAncG9pbnRlcicpXG4gICAgICAub24oXCJtb3VzZW92ZXJcIiwgKGQpID0+IHtcbiAgICAgICAgcmV0dXJuIHRvb2x0aXAuc3R5bGUoXCJ2aXNpYmlsaXR5XCIsIFwidmlzaWJsZVwiKTtcbiAgICAgIH0pXG4gICAgICAub24oXCJtb3VzZW1vdmVcIiwgKGQpID0+IHtcbiAgICAgICAgcmV0dXJuIHRvb2x0aXAuaHRtbChcbiAgICAgICAgICB0aGlzLmZvcm1Ub29sdGlwRGF0YShkLmRhdGEpXG5cbiAgICAgICAgICAvLyAgdGhpcy5mb3JtTGVnZW5kRGF0YShkLmRhdGEpXG4gICAgICAgICAgLy8gdGhpcy50b29sVGlwQ29udGVudChkLmRhdGEpXG4gICAgICAgIClcbiAgICAgICAgICAuc3R5bGUoXCJ0b3BcIiwgKGQzLmV2ZW50LnBhZ2VZIC0gMTApICsgXCJweFwiKVxuICAgICAgICAgIC5zdHlsZShcImxlZnRcIiwgKGQzLmV2ZW50LnBhZ2VYICsgMTApICsgXCJweFwiKTtcbiAgICAgIH0pXG4gICAgICAub24oXCJtb3VzZW91dFwiLCAoZCkgPT4ge1xuICAgICAgICByZXR1cm4gdG9vbHRpcC5zdHlsZShcInZpc2liaWxpdHlcIiwgXCJoaWRkZW5cIik7XG4gICAgICB9KVxuICAgICAgLm9uKFwiY2xpY2tcIiwgKGQpID0+IHtcbiAgICAgICAgdGhpcy5Eb251dENoYXJ0Q2xpY2soZC5kYXRhKTtcbiAgICAgICAgdGhpcy5mb3JkcmlsbGFibGVDbGljayh0aGlzLCBkLmRhdGEsIGV2ZW50KTtcbiAgICAgICAgcmV0dXJuIHRvb2x0aXAuc3R5bGUoXCJ2aXNpYmlsaXR5XCIsIFwiaGlkZGVuXCIpO1xuICAgICAgICAvL3RoaXMuY2hhcnRDbGljayhkLmRhdGEpO1xuICAgICAgfSk7XG4gICAgaWYgKHRoaXMubGFiZWxmbGFnKSB7XG4gICAgICBjb25zdCB0ZXh0ID0gdGhpcy5zdmcuYXBwZW5kKFwidGV4dFwiKVxuICAgICAgICAudHJhbnNpdGlvbigpXG4gICAgICAgIC5kdXJhdGlvbigyMDApXG4gICAgICAgIC5hdHRyKFwidHJhbnNmb3JtXCIsIGZ1bmN0aW9uIChkKSB7XG4gICAgICAgICAgcmV0dXJuIFwidHJhbnNsYXRlKFwiICsgYXJjLmNlbnRyb2lkKGQpICsgXCIpXCI7XG4gICAgICAgIH0pXG4gICAgICAgIC5hdHRyKFwidGV4dC1hbmNob3JcIiwgXCJtaWRkbGVcIilcbiAgICAgICAgLnRleHQoZnVuY3Rpb24gKGQpIHtcblxuICAgICAgICAgIHJldHVybiBkLmRhdGFbT2JqZWN0LmtleXMoZC5kYXRhKVsxXV1cblxuICAgICAgICAgIC8vcmV0dXJuIGQuZGF0YS52YWx1ZTtcbiAgICAgICAgfSlcbiAgICAgICAgLnN0eWxlKCdmaWxsJywgZnVuY3Rpb24gKGQpIHtcbiAgICAgICAgICBpZih0aGlzLmxhYmVsY29sb3IubGVuZ3RoPjApe1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMubGFiZWxjb2xvcjtcbiAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmV0dXJuIFwiYmxhY2tcIjtcbiAgICAgICAgICB9XG4gICAgICAgICAgLy8gcmV0dXJuIChkICYmIGQuZGF0YSAmJiBkLmRhdGEudGV4dGNvbG9yKSA/IGQuZGF0YS50ZXh0Y29sb3IgOiBcImJsYWNrXCI7XG4gICAgICAgIH0pXG4gICAgICAgIC5zdHlsZSgnZm9udC1zaXplJywgJzEycHgnKTtcbiAgICB9XG4gIH1cblxuICBmb3JtTGVnZW5kRGF0YSgpIHtcbiAgICB0aGlzLmxlZ2VuZEFycmF5ID0gW107XG4gICAgdGhpcy5kYXRhLmZvckVhY2goZWxlbWVudCA9PiB7XG4gICAgICBsZXQgbGVnZW5kb2JqZWN0ID0ge307XG4gICAgICBsZWdlbmRvYmplY3RbJ2xhYmVsJ10gPSBlbGVtZW50W09iamVjdC5rZXlzKGVsZW1lbnQpWzBdXTtcbiAgICAgIGxlZ2VuZG9iamVjdFsndmFsdWUnXSA9IGVsZW1lbnRbT2JqZWN0LmtleXMoZWxlbWVudClbMV1dO1xuICAgICAgbGVnZW5kb2JqZWN0Wydjb2xvciddID0gZWxlbWVudC5jb2xvcjtcbiAgICAgIHRoaXMubGVnZW5kQXJyYXkucHVzaChsZWdlbmRvYmplY3QpO1xuICAgIH0pO1xuICB9XG5cbiAgb25Eb251dExlZ2VuZENsaWNrKGxlZ2VuZGV2ZW50OiBhbnkpIHtcbiAgICBsZXQgb2JqID0ge307XG5cbiAgICAvLyAgb2JqWydsYWJlbCddID0gbGVnZW5kZXZlbnQubGFiZWw7XG4gICAgLy8gIG9ialsndmFsdWUnXSA9IGxlZ2VuZGV2ZW50LnZhbHVlIFxuICAgIG9ialt0aGlzLmtleUFycmF5WzBdXSA9IGxlZ2VuZGV2ZW50LmxhYmVsO1xuICAgIG9ialt0aGlzLmtleUFycmF5WzFdXSA9IGxlZ2VuZGV2ZW50LnZhbHVlO1xuICAgIC8vZGVsZXRlIGV2ZW50LmNvbG9yO1xuICAgIHRoaXMubGVnZW5kQ2xpY2sob2JqKTtcbiAgfVxuXG5cbiAgdHJhbnNmb3JtRGF0YShkYXRhOiBhbnkpIHtcbiAgICB0aGlzLmtleUFycmF5ID0gZGF0YVswXTtcbiAgICBkYXRhLmZvckVhY2goKGVsZW1lbnQsIGluZGV4KSA9PiB7XG4gICAgICBpZiAoaW5kZXggPiAwKSB7XG4gICAgICAgIGxldCBEdW1teU9iamVjdCA9IHt9O1xuICAgICAgICBlbGVtZW50LmZvckVhY2goKGluZGl2aWR1YWx2YWx1ZSwga2V5aW5kZXgpID0+IHtcbiAgICAgICAgICBEdW1teU9iamVjdFt0aGlzLmtleUFycmF5W2tleWluZGV4XV0gPSBpbmRpdmlkdWFsdmFsdWU7XG4gICAgICAgIH0pOy8vaW5uZXIgZm9yIGxvb3AgZW5kc1xuICAgICAgICB0aGlzLnRyYW5zZm9ybWVkZGF0YS5wdXNoKER1bW15T2JqZWN0KTtcbiAgICAgIH0vL2lmIGVuZHNcbiAgICB9KTsvL291dGVyIGZvciBsb29wIGVuZHNcbiAgICB0aGlzLmRhdGEgPSB0aGlzLnRyYW5zZm9ybWVkZGF0YTtcbiAgfVxuXG4gIGZvcm1Ub29sdGlwRGF0YSh0b29sdGlwRGF0YTogYW55KSB7XG4gICAgbGV0IG9iamVjdCA9IHt9O1xuICAgIGZvciAobGV0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyh0b29sdGlwRGF0YSkpIHtcbiAgICAgIGlmIChrZXkgIT0gJ2NvbG9yJyAmJiBrZXkgIT0gJ3RleHRjb2xvcicpIHtcbiAgICAgICAgb2JqZWN0W2tleV0gPSB2YWx1ZTtcbiAgICAgIH1cbiAgICB9XG4gICAgcmV0dXJuIHRoaXMudG9vbFRpcEZvckJhcihvYmplY3QpO1xuICB9XG5cbiAgRG9udXRDaGFydENsaWNrKGV2ZW50OiBhbnkpIHtcbiAgICBsZXQgb2JqZWN0ID0ge307XG4gICAgZm9yIChsZXQgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKGV2ZW50KSkge1xuICAgICAgaWYgKGtleSAhPSAnY29sb3InKSB7XG4gICAgICAgIG9iamVjdFtrZXldID0gdmFsdWU7XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMuY2hhcnRDbGljayhvYmplY3QpO1xuICB9XG5cbn1cbiIsImltcG9ydCB7Q29tcG9uZW50LCBPbkluaXQsIElucHV0LCBPdXRwdXQsIEV2ZW50RW1pdHRlcixWaWV3Q2hpbGQsIEVsZW1lbnRSZWZ9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgSHR0cENsaWVudCxIdHRwQ2xpZW50TW9kdWxlIH0gZnJvbSAnQGFuZ3VsYXIvY29tbW9uL2h0dHAnO1xuaW1wb3J0ICogYXMgZDMgZnJvbSAnZDMnO1xuaW1wb3J0IHsgQW1leGlvRDNCYXNlQ2hhcnRDb21wb25lbnQgfSBmcm9tIFwiLi4vYmFzZS9iYXNlLmNvbXBvbmVudFwiO1xuQENvbXBvbmVudCh7XG4gIHNlbGVjdG9yOiAnYW1leGlvLWQzLWNoYXJ0LXBpZScsXG4gIHRlbXBsYXRlOiBgPGRpdiAgICpuZ0lmPVwiZHJpbGxhYmxlRmxhZ1wiPlxuPGFtZXhpby1kMy1jaGFydC1kb251dCAjaWQgKG9uTGVnZW5kQ2xpY2spPVwibGVnZW5kQ2xpY2soJGV2ZW50KVwiIFxuICAgICAgICAgICAgICAgICAgICAgICAob25DaGFydENsaWNrKT1cImNoYXJ0Q2xpY2soJGV2ZW50KVwiIFxuICAgICAgICAgICAgICAgICAgICAgICAoZHJpbGxhYmxlRXZlbnQpPVwiIGZvcmRyaWxsYWJsZUNsaWNrKCRldmVudClcIlxuICAgICAgICAgICAgICAgICAgICAgICAgW2hlaWdodF09XCJoZWlnaHRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgW3dpZHRoXT1cIndpZHRoXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIFt0aXRsZV09XCJ0aXRsZVwiXG4gICAgICAgICAgICAgICAgICAgICAgICBbZGF0YV0gPSBcImRhdGFcIlxuICAgICAgICAgICAgICAgICAgICAgICAgW3BpZV0gID0gXCJ0cnVlXCJcbiAgICAgICAgICAgICAgICAgICAgICAgIFtjb2xvcl09XCJjb2xvcnNcIlxuICAgICAgICAgICAgICAgICAgICAgICAgW2h0dHAtdXJsXT1cImh0dHB1cmxcIlxuICAgICAgICAgICAgICAgICAgICAgICAgW2h0dHAtbWV0aG9kXT1cImh0dHBtZXRob2RcIlxuICAgICAgICAgICAgICAgICAgICAgICAgW2RhdGEtcmVhZGVyXT1cImRhdGFyZWFkZXJcIlxuICAgICAgICAgICAgICAgICAgICAgICAgW2xhYmVsXT1cImxhYmVsZmxhZ1wiXG4gICAgICAgICAgICAgICAgICAgICAgICBbbGFiZWwtY29sb3JdPVwibGFiZWxjb2xvclwiXG4gICAgICAgICAgICAgICAgICAgICAgICBbbGV2ZWxdPVwibGV2ZWxcIlxuICAgICAgICAgICAgICAgICAgICAgICAgW3RhcmdldF09XCJ0YXJnZXRcIlxuICAgICAgICAgICAgICAgICAgICAgICAgW2RyaWxsYWJsZS1kYXRhXT1cImRyaWxsYWJsZWRhdGFrZXlcIlxuICAgICAgICAgICAgICAgICAgICAgICAgW2RyaWxsRGF0YV09XCJkcmlsbERhdGFcIj5cbjwvYW1leGlvLWQzLWNoYXJ0LWRvbnV0PlxuPC9kaXY+XG5gXG59KVxuZXhwb3J0IGNsYXNzIEFtZXhpb0QzUGllQ2hhcnRDb21wb25lbnQgIGltcGxlbWVudHMgIE9uSW5pdCB7XG5cbiAgQElucHV0KCdkYXRhJykgZGF0YTogYW55O1xuXG4gIEBPdXRwdXQoKSBvbkxlZ2VuZENsaWNrOiBhbnkgPSBuZXcgRXZlbnRFbWl0dGVyPGFueT4oKTtcblxuICBAT3V0cHV0KCkgb25DaGFydENsaWNrOiBhbnkgPSBuZXcgRXZlbnRFbWl0dGVyPGFueT4oKTtcblxuICBAT3V0cHV0KCkgZHJpbGxhYmxlRXZlbnQgPSBuZXcgRXZlbnRFbWl0dGVyKCk7XG5cbiAgQFZpZXdDaGlsZCgnaWQnKSBkb251dHJlZjogYW55O1xuXG4gIEBJbnB1dCgpIGxlZ2VuZDogYm9vbGVhbiA9IHRydWUgO1xuXG4gIEBJbnB1dCgnY29sb3InKSBjb2xvcnM6IGFueSA9IFtdO1xuXG4gIEBJbnB1dCgnd2lkdGgnKSB3aWR0aDogYW55ID0gXCIzMDBcIjtcblxuICBASW5wdXQoJ2hlaWdodCcpIGhlaWdodDogYW55ID0gXCIzMDBcIjtcblxuICBASW5wdXQoKSB0aXRsZTogYW55ID0gXCJcIjtcblxuICAgQElucHV0KCdodHRwLXVybCcpIGh0dHB1cmw6IGFueTtcbiAgICBcbiAgIEBJbnB1dCgnaHR0cC1tZXRob2QnKSBodHRwbWV0aG9kOiBhbnk7XG5cbiAgIEBJbnB1dCgnZGF0YS1yZWFkZXInKSBkYXRhcmVhZGVyOiBzdHJpbmc7XG5cbiAgIEBJbnB1dCgnbGV2ZWwnKSBsZXZlbCA9IDAgO1xuXG4gICBASW5wdXQoJ3RhcmdldCcpIHRhcmdldDpudW1iZXI7XG5cbiAgIEBJbnB1dCgnZHJpbGxhYmxlLWRhdGEnKSBkcmlsbGFibGVkYXRha2V5OmFueVxuXG4gICBASW5wdXQoJ2xhYmVsLWNvbG9yJykgbGFiZWxjb2xvcjogc3RyaW5nID0gXCJibGFja1wiO1xuXG4gICBASW5wdXQoJ2xhYmVsJykgbGFiZWxmbGFnOiBib29sZWFuID0gZmFsc2U7XG4gICBcbiAgIGRyaWxsYWJsZUZsYWc6Ym9vbGVhbiA9IHRydWU7XG5cbiAgIGRyaWxsRGF0YTogYW55O1xuICBcbiAgXG4gIG5nT25Jbml0KCl7XG4gIFxuICB9XG4gIFxuICBsZWdlbmRDbGljayhub2RlOmFueSl7XG4gICAgdGhpcy5vbkxlZ2VuZENsaWNrLmVtaXQobm9kZSk7XG4gIH1cblxuICBjaGFydENsaWNrKG5vZGU6YW55KXtcbiAgICAgICB0aGlzLm9uQ2hhcnRDbGljay5lbWl0KG5vZGUpO1xuICB9XG5cblxuICBmb3JkcmlsbGFibGVDbGljayhyZWY6YW55KVxuICB7XG4gICAgIHRoaXMuZHJpbGxhYmxlRXZlbnQuZW1pdChyZWYsKTtcbiAgfVxuXG4gZmV0Y2hEYXRhKGRhdGE6YW55KVxuICAge1xuICAgICAgICAgIHRoaXMuZHJpbGxEYXRhID0gZGF0YTsgICBcbiAgIH1cblxuICBkcmF3Q2hhcnQoKVxuICB7XG4gICAgXG4gICAgICAgICAgdGhpcy5kb251dHJlZi5kcmlsbGFibGVGbGFnPXRydWU7XG4gICAgICAgICAgdGhpcy5kb251dHJlZi5kcmF3Q2hhcnQoKTtcblxuICB9XG59XG4iLCJpbXBvcnQgeyBDb21wb25lbnQsIElucHV0LCBPdXRwdXQsIEV2ZW50RW1pdHRlciB9IGZyb20gXCJAYW5ndWxhci9jb3JlXCI7XG5cbkBDb21wb25lbnQoe1xuICAgIHNlbGVjdG9yIDogJ2FtZXhpby1kMy1sZWdlbmQnLFxuICAgIHRlbXBsYXRlOiBgPGRpdiBzdHlsZSA9XCIgd2lkdGg6IDEwMCUgOyBwYWRkaW5nLWxlZnQ6IDIwcHg7IHBhZGRpbmctdG9wOiA4cHg7IFwiPlxuPHRhYmxlICpuZ0lmPVwiIWhvcml6b250YWxcIiBzdHlsZT1cImhlaWdodDogMTAwJTtcIj5cbiAgICA8dHIgKm5nRm9yID0gXCJsZXQgbm9kZSBvZiBkYXRhXCIgc3R5bGU9XCJjdXJzb3I6IHBvaW50ZXI7XCIgKGNsaWNrKT1cIm9uTGVnZW5kQ2xpY2sobm9kZSlcIj5cbiAgICAgICAgPHRkIHN0eWxlPVwiaGVpZ2h0OiAxMHB4OyB3aWR0aDogMjNweDsgcGFkZGluZy1sZWZ0OiAycHg7XCJcbiAgICAgICAgICAgIFtuZ1N0eWxlXT1cInsnYmFja2dyb3VuZC1jb2xvcic6IG5vZGUuY29sb3J9XCI+PC90ZD5cbiAgICAgICAgPHRkPnt7bm9kZS5sYWJlbH19PC90ZD5cbiAgICA8L3RyPlxuPC90YWJsZT5cbjwvZGl2PlxuXG48dGFibGUgKm5nSWY9XCJob3Jpem9udGFsXCIgc3R5bGU9XCJoZWlnaHQ6IDEwMCU7XCI+XG4gICAgPHRyPlxuICAgICAgICA8dGQgKm5nRm9yID0gXCJsZXQgbm9kZSBvZiBkYXRhXCIgXG4gICAgICAgICAgICAgICAgICAgIChjbGljayk9XCJvbkxlZ2VuZENsaWNrKG5vZGUpXCIgXG4gICAgICAgICAgICAgICAgICAgIHN0eWxlPVwiY3Vyc29yOiBwb2ludGVyO1wiPlxuICAgICAgICAgICAgXG4gICAgICAgICAgICA8ZGl2IHN0eWxlPVwiIGRpc3BsYXk6IGlubGluZS1ibG9jazsgZGlzcGxheTogaW5saW5lLWJsb2NrOyBwYWRkaW5nOiAycHg7XCI+XG4gICAgICAgICAgICAgICAgICAgIDxkaXYgc3R5bGU9XCIgd2lkdGg6IDEwcHg7IGRpc3BsYXk6IGlubGluZS1ibG9jazsgcGFkZGluZzogMnB4OyBcIiBcbiAgICAgICAgICAgICAgICAgICAgW25nU3R5bGVdPVwieydiYWNrZ3JvdW5kLWNvbG9yJzogbm9kZS5jb2xvcn1cIj48L2Rpdj5cbiAgICAgICAgICAgICAgICB7e25vZGUubGFiZWx9fVxuICAgICAgICAgICAgPC9kaXY+XG4gICAgICAgIDwvdGQ+XG4gICAgICAgIFxuICAgIDwvdHI+XG48L3RhYmxlPmBcbn0pXG5leHBvcnQgY2xhc3MgQW1leGlvRDNMZWdlbmRcbntcblxuICAgIEBJbnB1dCgnZGF0YScpIGRhdGEgOiBhbnk7XG5cbiAgICBASW5wdXQoJ2hvcml6b250YWwnKSBob3Jpem9udGFsIDogYm9vbGVhbiA9IGZhbHNlO1xuXG4gICAgQE91dHB1dCgpIG9uQ2xpY2sgOiBhbnkgPSBuZXcgRXZlbnRFbWl0dGVyPGFueT4oKTtcblxuICAgIGNvbnN0cnVjdG9yKCl7XG4gICBcbiAgICB9XG5cbiAgICBvbkxlZ2VuZENsaWNrKG5vZGU6YW55KXtcbiAgICAgICAgdGhpcy5vbkNsaWNrLmVtaXQobm9kZSk7XG4gICAgfVxufSIsIlxuaW1wb3J0IHsgaXNQbGF0Zm9ybUJyb3dzZXIgfSBmcm9tICdAYW5ndWxhci9jb21tb24nO1xuaW1wb3J0IHsgSW5qZWN0LCBJbmplY3RhYmxlLCBQTEFURk9STV9JRCB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgSHR0cENsaWVudCxIdHRwQ2xpZW50TW9kdWxlLEh0dHBIZWFkZXJzIH0gZnJvbSAnQGFuZ3VsYXIvY29tbW9uL2h0dHAnO1xuXG5cbkBJbmplY3RhYmxlKClcbmV4cG9ydCBjbGFzcyBEZXZpY2VRdWVyeVNlcnZpY2Uge1xuXG4gIGNvbnN0cnVjdG9yKCBASW5qZWN0KFBMQVRGT1JNX0lEKSBwcml2YXRlIHBsYXRmb3JtSWQ6IGFueSkge1xuXG4gIH1cblxuICBydWxlcyA9IHtcbiAgICBwcmludDogJ3ByaW50JyxcbiAgICBzY3JlZW46ICdzY3JlZW4nLFxuICAgIHBob25lOiAnKG1heC13aWR0aDogNzY3cHgpJyxcbiAgICB0YWJsZXQ6ICcobWluLXdpZHRoOiA3NjhweCkgYW5kIChtYXgtd2lkdGg6IDEwMjRweCknLFxuICAgIGRlc2t0b3A6ICcobWluLXdpZHRoOiAxMDI1cHgpJyxcbiAgICBwb3J0cmFpdDogJyhvcmllbnRhdGlvbjogcG9ydHJhaXQpJyxcbiAgICBsYW5kc2NhcGU6ICcob3JpZW50YXRpb246IGxhbmRzY2FwZSknLFxuICAgIHJldGluYTogJygtd2Via2l0LW1pbi1kZXZpY2UtcGl4ZWwtcmF0aW86IDIpIGFuZCAobWluLXJlc29sdXRpb246IDE5MmRwaSknLFxuICB9O1xuXG4gIENoZWNrID0gZnVuY3Rpb24obXE6IGFueSkge1xuICAgIGlmIChpc1BsYXRmb3JtQnJvd3Nlcih0aGlzLnBsYXRmb3JtSWQpKSB7XG4gICAgICBpZiAoIW1xKSB7XG4gICAgICAgIHJldHVybjtcbiAgICAgIH1cbiAgICAgIHJldHVybiB3aW5kb3cubWF0Y2hNZWRpYShtcSkubWF0Y2hlcztcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuO1xuICAgIH1cbiAgfTtcblxuICAvKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKlxuICAgTUVUSE9EUyBGT1IgQ0hFQ0tJTkcgVFlQRVxuICAgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbiAgSXNQaG9uZSgpIHtcbiAgICBpZiAoaXNQbGF0Zm9ybUJyb3dzZXIodGhpcy5wbGF0Zm9ybUlkKSkge1xuICAgICAgcmV0dXJuIHdpbmRvdy5tYXRjaE1lZGlhKHRoaXMucnVsZXMucGhvbmUpLm1hdGNoZXM7XG4gICAgfSBlbHNlIHtcbiAgICAgIHJldHVybiBudWxsO1xuICAgIH1cbiAgfVxuXG4gIElzVGFibGV0ID0gZnVuY3Rpb24oKSB7XG4gICAgaWYgKGlzUGxhdGZvcm1Ccm93c2VyKHRoaXMucGxhdGZvcm1JZCkpIHtcbiAgICAgIHJldHVybiB3aW5kb3cubWF0Y2hNZWRpYSh0aGlzLnJ1bGVzLnRhYmxldCkubWF0Y2hlcztcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9O1xuXG4gIElzRGVza3RvcCA9IGZ1bmN0aW9uKCkge1xuICAgIGlmIChpc1BsYXRmb3JtQnJvd3Nlcih0aGlzLnBsYXRmb3JtSWQpKSB7XG4gICAgICByZXR1cm4gd2luZG93Lm1hdGNoTWVkaWEodGhpcy5ydWxlcy5kZXNrdG9wKS5tYXRjaGVzO1xuICAgIH0gZWxzZSB7XG4gICAgICByZXR1cm4gbnVsbDtcbiAgICB9XG4gIH07XG5cbiAgSXNQb3J0cmFpdCA9IGZ1bmN0aW9uKCkge1xuICAgIGlmIChpc1BsYXRmb3JtQnJvd3Nlcih0aGlzLnBsYXRmb3JtSWQpKSB7XG4gICAgICByZXR1cm4gd2luZG93Lm1hdGNoTWVkaWEodGhpcy5ydWxlcy5wb3J0cmFpdCkubWF0Y2hlcztcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9O1xuXG4gIElzTGFuZHNjYXBlID0gZnVuY3Rpb24oKSB7XG4gICAgaWYgKGlzUGxhdGZvcm1Ccm93c2VyKHRoaXMucGxhdGZvcm1JZCkpIHtcbiAgICAgIHJldHVybiB3aW5kb3cubWF0Y2hNZWRpYSh0aGlzLnJ1bGVzLmxhbmRzY2FwZSkubWF0Y2hlcztcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9O1xuXG4gIElzUmV0aW5hID0gZnVuY3Rpb24oKSB7XG4gICAgaWYgKGlzUGxhdGZvcm1Ccm93c2VyKHRoaXMucGxhdGZvcm1JZCkpIHtcbiAgICAgIHJldHVybiB3aW5kb3cubWF0Y2hNZWRpYSh0aGlzLnJ1bGVzLnJldGluYSkubWF0Y2hlcztcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIG51bGw7XG4gICAgfVxuICB9O1xuXG4gIGJyb3dzZXJXaW5kb3cgPSAoKSA9PiB7XG4gICAgcmV0dXJuIHdpbmRvdztcbiAgfVxuXG4gIC8qKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqXG4gICBFVkVOVCBMSVNURU5FUlMgQlkgVFlQRVxuICAgKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKioqKi9cbiAgT25QaG9uZShjYWxsQmFjazogYW55KSB7XG4gICAgaWYgKHR5cGVvZiBjYWxsQmFjayA9PT0gJ2Z1bmN0aW9uJyAmJiBpc1BsYXRmb3JtQnJvd3Nlcih0aGlzLnBsYXRmb3JtSWQpKSB7XG4gICAgICAgIGNvbnN0IG1xbDogTWVkaWFRdWVyeUxpc3QgPSB3aW5kb3cubWF0Y2hNZWRpYSh0aGlzLnJ1bGVzLnBob25lKTtcbiAgICAgICAgdGhpcy5tcWxNZXRob2QoY2FsbEJhY2ssIG1xbCk7XG4gICAgfVxuICB9XG5cbiAgT25UYWJsZXQoY2FsbEJhY2s6IGFueSkge1xuICAgIGlmICh0eXBlb2YgY2FsbEJhY2sgPT09ICdmdW5jdGlvbicgJiYgaXNQbGF0Zm9ybUJyb3dzZXIodGhpcy5wbGF0Zm9ybUlkKSkge1xuICAgICAgICBjb25zdCBtcWw6IE1lZGlhUXVlcnlMaXN0ID0gd2luZG93Lm1hdGNoTWVkaWEodGhpcy5ydWxlcy50YWJsZXQpO1xuICAgICAgICB0aGlzLm1xbE1ldGhvZChjYWxsQmFjaywgbXFsKTtcbiAgICB9XG4gIH1cblxuICBPbkRlc2t0b3AoY2FsbEJhY2s6IGFueSkge1xuICAgIGlmICh0eXBlb2YgY2FsbEJhY2sgPT09ICdmdW5jdGlvbicgJiYgaXNQbGF0Zm9ybUJyb3dzZXIodGhpcy5wbGF0Zm9ybUlkKSkge1xuICAgICAgICBjb25zdCBtcWw6IE1lZGlhUXVlcnlMaXN0ID0gd2luZG93Lm1hdGNoTWVkaWEodGhpcy5ydWxlcy5kZXNrdG9wKTtcbiAgICAgICAgdGhpcy5tcWxNZXRob2QoY2FsbEJhY2ssIG1xbCk7XG4gICAgfVxuICB9XG5cbiAgT25Qb3J0cmFpdChjYWxsQmFjazogYW55KSB7XG4gICAgaWYgKHR5cGVvZiBjYWxsQmFjayA9PT0gJ2Z1bmN0aW9uJyAmJiBpc1BsYXRmb3JtQnJvd3Nlcih0aGlzLnBsYXRmb3JtSWQpKSB7XG4gICAgICAgIGNvbnN0IG1xbDogTWVkaWFRdWVyeUxpc3QgPSB3aW5kb3cubWF0Y2hNZWRpYSh0aGlzLnJ1bGVzLnBvcnRyYWl0KTtcbiAgICAgICAgdGhpcy5tcWxNZXRob2QoY2FsbEJhY2ssIG1xbCk7XG4gICAgfVxuICB9XG5cbiAgT25MYW5kc2NhcGUoY2FsbEJhY2s6IGFueSkge1xuICAgIGlmICh0eXBlb2YgY2FsbEJhY2sgPT09ICdmdW5jdGlvbicgJiYgaXNQbGF0Zm9ybUJyb3dzZXIodGhpcy5wbGF0Zm9ybUlkKSkge1xuICAgICAgICBjb25zdCBtcWw6IE1lZGlhUXVlcnlMaXN0ID0gd2luZG93Lm1hdGNoTWVkaWEodGhpcy5ydWxlcy5sYW5kc2NhcGUpO1xuICAgICAgICB0aGlzLm1xbE1ldGhvZChjYWxsQmFjaywgbXFsKTtcbiAgICB9XG4gIH1cblxuICBtcWxNZXRob2QoY2FsbEJhY2s6IGFueSwgbXFsOiBhbnkpIHtcbiAgICBtcWwuYWRkTGlzdGVuZXIoKG1xbDE6IE1lZGlhUXVlcnlMaXN0KSA9PiB7XG4gICAgICBpZiAobXFsMS5tYXRjaGVzKSB7XG4gICAgICAgIGNhbGxCYWNrKG1xbCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cbn1cbiIsImltcG9ydCB7IENvbXBvbmVudCwgSW5wdXQsIFZpZXdDaGlsZCwgRWxlbWVudFJlZiwgQ2hhbmdlRGV0ZWN0b3JSZWYsIH0gZnJvbSBcIkBhbmd1bGFyL2NvcmVcIjtcbmltcG9ydCB7IEFtZXhpb0QzQmFzZUNoYXJ0Q29tcG9uZW50IH0gZnJvbSBcIi4uL2Jhc2UvYmFzZS5jb21wb25lbnRcIjtcbmltcG9ydCB7IFBsb3RDYXJ0IH0gZnJvbSBcIi4uL2Jhc2UvY2hhcnQuY29tcG9uZW50XCI7XG5pbXBvcnQgeyBDb21tYW5EYXRhU2VydmljZSB9IGZyb20gJy4uL3NlcnZpY2VzL2NvbW1hbi5kYXRhLnNlcnZpY2UnO1xuaW1wb3J0e0RldmljZVF1ZXJ5U2VydmljZX0gZnJvbSAnLi4vc2VydmljZXMvZGV2aWNlLnF1ZXJ5LnNlcnZpY2UnO1xuXG5pbXBvcnQgKiBhcyBkMyBmcm9tICdkMyc7XG5cblxuQENvbXBvbmVudCh7XG4gICAgc2VsZWN0b3I6ICdhbWV4aW8tZDMtY2hhcnQtYmFyJyxcbiAgICB0ZW1wbGF0ZTogYDxkaXYgKm5nSWY9XCJkcmlsbGFibGVGbGFnXCIgICNkaXZpZCAod2luZG93OnJlc2l6ZSk9XCJyZXNpemUoJGV2ZW50KVwiID5cbjx0YWJsZSBzdHlsZT1cIndpZHRoOiAxMDAlO1wiIHBvc2l0aW9uPVwiIHJlbGF0aXZlXCIgI2NoYXJ0SWQgPlxuICAgIDx0cj5cbiAgICAgICAgPHRkIHN0eWxlPVwiZm9udC1zaXplOiAxOHB4OyBmb250LXdlaWdodDogYm9sZDsgXCI+IHt7dGl0bGV9fSA8L3RkPlxuICAgIDwvdHI+XG4gICAgPHRyPlxuICAgICAgICA8dGQ+XG4gICAgICAgICAgICA8c3ZnIFthdHRyLmhlaWdodF09XCJzdmdoZWlnaHRcIiBbYXR0ci53aWR0aF09XCJzdmd3aWR0aFwiIFthdHRyLmlkXT1cImNvbXBvbmVudElkXCIgXG4gICAgICAgICAgPlxuICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgIDwvdGQ+XG4gICAgPC90cj5cbiAgICA8dHI+XG4gICAgICAgIDx0ZCBzdHlsZT1cImRpc3BsYXk6IGJsb2NrOyBwYWRkaW5nOiA1cHg7XCI+XG4gICAgICAgICAgICA8YW1leGlvLWQzLWxlZ2VuZCAqbmdJZj1cImxlZ2VuZFwiIFtob3Jpem9udGFsXT1cInRydWVcIiAob25DbGljayk9XCJvbkJhckxlZ2VuZENsaWNrKCRldmVudClcIiBbZGF0YV09XCJsZWdlbmRBcnJheVwiIHN0eWxlPVwiaGVpZ2h0OjEwMCU7XCI+XG4gICAgICAgICAgICA8L2FtZXhpby1kMy1sZWdlbmQ+XG4gICAgICAgIDwvdGQ+XG4gICAgPC90cj5cbjwvdGFibGU+XG48L2Rpdj5gXG59KVxuZXhwb3J0IGNsYXNzIEFtZXhpb0QzQmFyQ2hhcnRDb21wb25lbnQgZXh0ZW5kcyBBbWV4aW9EM0Jhc2VDaGFydENvbXBvbmVudCBpbXBsZW1lbnRzIFBsb3RDYXJ0IHtcbiAgICBASW5wdXQoJ3dpZHRoJykgc3Znd2lkdGg6IG51bWJlcjtcbiAgICBASW5wdXQoJ2hlaWdodCcpIHN2Z2hlaWdodDogbnVtYmVyID0gMzAwO1xuICAgIEBJbnB1dCgpIGhvcml6b250YWw6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICBASW5wdXQoJ2xhYmVsLWNvbG9yJykgbGFiZWxjb2xvcjogc3RyaW5nID0gXCJibGFja1wiO1xuICAgIEBJbnB1dCgnbGFiZWwnKSBsYWJlbGZsYWc6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICBAVmlld0NoaWxkKCdjaGFydElkJykgY2hhcnRJZDogRWxlbWVudFJlZjtcbiAgICBAVmlld0NoaWxkKCdkaXZpZCcpICBkaXZpZDpFbGVtZW50UmVmO1xuICAgIEBWaWV3Q2hpbGQoJ2RyaWxsaWQnKSBkcmlsbGlkOiBhbnk7XG4gICAgQElucHV0KCdkYXRhLXJlYWRlcicpIGRhdGFyZWFkZXI6IHN0cmluZztcbiAgICBASW5wdXQoJ2xldmVsJykgbGV2ZWw6IG51bWJlciA9IDA7XG4gICAgQElucHV0KCd0YXJnZXQnKSB0YXJnZXQ6IG51bWJlcjtcbiAgICBASW5wdXQoJ2RyaWxsYWJsZS1kYXRhJykgZHJpbGxhYmxlZGF0YWtleTogYW55W10gPSBbXTtcbiAgICBASW5wdXQoJ2hvcml6b250YWwtc2NhbGUnKSBoU2NhbGU6IGJvb2xlYW4gPSB0cnVlO1xuICAgIHJlc2l6ZWZsYWc6IGJvb2xlYW4gPSBmYWxzZTtcbiAgICBjaGVja21vYjogYm9vbGVhbjtcbiAgICByZXNpemVnOmFueTtcbiAgICBkcmlsbGFibGVGbGFnOiBib29sZWFuID0gdHJ1ZTtcbiAgICBkYXRhOiBhbnk7XG4gICAgeGF4aXM6YW55O1xuICAgIHlheGlzOmFueTtcbiAgICBzdmc6YW55O1xuICAgIGNvbG9yZmxhZzogYm9vbGVhbiA9IGZhbHNlO1xuICAgIGtleUFycmF5OiBhbnlbXSA9IFtdO1xuICAgIHRyYW5zZm9ybWVkZGF0YTogYW55W10gPSBbXTtcbiAgICBvYmplY3Q6IGFueTtcbiAgICBsZWdlbmRBcnJheTogYW55W10gPSBbXTtcbiAgICBjb25zdHJ1Y3Rvcihwcml2YXRlIG15c2VydmljZTogQ29tbWFuRGF0YVNlcnZpY2UsIHByaXZhdGUgY2RmOiBDaGFuZ2VEZXRlY3RvclJlZixwcml2YXRlIGRldmljZTpEZXZpY2VRdWVyeVNlcnZpY2UpIHtcblxuICAgICAgICBzdXBlcignYmFyJyk7XG4gICAgICAgXG5cbiAgICB9XG4gICAgbmdPbkluaXQoKSB7XG4gICAgICBcblxuICAgICAgICBpZiAodGhpcy5sZXZlbCA8PSAxKSB7XG4gICAgICAgICAgICBsZXQgcmVzcDogYW55O1xuICAgICAgICAgICAgaWYgKHRoaXMuaHR0cG1ldGhvZCAmJiB0aGlzLmh0dHB1cmwpIHtcbiAgICAgICAgICAgICAgICB0aGlzLm15c2VydmljZS5mZXRjaFVybERhdGEodGhpcy5odHRwdXJsLCB0aGlzLmh0dHBtZXRob2QpLnN1YnNjcmliZSgocmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmVzcCA9IHJlc3BvbnNlO1xuICAgICAgICAgICAgICAgIH0sIChlcnJvcikgPT4ge1xuICAgICAgICAgICAgICAgIH0sICgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdGEgPSB0aGlzLmdldFJlc3BvbnNlRGF0YShyZXNwKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZHJhd0NoYXJ0KCk7XG5cbiAgICAgICAgICAgICAgICAgICAgfSwgMCk7XG4gICAgICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIH0gZWxzZSBpZiAodGhpcy5kYXRhKSB7XG5cbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRhID0gdGhpcy5nZXRSZXNwb25zZURhdGEodGhpcy5kYXRhKTtcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLnRyYW5zZm9ybURhdGEodGhpcy5kYXRhKVxuICAgICAgICAgICAgICAgICAgICB0aGlzLmluaXRpYWxpemVEYXRhKCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMucGxvdEQzQ2hhcnQoKTtcblxuICAgICAgICAgICAgICAgIH0sIDApO1xuXG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG4gICAgZmV0Y2hEYXRhKGRhdGE6IGFueSkge1xuXG4gICAgICAgIGxldCByZXF1ZXN0SnNvbjtcbiAgICAgICAgbGV0IGtleSA9IHRoaXMuZHJpbGxhYmxlZGF0YWtleTtcbiAgICAgICAgbGV0IHJlc3A6IGFueTtcbiAgICAgICAgaWYgKHRoaXMuZHJpbGxhYmxlZGF0YWtleS5sZW5ndGgpIHtcbiAgICAgICAgICAgIGxldCBkcmlsbGFibGVkYXRhID0gdGhpcy5nZXRNdWx0aXBsZURyaWxsYmxlS2V5RGF0YShkYXRhLCBrZXkpO1xuICAgICAgICAgICAgcmVxdWVzdEpzb24gPSBkcmlsbGFibGVkYXRhO1xuXG4gICAgICAgIH1cbiAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICByZXF1ZXN0SnNvbiA9IGRhdGE7XG5cbiAgICAgICAgfVxuXG4gICAgICAgIGlmICh0aGlzLmh0dHBtZXRob2QgJiYgdGhpcy5odHRwdXJsKSB7XG4gICAgICAgICAgICB0aGlzLm15c2VydmljZS5wb3N0ZmV0Y2hEYXRhKHRoaXMuaHR0cHVybCwgdGhpcy5odHRwbWV0aG9kLCByZXF1ZXN0SnNvbikuc3Vic2NyaWJlKChyZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgICAgIHJlc3AgPSByZXNwb25zZTtcbiAgICAgICAgICAgIH0sIChlcnJvcikgPT4ge1xuICAgICAgICAgICAgfSwgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdGEgPSB0aGlzLmdldFJlc3BvbnNlRGF0YShyZXNwKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kcmF3Q2hhcnQoKTtcbiAgICAgICAgICAgICAgICB9LCAwKTtcblxuXG4gICAgICAgICAgICB9KTtcblxuICAgICAgICB9XG4gICAgfVxuXG4gICAgZHJhd0NoYXJ0KCkge1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcblxuICAgICAgICAgICAgdGhpcy5pbml0aWFsaXplRGF0YSgpO1xuICAgICAgICAgICAgdGhpcy5wbG90RDNDaGFydCgpO1xuICAgICAgICB9LCAwKTtcblxuICAgIH1cbiAgICBnZXRSZXNwb25zZURhdGEoaHR0cFJlc3BvbnNlOiBhbnkpIHtcbiAgICAgICAgbGV0IHJlc3BvbnNlZGF0YSA9IGh0dHBSZXNwb25zZTtcbiAgICAgICAgaWYgKHRoaXMuZGF0YXJlYWRlciAhPSBudWxsKSB7XG4gICAgICAgICAgICBjb25zdCBkciA9IHRoaXMuZGF0YXJlYWRlci5zcGxpdCgnLicpO1xuICAgICAgICAgICAgZm9yIChjb25zdCBpciBvZiBkcikge1xuICAgICAgICAgICAgICAgIHJlc3BvbnNlZGF0YSA9IHJlc3BvbnNlZGF0YVtpcl07XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXNwb25zZWRhdGEgPSBodHRwUmVzcG9uc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlZGF0YTtcbiAgICB9XG5cbiAgICBwbG90RDNDaGFydCgpOiBhbnkge1xuXG4gICAgICAgIHRoaXMuZm9ybUxlZ2VuZERhdGEoKTtcbiAgICAgICAgICAgaWYodGhpcy5yZXNpemVmbGFnPT1mYWxzZSl7XG4gICAgICAgICAgIGlmKHRoaXMuY2hhcnRJZCApe1xuXG4gICAgICAgICAgICAgdGhpcy5zdmd3aWR0aCA9IHRoaXMuY2hhcnRJZC5uYXRpdmVFbGVtZW50Lm9mZnNldFdpZHRoO1xuICAgICAgICAgICAgIFxuICAgICAgICAgIH0gZWxzZXtcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLnN2Z3dpZHRoID0gdGhpcy5zdmd3aWR0aDtcbiAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgIH1cblxuICAgIFxuICAgICAgICBcbiAgICAgICAgY29uc3QgdG9vbHRpcCA9IHRoaXMudG9vbFRpcChkMyk7XG4gICAgICAgIHRoaXMuc3ZnID0gZDMuc2VsZWN0KFwiI1wiICsgdGhpcy5jb21wb25lbnRJZCkgO1xuICAgICAgICBjb25zdCBtYXJnaW4gPSB7IHRvcDogMjAsIHJpZ2h0OjYwLCBib3R0b206IDMwLCBsZWZ0OiA2MCB9O1xuICAgICAgXG4gICAgICAgIGNvbnN0IHdpZHRoID0gdGhpcy5zdmd3aWR0aCAtIG1hcmdpbi5sZWZ0IC0gbWFyZ2luLnJpZ2h0O1xuICAgICAgICBjb25zdCBoZWlnaHQgPSB0aGlzLnN2Z2hlaWdodCAtIG1hcmdpbi50b3AgLSBtYXJnaW4uYm90dG9tO1xuICAgXG4gICAgICAgIC8vY29uc3QgaGVpZ2h0ID0gK3N2Zy5hdHRyKFwiaGVpZ2h0XCIpIC0gbWFyZ2luLnRvcCAtIG1hcmdpbi5ib3R0b207XG4gICAgICBcbiAgICAgICAgbGV0IHgsIHk7XG4gICAgICAgIGNvbnN0IGcgPSB0aGlzLnN2Zy5hcHBlbmQoXCJnXCIpXG4gICAgICAgICAgICAuYXR0cihcInRyYW5zZm9ybVwiLCBcInRyYW5zbGF0ZShcIiArIG1hcmdpbi5sZWZ0ICsgXCIsXCIgKyBtYXJnaW4udG9wICsgXCIpXCIpO1xuXG4gICAgICAgIGlmICh0aGlzLmhvcml6b250YWwgPT0gZmFsc2UpIHtcbiAgICAgICAgICAgIHggPSBkMy5zY2FsZUJhbmQoKVxuICAgICAgICAgICAgICAgIC5yYW5nZVJvdW5kKFswLCB3aWR0aF0pXG4gICAgICAgICAgICAgICAgLnBhZGRpbmcoMC4xKTtcbiAgICAgICAgICAgIHkgPSBkMy5zY2FsZUxpbmVhcigpXG4gICAgICAgICAgICAgICAgLnJhbmdlUm91bmQoW2hlaWdodCwgMF0pO1xuXG4gICAgICAgICAgICAvL3NldHRpbmcgY29udGVudCBmb3IgeCBhbmQgeSBheGlzXG4gICAgICAgICAgICB4LmRvbWFpbih0aGlzLmRhdGEubWFwKChkKSA9PiB7XG5cbiAgICAgICAgICAgICAgICByZXR1cm4gZFtPYmplY3Qua2V5cyhkKVswXV07XG4gICAgICAgICAgICAgICAgLy8gICAgcmV0dXJuIGQubGFiZWxcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIHkuZG9tYWluKFswLCBkMy5tYXgodGhpcy5kYXRhLCAoZCkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiBkW09iamVjdC5rZXlzKGQpWzFdXTtcbiAgICAgICAgICAgICAgICAvL3JldHVybiBkLnZhbHVlO1xuICAgICAgICAgICAgfSldKTtcbiAgICAgICAgXG4gICAgICAgICAgXG4gICAgICAgICAgICAvLyBhZGQgeCBheGlzIHRvIHN2Z1xuICAgICAgICAgICAgaWYodGhpcy5kZXZpY2UuSXNEZXNrdG9wKCk9PXRydWUpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgIGcuYXBwZW5kKFwiZ1wiKVxuICAgICAgICAgICAgICAgICAgLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJ0cmFuc2xhdGUoMCxcIiArIGhlaWdodCArIFwiKVwiKVxuICAgICAgICAgICAgICAgICAgLmNhbGwoZDMuYXhpc0JvdHRvbSh4KSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlXG4gICAgICAgICAgIHtcbiAgICAgICAgICAgIGcuYXBwZW5kKFwiZ1wiKVxuICAgICAgICAgICAgICAgICAgLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJ0cmFuc2xhdGUoMCxcIiArIGhlaWdodCArIFwiKVwiKVxuICAgICAgICAgICAgICAgICAgLmNhbGwoZDMuYXhpc0JvdHRvbSh4KSkuXG4gICAgICAgICAgICAgICAgICAgc2VsZWN0QWxsKFwidGV4dFwiKVxuICAgICAgICAgICAgICAgICAgIC5hdHRyKFwieVwiLCAwKVxuICAgICAgICAgICAgICAgICAgIC5hdHRyKFwieFwiLCA5KVxuICAgICAgICAgICAgICAgICAgIC5hdHRyKFwiZHlcIiwgXCIuMzVlbVwiKVxuICAgICAgICAgICAgICAgICAgIC5hdHRyKFwidHJhbnNmb3JtXCIsIFwicm90YXRlKDYwKVwiKVxuICAgICAgICAgICAgICAgICAgIC5zdHlsZShcInRleHQtYW5jaG9yXCIsIFwic3RhcnRcIik7XG4gICAgIFxuICAgICAgICAgIH1cbiAgICAgICAgIFxuICAgICAgICAgICAgLy9hZGQgeSBheGlzIHRvIHN2Z1xuICAgICAgICAgIGcuYXBwZW5kKFwiZ1wiKVxuICAgICAgICAgICAgICAgIC5jYWxsKGQzLmF4aXNMZWZ0KHkpXG4gICAgICAgICAgICAgICAgICAgIC50aWNrcygxMCkpXG4gICAgICAgIFxuICAgICAgICAgIHRoaXMucGxvdExpbmUoZywgeCwgeSwgaGVpZ2h0LCB3aWR0aCk7XG5cbiAgICAgICAgICAgLy9hZGQgYmFyIGNoYXJ0XG4gICAgICAgICAgICBnLnNlbGVjdEFsbChcIi5iYXJcIilcbiAgICAgICAgICAgICAgICAuZGF0YSh0aGlzLmRhdGEpXG4gICAgICAgICAgICAgICAgLmVudGVyKClcbiAgICAgICAgICAgICAgICAuYXBwZW5kKFwicmVjdFwiKVxuICAgICAgICAgICAgICAgIC5hdHRyKFwiY2xhc3NcIiwgXCJiYXJcIilcbiAgICAgICAgICAgICAgICAuYXR0cihcInhcIiwgKGQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHgoZFtPYmplY3Qua2V5cyhkKVswXV0pO1xuICAgICAgICAgICAgICAgICAgICAvLyByZXR1cm4geChkLmxhYmVsKTsgXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAuYXR0cihcInlcIiwgKGQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHkoZFtPYmplY3Qua2V5cyhkKVsxXV0pO1xuICAgICAgICAgICAgICAgICAgICAvLyByZXR1cm4geShkLnZhbHVlKTsgXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAuYXR0cihcImN1cnNvclwiLCBcInBvaW50ZXJcIilcbiAgICAgICAgICAgICAgICAuYXR0cihcIndpZHRoXCIsIHguYmFuZHdpZHRoKCkpXG4gICAgICAgICAgICAgICAgLmF0dHIoXCJoZWlnaHRcIiwgKGQpID0+IHsgcmV0dXJuIGhlaWdodCAtIHkoZFtPYmplY3Qua2V5cyhkKVsxXV0pOyB9KVxuXG4gICAgICAgICAgICAgICAgLnN0eWxlKFwiZmlsbFwiLCAoZCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAvLyByZXR1cm4gXCJibHVlXCI7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiBkLmNvbG9yO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLm9uKFwibW91c2VvdmVyXCIsIChkKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0b29sdGlwLnN0eWxlKFwidmlzaWJpbGl0eVwiLCBcInZpc2libGVcIik7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAub24oXCJtb3VzZW1vdmVcIiwgKGQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRvb2x0aXAuaHRtbChcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZm9ybVRvb2x0aXBEYXRhKGQpXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyAgdGhpcy50b29sVGlwRm9yQmFyKGQpXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGlzLnRvb2xUaXBDb250ZW50KGQpXG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgIC5zdHlsZShcInRvcFwiLCAoZDMuZXZlbnQucGFnZVkgLSAxMCkgKyBcInB4XCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAuc3R5bGUoXCJsZWZ0XCIsIChkMy5ldmVudC5wYWdlWCArIDEwKSArIFwicHhcIik7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAub24oXCJtb3VzZW91dFwiLCAoZCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdG9vbHRpcC5zdHlsZShcInZpc2liaWxpdHlcIiwgXCJoaWRkZW5cIik7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAub24oXCJjbGlja1wiLCAoZCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmJhckNoYXJ0Q2xpY2soZCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZm9yZHJpbGxhYmxlQ2xpY2sodGhpcywgZCwgZXZlbnQpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdG9vbHRpcC5zdHlsZShcInZpc2liaWxpdHlcIiwgXCJoaWRkZW5cIik7XG4gICAgICAgICAgICAgICAgICAgIC8vdGhpcy5jaGFydENsaWNrKGQpO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgaWYodGhpcy5sYWJlbGZsYWcpXG4gICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgdmFyIHlUZXh0UGFkZGluZyA9IDQwO1xuICAgICAgICAgICAgICAgIHRoaXMuc3ZnLnNlbGVjdEFsbChcIi5sYWJlbFwiKVxuICAgICAgICAgICAgICAgIC5kYXRhKHRoaXMuZGF0YSlcbiAgICAgICAgICAgICAgICAuZW50ZXIoKVxuICAgICAgICAgICAgICAgIC5hcHBlbmQoXCJ0ZXh0XCIpXG4gICAgICAgICAgICAgICAgLnN0eWxlKFwiZm9udC13ZWlnaHRcIixcImJvbGRcIilcbiAgICAgICAgICAgICAgICAuc3R5bGUoXCJmb250LXNpemVcIixcIjF2d1wiKVxuICAgICAgICAgICAgICAgIC5hdHRyKFwidGV4dC1hbmNob3JcIiwgXCJtaWRkbGVcIilcbiAgICAgICAgICAgICAgICAuYXR0cihcImZpbGxcIiwgKGQpPT57XG4gICAgICAgICAgICAgICAgICBpZih0aGlzLmxhYmVsY29sb3IubGVuZ3RoPjApe1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdGhpcy5sYWJlbGNvbG9yO1xuICAgICAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIFwiYmxhY2tcIjtcbiAgICAgICAgICAgICAgICAgIH1cbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5hdHRyKFwieFwiLCAoZCxpKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB4KGRbT2JqZWN0LmtleXMoZClbMF1dKSsgbWFyZ2luLmxlZnQgKyB4LmJhbmR3aWR0aCgpLzI7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAuYXR0cihcInlcIiwgKGQsaSkgPT4ge1xuICAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHkoZFtPYmplY3Qua2V5cyhkKVsxXV0pK3lUZXh0UGFkZGluZztcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC50ZXh0KChkKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICByZXR1cm4gZFtPYmplY3Qua2V5cyhkKVsxXV07XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfS8vaWYgZW5kcyBmciBcbiAgICAgICAgfVxuXG4gICAgICAgIGVsc2UgaWYgKHRoaXMuaG9yaXpvbnRhbCA9PSB0cnVlKSB7XG5cbiAgICAgICAgICAgIHggPSBkMy5zY2FsZUxpbmVhcigpXG4gICAgICAgICAgICAgICAgLnJhbmdlUm91bmQoWzAsIHdpZHRoXSlcbiAgICAgICAgICAgICAgICA7XG4gICAgICAgICAgICB5ID0gZDMuc2NhbGVCYW5kKClcbiAgICAgICAgICAgICAgICAucmFuZ2VSb3VuZChbaGVpZ2h0LCAwXSkucGFkZGluZygwLjEpO1xuXG4gICAgICAgICAgICAvL3NldHRpbmcgY29udGVudCBmb3IgeCBhbmQgeSBheGlzXG4gICAgICAgICAgICB4LmRvbWFpbihbMCwgZDMubWF4KHRoaXMuZGF0YSxcbiAgICAgICAgICAgICAgICAoZCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gcGFyc2VJbnQoXG4gICAgICAgICAgICAgICAgICAgICAgICBkW09iamVjdC5rZXlzKGQpWzFdXVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZC52YWx1ZVxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH0pXSk7XG4gICAgICAgICAgICAvLyBkW09iamVjdC5rZXlzKGQpWzFdXVxuXG4gICAgICAgICAgICB5LmRvbWFpbih0aGlzLmRhdGEubWFwKChkKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGRbT2JqZWN0LmtleXMoZClbMF1dXG4gICAgICAgICAgICAgICAgLy9yZXR1cm4gZC5sYWJlbDtcbiAgICAgICAgICAgIH0pKVxuXG4gICAgICAgICAgICAvLyBhZGQgeCBheGlzIHRvIHN2Z1xuICAgICAgICAgICAgZy5hcHBlbmQoXCJnXCIpXG4gICAgICAgICAgICAgICAgLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJ0cmFuc2xhdGUoMCxcIiArIGhlaWdodCArIFwiKVwiKVxuICAgICAgICAgICAgICAgIC5jYWxsKGQzLmF4aXNCb3R0b20oeCkudGlja3MoMTApKTtcblxuICAgICAgICAgICAgLy9hZGQgeSBheGlzIHRvIHN2Z1xuICAgICAgICAgICAgZy5hcHBlbmQoXCJnXCIpXG4gICAgICAgICAgICAgICAgLmNhbGwoZDMuYXhpc0xlZnQoeSkpXG4gICAgICAgICAgICAgIFxuICAgICAgICAgICAgdGhpcy5wbG90TGluZShnLCB4LCB5LCBoZWlnaHQsIHdpZHRoKTtcbiAgICAgICAgICAgIC8vYWRkIGJhciBjaGFydFxuICAgICAgICAgICAgZy5zZWxlY3RBbGwoXCIuYmFyXCIpXG4gICAgICAgICAgICAgICAgLmRhdGEodGhpcy5kYXRhKVxuICAgICAgICAgICAgICAgIC5lbnRlcigpXG4gICAgICAgICAgICAgICAgLmFwcGVuZChcInJlY3RcIilcbiAgICAgICAgICAgICAgICAuYXR0cihcImNsYXNzXCIsIFwiYmFyXCIpXG4gICAgICAgICAgICAgICAgLmF0dHIoXCJ4XCIsIDApXG4gICAgICAgICAgICAgICAgLmF0dHIoXCJ5XCIsIChkKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB5KFxuICAgICAgICAgICAgICAgICAgICAgICAgZFtPYmplY3Qua2V5cyhkKVswXV1cbiAgICAgICAgICAgICAgICAgICAgICAgIC8vIGQubGFiZWxcbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5hdHRyKFwiY3Vyc29yXCIsIFwicG9pbnRlclwiKVxuICAgICAgICAgICAgICAgIC5hdHRyKFwid2lkdGhcIiwgKGQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHgoXG4gICAgICAgICAgICAgICAgICAgICAgICBkW09iamVjdC5rZXlzKGQpWzFdXVxuICAgICAgICAgICAgICAgICAgICAgICAgLy8gZC52YWx1ZVxuICAgICAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAuYXR0cihcImhlaWdodFwiLCB5LmJhbmR3aWR0aCgpKVxuICAgICAgICAgICAgICAgIC5zdHlsZShcImZpbGxcIiwgKGQpID0+IHsgcmV0dXJuIGQuY29sb3I7IH0pXG4gICAgICAgICAgICAgICAgLm9uKFwibW91c2VvdmVyXCIsIChkKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0b29sdGlwLnN0eWxlKFwidmlzaWJpbGl0eVwiLCBcInZpc2libGVcIik7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAub24oXCJtb3VzZW1vdmVcIiwgKGQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRvb2x0aXAuaHRtbChcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZm9ybVRvb2x0aXBEYXRhKGQpXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGlzLmZvcm1MZWdlbmREYXRhKGQpXG4gICAgICAgICAgICAgICAgICAgICAgICAvLyB0aGlzLnRvb2xUaXBDb250ZW50KGQpXG4gICAgICAgICAgICAgICAgICAgIClcbiAgICAgICAgICAgICAgICAgICAgICAgIC5zdHlsZShcInRvcFwiLCAoZDMuZXZlbnQucGFnZVkgLSAxMCkgKyBcInB4XCIpXG4gICAgICAgICAgICAgICAgICAgICAgICAuc3R5bGUoXCJsZWZ0XCIsIChkMy5ldmVudC5wYWdlWCArIDEwKSArIFwicHhcIik7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAub24oXCJtb3VzZW91dFwiLCAoZCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdG9vbHRpcC5zdHlsZShcInZpc2liaWxpdHlcIiwgXCJoaWRkZW5cIik7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAub24oXCJjbGlja1wiLCAoZCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmJhckNoYXJ0Q2xpY2soZCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZm9yZHJpbGxhYmxlQ2xpY2sodGhpcywgZCwgZXZlbnQpO1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdG9vbHRpcC5zdHlsZShcInZpc2liaWxpdHlcIiwgXCJoaWRkZW5cIik7XG4gICAgICAgICAgICAgICAgICAgIC8vdGhpcy5jaGFydENsaWNrKGQpO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICAgICAgIGlmKHRoaXMubGFiZWxmbGFnKVxuICAgICAgICAgICAgICAgICB7XG4gICAgICAgICAgICAgICAgbGV0IHlUZXh0UGFkZGluZyA9IDQwO1xuICAgICAgICAgICAgICAgIHRoaXMuc3ZnLnNlbGVjdEFsbChcIi5sYWJlbFwiKVxuICAgICAgICAgICAgICAgIC5kYXRhKHRoaXMuZGF0YSlcbiAgICAgICAgICAgICAgICAuZW50ZXIoKVxuICAgICAgICAgICAgICAgIC5hcHBlbmQoXCJ0ZXh0XCIpXG4gICAgICAgICAgICAgICAgLnN0eWxlKFwiZm9udC13ZWlnaHRcIixcImJvbGRcIilcbiAgICAgICAgICAgICAgICAuYXR0cihcInRleHQtYW5jaG9yXCIsXCJtaWRkbGVcIilcbiAgICAgICAgICAgICAgICAuYXR0cihcInZlcnRpY2FsLWFsaWduXCIsXCJtaWRkbGVcIilcbiAgICAgICAgICAgICAgICAuYXR0cihcIm1hcmdpbi10b3BcIixtYXJnaW4udG9wKVxuICAgICAgICAgICAgICAgIC5hdHRyKFwiZmlsbFwiLCAoZCk9PntcbiAgICAgICAgICAgICAgICAgIGlmKHRoaXMubGFiZWxjb2xvci5sZW5ndGg+MCl7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0aGlzLmxhYmVsY29sb3I7XG4gICAgICAgICAgICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gXCJibGFja1wiO1xuICAgICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLmF0dHIoXCJ4XCIsIChkLGkpID0+IHtcbiAgICAgICAgICAgICAgICAgIHJldHVybiB4KGRbT2JqZWN0LmtleXMoZClbMV1dKSt5VGV4dFBhZGRpbmc7XG4gICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLmF0dHIoXCJ5XCIsIChkLGkpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgIHJldHVybiB5KGRbT2JqZWN0LmtleXMoZClbMF1dKVxuICAgICAgICAgICAgICAgICAgICAgKyBtYXJnaW4udG9wICsgeS5iYW5kd2lkdGgoKS8yO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLnRleHQoIChkKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgICByZXR1cm4gZFtPYmplY3Qua2V5cyhkKVsxXV07XG4gICAgICAgICAgICAgICAgfSk7XG4gICAgICAgICAgfVxuICAgICAgICBcblxuICAgICAgICB9Ly9lbHNlIGVuZHMoaG9yaXpvbnRhbCBiYXIgbG9naWMgZW5kcylcblxuICAgICBcblxuICAgIH1cblxuICAgIHBsb3RMaW5lKGcsIHgsIHksIGhlaWdodCwgd2lkdGgpIHtcblxuICAgICAgICBpZiAodGhpcy5oU2NhbGUpIHtcbiAgICAgICAgICAgIGcuYXBwZW5kKCdnJylcbiAgICAgICAgICAgICAgICAuYXR0cihcImNvbG9yXCIsIFwibGlnaHRncmV5XCIpXG4gICAgICAgICAgICAgICAgLmNhbGwoZDMuYXhpc0xlZnQoeSlcbiAgICAgICAgICAgICAgICAgICAgLnRpY2tTaXplKC13aWR0aCkudGlja0Zvcm1hdCgnJykpO1xuICAgICAgICB9XG4gICAgfVxuXG5cbiAgICBmb3JtVG9vbHRpcERhdGEodG9vbHRpcERhdGE6IGFueSkge1xuICAgICAgICBsZXQgb2JqZWN0ID0ge307XG4gICAgICAgIGZvciAobGV0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyh0b29sdGlwRGF0YSkpIHtcbiAgICAgICAgICAgIGlmIChrZXkgIT0gJ2NvbG9yJykge1xuICAgICAgICAgICAgICAgIG9iamVjdFtrZXldID0gdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMudG9vbFRpcEZvckJhcihvYmplY3QpO1xuICAgIH1cblxuICAgIHRyYW5zZm9ybURhdGEoZGF0YTogYW55KSB7XG5cbiAgICAgICAgdGhpcy5rZXlBcnJheSA9IGRhdGFbMF07XG4gICAgICAgIGRhdGEuZm9yRWFjaCgoZWxlbWVudCwgaW5kZXgpID0+IHtcbiAgICAgICAgICAgIGlmIChpbmRleCA+IDApIHtcbiAgICAgICAgICAgICAgICBsZXQgRHVtbXlPYmplY3QgPSB7fTtcbiAgICAgICAgICAgICAgICBlbGVtZW50LmZvckVhY2goKGluZGl2aWR1YWx2YWx1ZSwga2V5aW5kZXgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgRHVtbXlPYmplY3RbdGhpcy5rZXlBcnJheVtrZXlpbmRleF1dID0gaW5kaXZpZHVhbHZhbHVlO1xuICAgICAgICAgICAgICAgIH0pOy8vaW5uZXIgZm9yIGxvb3AgZW5kc1xuICAgICAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtZWRkYXRhLnB1c2goRHVtbXlPYmplY3QpO1xuICAgICAgICAgICAgfS8vaWYgZW5kc1xuICAgICAgICB9KTsvL291dGVyIGZvciBsb29wIGVuZHNcbiAgICAgICAgdGhpcy5kYXRhID0gdGhpcy50cmFuc2Zvcm1lZGRhdGE7XG4gICAgfVxuXG4gICAgZm9ybUxlZ2VuZERhdGEoKSB7XG4gICAgICAgIHRoaXMubGVnZW5kQXJyYXkgPSBbXTtcbiAgICAgICAgdGhpcy5kYXRhLmZvckVhY2goZWxlbWVudCA9PiB7XG4gICAgICAgICAgICBsZXQgbGVnZW5kb2JqZWN0ID0ge307XG4gICAgICAgICAgICBsZWdlbmRvYmplY3RbJ2xhYmVsJ10gPSBlbGVtZW50W09iamVjdC5rZXlzKGVsZW1lbnQpWzBdXTtcbiAgICAgICAgICAgIGxlZ2VuZG9iamVjdFsndmFsdWUnXSA9IGVsZW1lbnRbT2JqZWN0LmtleXMoZWxlbWVudClbMV1dO1xuICAgICAgICAgICAgbGVnZW5kb2JqZWN0Wydjb2xvciddID0gZWxlbWVudC5jb2xvcjtcbiAgICAgICAgICAgIHRoaXMubGVnZW5kQXJyYXkucHVzaChsZWdlbmRvYmplY3QpO1xuICAgICAgICB9KTtcbiAgICB9XG5cbiAgICBvbkJhckxlZ2VuZENsaWNrKGxlZ2VuZGV2ZW50OiBhbnkpIHtcbiAgICAgICAgbGV0IG9iaiA9IHt9O1xuICAgICAgICAvLyAgb2JqWydsYWJlbCddID0gbGVnZW5kZXZlbnQubGFiZWw7XG4gICAgICAgIC8vICBvYmpbJ3ZhbHVlJ10gPSBsZWdlbmRldmVudC52YWx1ZTtcbiAgICAgICAgb2JqW3RoaXMua2V5QXJyYXlbMF1dID0gbGVnZW5kZXZlbnQubGFiZWw7XG4gICAgICAgIG9ialt0aGlzLmtleUFycmF5WzFdXSA9IGxlZ2VuZGV2ZW50LnZhbHVlO1xuICAgICAgICAvL29ialtsZWdlbmRldmVudC5sYWJlbF0gPSBsZWdlbmRldmVudC52YWx1ZTtcbiAgICAgICAgLy9kZWxldGUgZXZlbnQuY29sb3I7XG4gICAgICAgIHRoaXMubGVnZW5kQ2xpY2sob2JqKTtcbiAgICB9XG5cblxuICAgIGJhckNoYXJ0Q2xpY2soZXZlbnQ6IGFueSkge1xuICAgICAgICBsZXQgb2JqZWN0ID0ge307XG4gICAgICAgIGZvciAobGV0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhldmVudCkpIHtcbiAgICAgICAgICAgIGlmIChrZXkgIT0gJ2NvbG9yJykge1xuICAgICAgICAgICAgICAgIG9iamVjdFtrZXldID0gdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgdGhpcy5jaGFydENsaWNrKG9iamVjdCk7XG4gICAgfVxuXG4gICAgcmVzaXplKGRhdGE6IGFueSkge1xuICAgICAgXG4gICAgICAgIHRoaXMuc3ZnLnNlbGVjdEFsbChcIipcIikucmVtb3ZlKCk7XG4gIFxuICAgICAgICB0aGlzLnJlc2l6ZWZsYWc9dHJ1ZTtcbiAgICAgICAgdGhpcy5zdmd3aWR0aCA9IHRoaXMuZGl2aWQubmF0aXZlRWxlbWVudC5vZmZzZXRXaWR0aDtcbiAgICAgXG4gICAgICAgIHRoaXMuY2RmLmRldGVjdENoYW5nZXMoKTtcbiAgICAgICAgdGhpcy5wbG90RDNDaGFydCgpO1xuICAgXG4gICAgfVxuXG5cblxuICAgIFxuXG59IiwiaW1wb3J0IHsgSW5wdXQgfSBmcm9tIFwiQGFuZ3VsYXIvY29yZVwiO1xuaW1wb3J0ICogYXMgZDMgZnJvbSAnZDMnO1xuaW1wb3J0IHsgQW1leGlvRDNCYXNlQ2hhcnRDb21wb25lbnQgfSBmcm9tIFwiLi4vYmFzZS9iYXNlLmNvbXBvbmVudFwiO1xuaW1wb3J0e0RldmljZVF1ZXJ5U2VydmljZX0gZnJvbSAnLi4vc2VydmljZXMvZGV2aWNlLnF1ZXJ5LnNlcnZpY2UnO1xuXG5leHBvcnQgY2xhc3MgQW1leGlvRDNCYXNlTGluZUNvbXBvbmVudCBleHRlbmRzIEFtZXhpb0QzQmFzZUNoYXJ0Q29tcG9uZW50XG57XG4gICAgc3Znd2lkdGggOiBhbnk7XG4gICAgc3ZnaGVpZ2h0PTMwMDtcbiAgICBwcml2YXRlIF9kYXRhICAgICAgOiBhbnk7XG4gICAgcHJpdmF0ZSB4YXhpc2RhdGEgIDogYW55W107XG4gICAgcHJpdmF0ZSB5YXhpc2RhdGEgIDogYW55W107XG4gICAgcHJpdmF0ZSBsZWdlbmRkYXRhIDogYW55W107XG4gICAgbGVnZW5kcyAgICA6IGFueVtdO1xuICAgIHByb3RlY3RlZCB4YXhpc25hbWUgOiBhbnk7XG4gICAgcHJvdGVjdGVkIG11bHRpc2VyaWVzZGF0YSA6IGFueVtdO1xuICAgIHN2Zzphbnk7XG5cbiAgICBASW5wdXQoJ2hvcml6b250YWwtc2NhbGUnKSBoU2NhbGUgOiBib29sZWFuID0gdHJ1ZTtcblxuICAgIEBJbnB1dCgndmVydGljYWwtc2NhbGUnKSAgIHZTY2FsZSA6IGJvb2xlYW4gPSBmYWxzZTtcblxuICAgIEBJbnB1dCgnZGF0YScpIFxuXG4gICAgQElucHV0KCdodHRwLXVybCcpIGh0dHB1cmw6IGFueTtcbiAgICBcbiAgICBASW5wdXQoJ2h0dHAtbWV0aG9kJykgaHR0cG1ldGhvZDogYW55O1xuXG4gICAgY29uc3RydWN0b3IocHVibGljIGRldmljZVF1ZXJ5U2VydmljZTogRGV2aWNlUXVlcnlTZXJ2aWNlKSB7XG4gICAgICAgIHN1cGVyKCdsaW5lJyk7XG4gICAgfVxuXG5cbiAgICBzZXQgZGF0YSh2OmFueSl7XG4gICAgICAgIHRoaXMuX2RhdGEgPSB2O1xuICAgICAgICB0aGlzLmNyZWF0ZVhZQXhpc0RhdGEoKTtcbiAgICB9XG5cbiAgICBnZXQgZGF0YSgpe1xuICAgICAgICByZXR1cm4gdGhpcy5fZGF0YTtcbiAgICB9XG5cblxuICAgIHByb3RlY3RlZCBjcmVhdGVYWUF4aXNEYXRhKCkgOiB2b2lkIHtcblxuICAgICAgICB0aGlzLnhheGlzZGF0YSA9IFtdO1xuICAgICAgICB0aGlzLnlheGlzZGF0YSA9IFtdO1xuICAgICAgICB0aGlzLm11bHRpc2VyaWVzZGF0YSA9IFtdO1xuICAgICAgICB0aGlzLmxlZ2VuZGRhdGEgPSBbXTtcbiAgICAgICAgdGhpcy5sZWdlbmRzID0gW107XG4gICAgICAgIHRoaXMueGF4aXNuYW1lID0gdGhpcy5kYXRhWzBdWzBdLmxhYmVsO1xuICAgICAgICAgY29uc3QgbXNkYXJyYXkgOiBhbnkgW10gPVtdO1xuICAgICAgICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IHRoaXMuX2RhdGFbMF0ubGVuZ3RoOyBpbmRleCsrKSB7XG4gICAgICAgICAgICBjb25zdCBsZWdlbmQgPSB0aGlzLl9kYXRhWzBdW2luZGV4XTtcbiAgICAgICAgICAgIG1zZGFycmF5W2luZGV4XT1bXTtcbiAgICAgICAgICAgIHRoaXMubGVnZW5kZGF0YS5wdXNoKHsnbGFiZWwnOmxlZ2VuZC5sYWJlbCwnY29sb3InOnRoaXMucHJlZGVmaW5lZGNvbG9yc1tpbmRleCsxXX0pO1xuICAgICAgICAgICAgaWYoaW5kZXggPiAwKVxuICAgICAgICAgICAgICAgIHRoaXMubGVnZW5kcy5wdXNoKHsnbGFiZWwnOmxlZ2VuZC5sYWJlbCwnY29sb3InOnRoaXMucHJlZGVmaW5lZGNvbG9yc1tpbmRleF19KTtcbiAgICAgICAgfVxuXG4gICAgICAgIGxldCBpID0gMDtcbiAgICAgICAgdGhpcy5fZGF0YS5mb3JFYWNoKG9iamVjdCA9PiB7XG4gICAgICAgICAgICBpZihpPjApe1xuICAgICAgICAgICAgICAgIGxldCBqID0gMDtcbiAgICAgICAgICAgICAgICBvYmplY3QuZm9yRWFjaChhID0+e1xuICAgICAgICAgICAgICAgICAgICAgaWYoaj09PTApe1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy54YXhpc2RhdGEucHVzaCh7J2xhYmVsJzphLCAndmFsdWUnOmF9KTtcbiAgICAgICAgICAgICAgICAgICAgfWVsc2V7XG4gICAgICAgICAgICAgICAgICAgICAgICB0aGlzLnlheGlzZGF0YS5wdXNoKHsnbGFiZWwnOmEsICd2YWx1ZSc6YX0pO1xuICAgICAgICAgICAgICAgICAgICB9XG4gICAgICAgICAgICAgICAgICAgIG1zZGFycmF5W2pdLnB1c2goYSk7XG4gICAgICAgICAgICAgICAgICAgIGorKztcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICAgIGkrKztcbiAgICAgICAgfSk7XG5cbiAgICAgICAgZm9yIChsZXQgaW5kZXggPSAwOyBpbmRleCA8IG1zZGFycmF5Lmxlbmd0aDsgaW5kZXgrKykge1xuICAgICAgICAgICAgY29uc3QgZWxlbWVudCA9IG1zZGFycmF5W2luZGV4XTtcbiAgICAgICAgICAgIGlmKGluZGV4ID4wKXtcbiAgICAgICAgICAgICAgICBsZXQgbWQgOiBhbnkgW10gPSBbXTtcbiAgICAgICAgICAgICAgICBmb3IgKGxldCBqID0gMDsgaiA8IGVsZW1lbnQubGVuZ3RoOyBqKyspIHtcbiAgICAgICAgICAgICAgICAgICAgY29uc3QgdiA9IGVsZW1lbnRbal07XG4gICAgICAgICAgICAgICAgICAgIG1kLnB1c2goeydsZWdlbmQnOnRoaXMubGVnZW5kZGF0YVtpbmRleF0ubGFiZWwsJ2xhYmVsJzp0aGlzLnhheGlzZGF0YVtqXS52YWx1ZSwgJ3ZhbHVlJzp2fSk7XG4gICAgICAgICAgICAgICAgfVxuICAgICAgICAgICAgICAgIHRoaXMubXVsdGlzZXJpZXNkYXRhLnB1c2gobWQpO1xuICAgICAgICAgICAgICAgIHRoaXMubGVnZW5kc1tpbmRleC0xXS5kYXRhID0gbWQ7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICB9XG5cbiAgICBwcm90ZWN0ZWQgaW5pdENoYXJ0KCkgOiBhbnkge1xuXG4gICAgICAgIHRoaXMuc3ZnICAgICAgID0gZDMuc2VsZWN0KFwiI1wiK3RoaXMuY29tcG9uZW50SWQpO1xuICAgICAgICBjb25zdCBtYXJnaW4gICAgPSB7IHRvcDogNDAsIHJpZ2h0OiAyMCwgYm90dG9tOiAzMCwgbGVmdDogNDAgfTtcbiAgICAgICAgY29uc3Qgd2lkdGggICAgID0gK3RoaXMuc3Znd2lkdGggLSBtYXJnaW4ubGVmdCAtIG1hcmdpbi5yaWdodDtcbiAgICAgICAgY29uc3QgaGVpZ2h0ICAgID0gK3RoaXMuc3ZnaGVpZ2h0IC0gbWFyZ2luLnRvcCAtIG1hcmdpbi5ib3R0b207XG4gICAgICAgIGNvbnN0IGcgICAgICAgICA9IHRoaXMuc3ZnLmFwcGVuZChcImdcIikuYXR0cihcInRyYW5zZm9ybVwiLCBcInRyYW5zbGF0ZShcIiArIG1hcmdpbi5sZWZ0ICsgXCIsXCIgKyBtYXJnaW4udG9wICsgXCIpXCIpO1xuXG4gICAgICAgIGNvbnN0IHggPSBkMy5zY2FsZUJhbmQoKVxuICAgICAgICAgICAgICAgICAgICAucmFuZ2VSb3VuZChbMCwgd2lkdGhdKVxuICAgICAgICAgICAgICAgICAgICAucGFkZGluZygwLjEpOyAgICAgICAgICAgICAgICAgICAgXG4gICAgXG4gICAgICAgIGNvbnN0IHkgPSBkMy5zY2FsZUxpbmVhcigpXG4gICAgICAgICAgICAgICAgICAgICAucmFuZ2VSb3VuZChbaGVpZ2h0LCAwXSk7XG5cbiAgICAgICAgeC5kb21haW4odGhpcy54YXhpc2RhdGEubWFwKCAoZCkgPT4geyByZXR1cm4gZC5sYWJlbDt9KSk7XG4gICAgICAgIHkuZG9tYWluKFswLCBkMy5tYXgodGhpcy55YXhpc2RhdGEsICAoZCkgPT4geyByZXR1cm4gZC52YWx1ZTsgfSldKTtcblxuICAgICAgICAvL2FkZCBheGlzIFxuICAgICAgICBpZih0aGlzLmRldmljZVF1ZXJ5U2VydmljZS5Jc0Rlc2t0b3AoKT09dHJ1ZSlcbiAgICAgICAge1xuICAgICAgICAgIGcuYXBwZW5kKFwiZ1wiKVxuICAgICAgICAgICAgICAuYXR0cihcInRyYW5zZm9ybVwiLCBcInRyYW5zbGF0ZSgwLFwiICsgaGVpZ2h0ICsgXCIpXCIpXG4gICAgICAgICAgICAgIC5hdHRyKFwiY29sb3JcIiwgXCJncmV5XCIpXG4gICAgICAgICAgICAgIC5jYWxsKGQzLmF4aXNCb3R0b20oeCkpXG4gICAgICAgIH1cbiAgICAgIGVsc2VcbiAgICAgICB7XG4gICAgICAgIGcuYXBwZW5kKFwiZ1wiKVxuICAgICAgICAgICAgICAuYXR0cihcInRyYW5zZm9ybVwiLCBcInRyYW5zbGF0ZSgwLFwiICsgaGVpZ2h0ICsgXCIpXCIpXG4gICAgICAgICAgICAgIC5hdHRyKFwiY29sb3JcIiwgXCJncmV5XCIpXG4gICAgICAgICAgICAgIC5jYWxsKGQzLmF4aXNCb3R0b20oeCkpLlxuICAgICAgICAgICAgICAgc2VsZWN0QWxsKFwidGV4dFwiKVxuICAgICAgICAgICAgICAgLmF0dHIoXCJ5XCIsIDApXG4gICAgICAgICAgICAgICAuYXR0cihcInhcIiwgOSlcbiAgICAgICAgICAgICAgIC5hdHRyKFwiZHlcIiwgXCIuMzVlbVwiKVxuICAgICAgICAgICAgICAgLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJyb3RhdGUoNjApXCIpXG4gICAgICAgICAgICAgICAuc3R5bGUoXCJ0ZXh0LWFuY2hvclwiLCBcInN0YXJ0XCIpO1xuICAgICAgfVxuICAgICBcbiAgICAgICAgZy5hcHBlbmQoXCJnXCIpXG4gICAgICAgICAgICAuYXR0cihcImNvbG9yXCIsIFwiZ3JleVwiKVxuICAgICAgICAgICAgLmNhbGwoZDMuYXhpc0xlZnQoeSkpO1xuXG5cbiAgICAgICAgcmV0dXJue1xuICAgICAgICAgICAgIGcsIHgsIHksIGhlaWdodCwgd2lkdGhcbiAgICAgICAgfVxuXG4gICAgfSAgICBcblxuXG4gICAgcHJvdGVjdGVkIHBsb3RTY2FsZShnOmFueSx4OmFueSwgeTphbnksaGVpZ2h0OmFueSx3aWR0aDphbnkpIDogdm9pZCBcbiAgICB7XG4gICAgICAgIGlmKHRoaXMudlNjYWxlKXtcbiAgICAgICAgICAgIGcuYXBwZW5kKCdnJylcbiAgICAgICAgICAgICAgICAuYXR0cihcImNvbG9yXCIsIFwibGlnaHRncmV5XCIpXG4gICAgICAgICAgICAgICAgLmF0dHIoJ3RyYW5zZm9ybScsICd0cmFuc2xhdGUoMCwnICsgaGVpZ2h0ICsgJyknKVxuICAgICAgICAgICAgICAgIC5jYWxsKGQzLmF4aXNCb3R0b20oeCkuXG4gICAgICAgICAgICAgICAgIHRpY2tTaXplKC10aGlzLndpZHRoKS50aWNrRm9ybWF0KCcnKVxuICAgICAgICAgICAgKTtcbiAgICAgICAgfVxuICAgICAgICBpZih0aGlzLmhTY2FsZSl7XG4gICAgICAgICAgICBnLmFwcGVuZCgnZycpXG4gICAgICAgICAgICAgICAgLmF0dHIoXCJjb2xvclwiLCBcImxpZ2h0Z3JleVwiKVxuICAgICAgICAgICAgICAgIC5jYWxsKGQzLmF4aXNMZWZ0KHkpXG4gICAgICAgICAgICAgICAgLiB0aWNrU2l6ZSgtd2lkdGgpLnRpY2tGb3JtYXQoJycpKTsgICAgIFxuICAgICAgICB9XG4gICAgfVxuXG4gXG4gICAgbGVnZW5kQ2xpY2sobm9kZTphbnkpe1xuIFxuICAgICAgICAvLyBjb25zdCBsZWdlbmROb2RlID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShub2RlKSk7XG4gICAgICAgIC8vIGRlbGV0ZSBsZWdlbmROb2RlLmNvbG9yO1xuICAgICAgICAvLyBsZWdlbmROb2RlLmRhdGEuZm9yRWFjaChlbGVtZW50ID0+IHtcbiAgICAgICAgLy8gICAgIGRlbGV0ZSBlbGVtZW50LmxlZ2VuZDtcbiAgICAgICAgLy8gfSk7XG5cbiAgICAgICAgbGV0IG9iaiA9IHt9O1xuICAgIG9ialtcImxhYmVsXCJdID0gbm9kZS5sYWJlbDtcbiAgICBsZXQgZGF0YSA9IFtdO1xuICAgIG5vZGUuZGF0YS5mb3JFYWNoKGVsZW1lbnQgPT4ge1xuICAgICAgbGV0IG9iamVjdCA9IHt9O1xuICAgICBcbiAgICAgIG9iamVjdFtlbGVtZW50LmxlZ2VuZF0gPSBlbGVtZW50LnZhbHVlO1xuICAgICAgb2JqZWN0W3RoaXMueGF4aXNuYW1lXSA9IGVsZW1lbnQubGFiZWw7XG4gICAgLy8gICBvYmplY3RbZWxlbWVudC5sYWJlbF0gPSBlbGVtZW50LnZhbHVlO1xuICAgICAgZGF0YS5wdXNoKG9iamVjdCk7XG4gICAgfSk7XG4gICAgb2JqW1wiZGF0YVwiXSA9IGRhdGE7XG4gICAgdGhpcy5vbkxlZ2VuZENsaWNrLmVtaXQob2JqKTtcbiAgICBcbiAgICAgICAgLy8gdGhpcy5vbkxlZ2VuZENsaWNrLmVtaXQobGVnZW5kTm9kZSk7XG4gICAgfVxufSIsImltcG9ydCB7IENvbXBvbmVudCwgVmlld0NoaWxkLCBFbGVtZW50UmVmLCBJbnB1dCB9IGZyb20gXCJAYW5ndWxhci9jb3JlXCI7XG5pbXBvcnQgKiBhcyBkMyBmcm9tICdkMyc7XG5pbXBvcnQgeyBBbWV4aW9EM0Jhc2VMaW5lQ29tcG9uZW50IH0gZnJvbSBcIi4vYmFzZWxpbmUuY29tcG9uZW50XCI7XG5pbXBvcnQgeyBBbWV4aW9EM0Jhc2VDaGFydENvbXBvbmVudCB9IGZyb20gXCIuLi9iYXNlL2Jhc2UuY29tcG9uZW50XCI7XG5pbXBvcnQgeyBQbG90Q2FydCB9IGZyb20gXCIuLi9iYXNlL2NoYXJ0LmNvbXBvbmVudFwiO1xuaW1wb3J0IHsgSHR0cENsaWVudCwgSHR0cENsaWVudE1vZHVsZSB9IGZyb20gJ0Bhbmd1bGFyL2NvbW1vbi9odHRwJztcbmltcG9ydCB7IENvbW1hbkRhdGFTZXJ2aWNlIH0gZnJvbSAnLi4vc2VydmljZXMvY29tbWFuLmRhdGEuc2VydmljZSc7XG5pbXBvcnQgeyBEZXZpY2VRdWVyeVNlcnZpY2UgfSBmcm9tIFwiLi4vc2VydmljZXMvZGV2aWNlLnF1ZXJ5LnNlcnZpY2VcIjtcblxuQENvbXBvbmVudCh7XG4gICAgc2VsZWN0b3I6ICdhbWV4aW8tZDMtY2hhcnQtbGluZScsXG4gICAgdGVtcGxhdGU6IGBcbjxkaXYgKm5nSWY9XCJkcmlsbGFibGVGbGFnXCIgI2RpdmlkICh3aW5kb3c6cmVzaXplKT1cInJlc2l6ZSgpXCI+IFxuPHRhYmxlIHN0eWxlPVwid2lkdGg6IDEwMCU7XCIgI2NoYXJ0SWQgID5cbiAgICAgICAgPHRyPjx0ZCBzdHlsZT1cImZvbnQtc2l6ZTogMThweDsgZm9udC13ZWlnaHQ6IGJvbGQ7IFwiPiB7e3RpdGxlfX0gPC90ZD48L3RyPlxuICAgICAgICA8dHI+XG4gICAgICAgICAgICA8dGQ+XG4gICAgICAgICAgICAgICAgPHN2ZyBbYXR0ci5oZWlnaHRdPVwiaGVpZ2h0XCIgW2F0dHIud2lkdGhdPVwic3Znd2lkdGhcIiBbYXR0ci5pZF09XCJjb21wb25lbnRJZFwiPlxuICAgICAgICAgICAgICAgIDwvc3ZnPiAgICAgICAgICAgIFxuICAgICAgICAgICAgPC90ZD5cbiAgICAgICAgPC90cj5cbiAgICAgICAgPHRyPlxuICAgICAgICAgICAgPHRkIHN0eWxlPVwiZGlzcGxheTogYmxvY2s7IHBhZGRpbmc6IDVweDtcIj5cbiAgICAgICAgICAgICAgICAgICAgPGFtZXhpby1kMy1sZWdlbmQgKm5nSWY9XCJsZWdlbmRcIiBbaG9yaXpvbnRhbF09XCJ0cnVlXCIgKG9uQ2xpY2spPVwibGVnZW5kQ2xpY2soJGV2ZW50KVwiIFxuICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgIFtkYXRhXT1cImxlZ2VuZHNcIiBzdHlsZT1cImhlaWdodDoxMDAlO1wiPlxuICAgICAgICAgICAgICAgICAgICA8L2FtZXhpby1kMy1sZWdlbmQ+XG4gICAgICAgICAgICA8L3RkPlxuICAgICAgICBcbiAgICAgICAgPC90cj5cbjwvdGFibGU+XG48L2Rpdj5cbiAgICBgXG59KVxuZXhwb3J0IGNsYXNzIEFtZXhpb0QzTGluZUNvbXBvbmVudCBleHRlbmRzIEFtZXhpb0QzQmFzZUxpbmVDb21wb25lbnQgaW1wbGVtZW50cyBQbG90Q2FydCB7XG5cbiAgICBAVmlld0NoaWxkKCdjaGFydElkJykgY2hhcnRJZDogRWxlbWVudFJlZjtcbiAgICBAVmlld0NoaWxkKCdkaXZpZCcpIGRpdmlkOiBFbGVtZW50UmVmO1xuICAgIEBWaWV3Q2hpbGQoJ2RyaWxsaWQnKSBkcmlsbGlkOmFueTtcbiAgICBASW5wdXQoJ2RhdGEtcmVhZGVyJykgZGF0YXJlYWRlcjogc3RyaW5nO1xuICAgIEBJbnB1dCgnbGV2ZWwnKSBsZXZlbDpudW1iZXI9MDtcbiAgICBASW5wdXQoJ2xhYmVsJykgbGFiZWxmbGFnOiBib29sZWFuID0gZmFsc2U7XG4gICAgQElucHV0KCdsYWJlbC1jb2xvcicpIGxhYmVsY29sb3I6IHN0cmluZyA9IFwiYmxhY2tcIjtcbiAgICBASW5wdXQoJ3RhcmdldCcpIHRhcmdldDpudW1iZXI7XG4gICAgQElucHV0KCdkcmlsbGFibGUtZGF0YScpIGRyaWxsYWJsZWRhdGFrZXk6YW55W109W11cbiAgICBkcmlsbGFibGVGbGFnOmJvb2xlYW4gPSB0cnVlO1xuICAgIHJlc2l6ZWZsYWc6Ym9vbGVhbj1mYWxzZTtcbiBcbiAgICBjb25zdHJ1Y3RvcihwdWJsaWMgZGV2aWNlUXVlcnlTZXJ2aWNlOiBEZXZpY2VRdWVyeVNlcnZpY2UscHVibGljIG15c2VydmljZTpDb21tYW5EYXRhU2VydmljZSkge1xuICAgICAgICAgIHN1cGVyKGRldmljZVF1ZXJ5U2VydmljZSk7XG4gICAgfVxuXG4gICAgbmdPbkluaXQoKSB7XG5cbiAgICAgICAgaWYgKHRoaXMubGV2ZWwgPD0gMSl7XG4gICAgICAgIGxldCByZXNwOiBhbnlcbiAgICAgICAgaWYgKHRoaXMuaHR0cG1ldGhvZCAmJiB0aGlzLmh0dHB1cmwpIHtcbiAgICAgICAgICAgIHRoaXMubXlzZXJ2aWNlLmZldGNoVXJsRGF0YSh0aGlzLmh0dHB1cmwsIHRoaXMuaHR0cG1ldGhvZCkuc3Vic2NyaWJlKChyZXNwb25zZSkgPT4ge1xuICAgICAgICAgICAgICAgIHJlc3AgPSByZXNwb25zZTtcbiAgICAgICAgICAgIH0sIChlcnJvcikgPT4ge1xuICAgICAgICAgICAgfSwgKCkgPT4ge1xuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdGEgPSB0aGlzLmdldFJlc3BvbnNlRGF0YShyZXNwKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wbG90RDNDaGFydCgpO1xuICAgICAgICAgICAgICAgIH0sIDApO1xuICAgICAgICAgICAgfSk7XG4gICAgICAgIH0gZWxzZVxuICAgICAgICAgICAgaWYgKHRoaXMuZGF0YSkge1xuICAgICAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICB0aGlzLmRhdGEgPSB0aGlzLmdldFJlc3BvbnNlRGF0YSh0aGlzLmRhdGEpO1xuICAgICAgICAgICAgICAgICAgICB0aGlzLnBsb3REM0NoYXJ0KCk7XG4gICAgICAgICAgICAgICAgfSwgMCk7XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gICAgICBcbiAgICB9XG5cblxuICAgIGZldGNoRGF0YShkYXRhOiBhbnkpIHtcbiAgIFxuICAgICAgICBsZXQgcmVxdWVzdEpzb247XG4gICAgICAgIGxldCBrZXk9dGhpcy5kcmlsbGFibGVkYXRha2V5O1xuICAgICAgICBsZXQgcmVzcDogYW55O1xuICAgICAgICBpZih0aGlzLmRyaWxsYWJsZWRhdGFrZXkubGVuZ3RoKVxuICAgICAgICB7XG4gICAgICAgICAgICAgbGV0IGRyaWxsYWJsZWRhdGE9IHRoaXMuZ2V0TXVsdGlwbGVEcmlsbGJsZUtleURhdGEoZGF0YSxrZXkpO1xuICAgICAgICAgICAgIHJlcXVlc3RKc29uPWRyaWxsYWJsZWRhdGE7XG4gICAgICAgIH1cbiAgICAgICAgZWxzZXtcbiAgICAgICAgICAgICAgICAgcmVxdWVzdEpzb249ZGF0YTtcbiAgICAgICAgICAgICB9XG4gICAgICBcbiAgIGlmICh0aGlzLmh0dHBtZXRob2QgJiYgdGhpcy5odHRwdXJsKSB7XG4gICAgIHRoaXMubXlzZXJ2aWNlLnBvc3RmZXRjaERhdGEodGhpcy5odHRwdXJsLHRoaXMuaHR0cG1ldGhvZCwgcmVxdWVzdEpzb24pLnN1YnNjcmliZSgocmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgICAgICByZXNwID0gcmVzcG9uc2U7XG4gICAgICAgICAgICB9LCAoZXJyb3IpID0+IHtcbiAgICAgICAgICAgIH0sICgpID0+IHtcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kYXRhID0gdGhpcy5nZXRSZXNwb25zZURhdGEocmVzcCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZHJhd0NoYXJ0KCk7ICAgICAgICAgICAgIFxuICAgICAgICAgICAgICAgIH0sIDApO1xuICAgICAgICAgICB9KTsgICAgXG4gICAgICAgIH1cbiAgICB9XG4gICAgXG4gICAgZHJhd0NoYXJ0KCkge1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICB0aGlzLnBsb3REM0NoYXJ0KCk7XG4gICAgICB9LCAwKTtcbiAgICB9IFxuXG4gICAgcmVzaXplKCkge1xuXG4gICAgdGhpcy5zdmd3aWR0aCA9IDA7XG4gICAgdGhpcy5zdmcuc2VsZWN0QWxsKFwiKlwiKS5yZW1vdmUoKTtcblxuICAgIHRoaXMucmVzaXplZmxhZyA9IHRydWU7XG4gICAgdGhpcy5zdmd3aWR0aCA9IHRoaXMuZGl2aWQubmF0aXZlRWxlbWVudC5vZmZzZXRXaWR0aDtcbiAgICB0aGlzLnBsb3REM0NoYXJ0KCk7XG4gIFxuXG4gICAgfVxuXG4gICAgZ2V0UmVzcG9uc2VEYXRhKGh0dHBSZXNwb25zZTogYW55KSB7XG4gICAgICAgIGxldCByZXNwb25zZWRhdGEgPSBodHRwUmVzcG9uc2U7XG4gICAgICAgIGlmICh0aGlzLmRhdGFyZWFkZXIgIT0gbnVsbCkge1xuICAgICAgICAgICAgY29uc3QgZHIgPSB0aGlzLmRhdGFyZWFkZXIuc3BsaXQoJy4nKTtcbiAgICAgICAgICAgIGZvciAoY29uc3QgaXIgb2YgZHIpIHtcbiAgICAgICAgICAgICAgICByZXNwb25zZWRhdGEgPSByZXNwb25zZWRhdGFbaXJdO1xuICAgICAgICAgICAgfVxuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgICAgcmVzcG9uc2VkYXRhID0gaHR0cFJlc3BvbnNlO1xuICAgICAgICB9XG4gICAgICAgIHJldHVybiByZXNwb25zZWRhdGE7XG4gICAgfVxuXG4gIHBsb3REM0NoYXJ0KCk6IHZvaWQge1xuXG4gICAgXG4gICAgICAgaWYodGhpcy5yZXNpemVmbGFnPT1mYWxzZSlcbiAgICAgICB7XG4gIGlmKHRoaXMuY2hhcnRJZCl7XG4gICAgICAgICAgICB0aGlzLnN2Z3dpZHRoID0gdGhpcy5jaGFydElkLm5hdGl2ZUVsZW1lbnQub2Zmc2V0V2lkdGg7XG4gICAgfSBlbHNle1xuICAgICAgICAgICAgICAgdGhpcy5zdmd3aWR0aCA9IHRoaXMuc3Znd2lkdGg7XG4gICAgICAgIH1cbiAgICB9XG4gICAgICAgIGNvbnN0IHRvb2x0aXAgPSB0aGlzLnRvb2xUaXAoZDMpO1xuXG4gICAgICAgIGNvbnN0IGxpbmVjaGFydCA9IHRoaXMuaW5pdENoYXJ0KCk7XG5cbiAgICAgICAgdGhpcy5wbG90U2NhbGUobGluZWNoYXJ0LmcsIGxpbmVjaGFydC54LCBsaW5lY2hhcnQueSwgbGluZWNoYXJ0LmhlaWdodCwgbGluZWNoYXJ0LndpZHRoKTtcblxuICAgICAgICB0aGlzLnBsb3RMaW5lKGxpbmVjaGFydC5nLCBsaW5lY2hhcnQueCwgbGluZWNoYXJ0LnksIGxpbmVjaGFydC5oZWlnaHQsXG4gICAgICAgICAgICBsaW5lY2hhcnQud2lkdGgsIFtdLCB0b29sdGlwLCAoMSkpO1xuXG4gICAgICAgIGZvciAobGV0IGluZGV4ID0gMDsgaW5kZXggPCB0aGlzLm11bHRpc2VyaWVzZGF0YS5sZW5ndGg7IGluZGV4KyspIHtcbiAgICAgICAgICAgIHRoaXMucGxvdExpbmUobGluZWNoYXJ0LmcsIGxpbmVjaGFydC54LCBsaW5lY2hhcnQueSwgbGluZWNoYXJ0LmhlaWdodCxcbiAgICAgICAgICAgICAgICBsaW5lY2hhcnQud2lkdGgsIHRoaXMubXVsdGlzZXJpZXNkYXRhW2luZGV4XSwgdG9vbHRpcCwgKGluZGV4ICsgMSkpO1xuICAgICAgICB9XG5cblxuICAgIH1cblxuICAgIHByaXZhdGUgcGxvdExpbmUoZzogYW55LCB4OiBhbnksIHk6IGFueSwgaGVpZ2h0OiBhbnksIHdpZHRoOiBhbnksIGRhdGE6IGFueSwgdG9vbHRpcDogYW55LCBpOiBudW1iZXIpOiB2b2lkIHtcblxuICAgICAgICBjb25zdCBsaW5lID0gZDMubGluZSgpXG4gICAgICAgICAgICAueChmdW5jdGlvbiAoZCkgeyByZXR1cm4geChkLmxhYmVsKTsgfSlcbiAgICAgICAgICAgIC55KGZ1bmN0aW9uIChkKSB7IHJldHVybiB5KGQudmFsdWUpOyB9KTtcblxuICAgICAgICBnLmFwcGVuZChcInBhdGhcIilcbiAgICAgICAgICAgIC5kYXR1bShkYXRhKVxuICAgICAgICAgICAgLmF0dHIoXCJmaWxsXCIsIFwibm9uZVwiKVxuICAgICAgICAgICAgLmF0dHIoXCJzdHJva2VcIiwgdGhpcy5wcmVkZWZpbmVkY29sb3JzW2ldKVxuICAgICAgICAgICAgLmF0dHIoXCJzdHJva2Utd2lkdGhcIiwgMS41KVxuICAgICAgICAgICAgLmF0dHIoXCJkXCIsIGxpbmUpO1xuXG4gICAgICAgIGcuc2VsZWN0QWxsKCdkb3QnKVxuICAgICAgICAgICAgLmRhdGEoZGF0YSlcbiAgICAgICAgICAgIC5lbnRlcigpXG4gICAgICAgICAgICAuYXBwZW5kKCdjaXJjbGUnKVxuICAgICAgICAgICAgLmF0dHIoXCJjeFwiLCAoZCkgPT4geyByZXR1cm4geChkLmxhYmVsKTsgfSlcbiAgICAgICAgICAgIC5hdHRyKFwiY3lcIiwgKGQpID0+IHsgcmV0dXJuIHkoZC52YWx1ZSk7IH0pXG4gICAgICAgICAgICAuYXR0cigncicsIDIpXG4gICAgICAgICAgICAuYXR0cihcImN1cnNvclwiLCBcInBvaW50ZXJcIilcbiAgICAgICAgICAgIC5vbihcIm1vdXNlb3ZlclwiLCAoZCkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiB0b29sdGlwLnN0eWxlKFwidmlzaWJpbGl0eVwiLCBcInZpc2libGVcIik7XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLm9uKFwibW91c2Vtb3ZlXCIsIChkKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRvb2x0aXAuaHRtbChcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5jYWxsVG9vbHRpcChkKVxuICAgICAgICAgICAgICAgICAgICAvLyAgdGhpcy50b29sVGlwRm9yTGluZShkKVxuXG4gICAgICAgICAgICAgICAgICAgIC8vICB0aGlzLnRvb2xUaXBXaXRoTGVnZW5kYW5kQXhpcyhkLmxlZ2VuZCxkLmxhYmVsLGQudmFsdWUpXG5cbiAgICAgICAgICAgICAgICApXG4gICAgICAgICAgICAgICAgICAgIC5zdHlsZShcInRvcFwiLCAoZDMuZXZlbnQucGFnZVkgLSAxMCkgKyBcInB4XCIpXG4gICAgICAgICAgICAgICAgICAgIC5zdHlsZShcImxlZnRcIiwgKGQzLmV2ZW50LnBhZ2VYICsgMTApICsgXCJweFwiKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAub24oXCJtb3VzZW91dFwiLCAoZCkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiB0b29sdGlwLnN0eWxlKFwidmlzaWJpbGl0eVwiLCBcImhpZGRlblwiKTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAub24oXCJjbGlja1wiLCAoZCkgPT4ge1xuICAgICAgICAgICAgICAgICB0aGlzLmxpbmVDaGFydENsaWNrKGQpO1xuICAgICAgICAgICAgICAgICB0aGlzLmZvcmRyaWxsYWJsZUNsaWNrKHRoaXMsZCxldmVudCk7XG4gICAgICAgICAgICAgICAgIHJldHVybiB0b29sdGlwLnN0eWxlKFwidmlzaWJpbGl0eVwiLCBcImhpZGRlblwiKTtcbiAgICAgICAgICAgIH0pO1xuXG4gICAgICAvL2xldHMgcGxvdCBsYWJlbHMgaGVyZVxuICAgICAgaWYgKHRoaXMubGFiZWxmbGFnKSB7XG4gICAgICAgIGcuc2VsZWN0QWxsKCdsYWJlbCcpXG4gICAgICAgICAgLmRhdGEoZGF0YSlcbiAgICAgICAgICAuZW50ZXIoKVxuICAgICAgICAgIC5hcHBlbmQoJ3RleHQnKVxuICAgICAgICAgIC5zdHlsZShcImZvbnQtd2VpZ2h0XCIsIFwiYm9sZFwiKVxuICAgICAgICAgIC5hdHRyKFwidGV4dC1hbmNob3JcIiwgXCJtaWRkbGVcIilcbiAgICAgICAgICAuYXR0cihcImZpbGxcIiwgKGQpID0+IHtcbiAgICAgICAgICAgIGlmICh0aGlzLmxhYmVsY29sb3IubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICByZXR1cm4gdGhpcy5sYWJlbGNvbG9yO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcmV0dXJuIFwiYmxhY2tcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KVxuICAgICAgICAgIC5hdHRyKFwieFwiLCBmdW5jdGlvbiAoZCwgaSkge1xuICAgICAgICAgICAgcmV0dXJuIHgoZC5sYWJlbCk7XG4gICAgICAgICAgfSlcbiAgICAgICAgICAuYXR0cihcInlcIiwgZnVuY3Rpb24gKGQsIGkpIHtcbiAgICAgICAgICAgIHJldHVybiB5KGQudmFsdWUpIC0gMTA7XG4gICAgICAgICAgfSlcbiAgICAgICAgICAudGV4dChmdW5jdGlvbiAoZCkge1xuICAgICAgICAgICAgcmV0dXJuIGQudmFsdWU7XG4gICAgICAgICAgfSlcbiAgICAgIH1cblxuICAgIH1cblxubGluZUNoYXJ0Q2xpY2soZDogYW55KXtcbiAgICBsZXQgb2JqID0ge307XG4gICAgb2JqW2QubGVnZW5kXSA9IGQudmFsdWU7XG4gICAgb2JqW3RoaXMueGF4aXNuYW1lXSA9IGQubGFiZWw7XG4gICAgdGhpcy5jaGFydENsaWNrKG9iaik7XG59XG5cbiAgICBjYWxsVG9vbHRpcCh0b29sdGlwZGF0YTogYW55KSB7XG4gICAgICAgIGxldCBvYmogPSB7fTtcbiAgICAgICAgb2JqW3Rvb2x0aXBkYXRhLmxlZ2VuZF0gPSB0b29sdGlwZGF0YS52YWx1ZTtcbiAgICAgICAgb2JqW3RoaXMueGF4aXNuYW1lXSA9IHRvb2x0aXBkYXRhLmxhYmVsO1xuICAgICAgICByZXR1cm4gdGhpcy50b29sVGlwRm9yQmFyKG9iaik7XG4gICAgfVxufSIsImltcG9ydCB7IENvbXBvbmVudCwgT25Jbml0LCBJbnB1dCwgT3V0cHV0LCBWaWV3Q2hpbGQsIEVsZW1lbnRSZWYsIEV2ZW50RW1pdHRlciwgQ2hhbmdlRGV0ZWN0b3JSZWYgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCAqIGFzIGQzIGZyb20gJ2QzJztcbmltcG9ydCB7IEFtZXhpb0QzQmFzZUNoYXJ0Q29tcG9uZW50IH0gZnJvbSAnLi4vYmFzZS9iYXNlLmNvbXBvbmVudCc7XG5pbXBvcnQgeyBDb21tYW5EYXRhU2VydmljZSB9IGZyb20gJy4uL3NlcnZpY2VzL2NvbW1hbi5kYXRhLnNlcnZpY2UnO1xuaW1wb3J0e0RldmljZVF1ZXJ5U2VydmljZX0gZnJvbSAnLi4vc2VydmljZXMvZGV2aWNlLnF1ZXJ5LnNlcnZpY2UnO1xuXG5AQ29tcG9uZW50KHtcbiAgc2VsZWN0b3I6ICdhbWV4aW8tZDMtY2hhcnQtYmFyc3RhY2snLFxuICB0ZW1wbGF0ZTogYDxkaXYgICAqbmdJZj1cImRyaWxsYWJsZUZsYWdcIiAjZGl2aWQgKHdpbmRvdzpyZXNpemUpPVwicmVzaXplKClcIj5cbjx0YWJsZSBzdHlsZT1cIndpZHRoOiAxMDAlO1wiICNjaGFydElkICAod2luZG93OnJlc2l6ZSk9XCJyZXNpemUoKVwiPlxuICA8dHI+PHRkIHN0eWxlPVwiZm9udC1zaXplOiAxOHB4OyBmb250LXdlaWdodDogYm9sZDsgXCI+IHt7dGl0bGV9fSA8L3RkPjwvdHI+XG4gIDx0cj5cbiAgICAgIDx0ZD5cbiAgICAgICAgICA8c3ZnIFthdHRyLmhlaWdodF09XCJzdmdoZWlnaHRcIiBbYXR0ci53aWR0aF09XCJzdmd3aWR0aFwiIFthdHRyLmlkXT1cImNvbXBvbmVudElkXCI+XG4gICAgICAgICAgPC9zdmc+ICAgICAgICAgICAgXG4gICAgICA8L3RkPlxuICA8L3RyPlxuICA8dHI+XG4gICAgICA8dGQgc3R5bGU9XCJkaXNwbGF5OiBibG9jazsgcGFkZGluZzogNXB4O1wiPlxuICAgICAgICAgICAgICA8YW1leGlvLWQzLWxlZ2VuZCAqbmdJZj1cImxlZ2VuZFwiIFtob3Jpem9udGFsXT1cInRydWVcIiAob25DbGljayk9XCJsZWdlbmRDbGljaygkZXZlbnQpXCIgXG4gICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgW2RhdGFdPVwibGVnZW5kc1wiIHN0eWxlPVwiaGVpZ2h0OjEwMCU7XCI+XG4gICAgICAgICAgICAgIDwvYW1leGlvLWQzLWxlZ2VuZD5cbiAgICAgIDwvdGQ+XG4gIFxuICA8L3RyPlxuPC90YWJsZT5cbjwvZGl2PmAsXG4gIHN0eWxlczogW2BgXVxufSlcbmV4cG9ydCBjbGFzcyBCYXJzdGFja0NvbXBvbmVudCBleHRlbmRzIEFtZXhpb0QzQmFzZUNoYXJ0Q29tcG9uZW50IGltcGxlbWVudHMgT25Jbml0IHtcbiAgbGVnZW5kQXJyYXk6IGFueVtdO1xuICBtYXhZVmFsdWU6IG51bWJlciA9IDA7XG4gIGtleUFycmF5OiBhbnlbXTtcbiAgcHJlZGVmaW5lZGNvbG9yczogYW55W107XG4gIGxlZ2VuZHM6IGFueVtdO1xuICBjaGFydHR5cGU6IHN0cmluZztcbiAgZGF0YTogYW55W107XG4gIGRhdGFyZWFkZXJkYXRhOiBhbnlbXTtcbiAgeGF4aXM6IGFueTtcbiAgQElucHV0KCdkYXRhJykgZGF0YTE6IGFueVxuICBASW5wdXQoKSBiYXJ3aWR0aDogbnVtYmVyID0gMDtcbiAgQElucHV0KCdsYWJlbCcpIGxhYmVsZmxhZzogYm9vbGVhbiA9IGZhbHNlO1xuICBASW5wdXQoKSB0aXRsZTogU3RyaW5nID0gXCJcIjtcbiAgQElucHV0KCkgbGVnZW5kOiBib29sZWFuID0gdHJ1ZTtcbiAgQElucHV0KCdsYWJlbC1jb2xvcicpIGxhYmVsY29sb3I6IHN0cmluZyA9IFwiYmxhY2tcIjtcbiAgQElucHV0KCkgY29sb3I6IHN0cmluZ1tdID0gW107XG4gIEBJbnB1dCgnd2lkdGgnKSBzdmd3aWR0aDogbnVtYmVyPTMwMDtcbiAgQElucHV0KCdkYXRhLXJlYWRlcicpIGRhdGFyZWFkZXI6IGFueTtcbiAgQElucHV0KCdsZXZlbCcpIGxldmVsOiBudW1iZXIgPSAwO1xuICBASW5wdXQoJ3RhcmdldCcpIHRhcmdldDogbnVtYmVyO1xuICBASW5wdXQoJ2RyaWxsYWJsZS1kYXRhJykgZHJpbGxhYmxlZGF0YWtleTogYW55W10gPSBbXVxuICBASW5wdXQoJ2hvcml6b250YWwtc2NhbGUnKSBoU2NhbGU6IGJvb2xlYW4gPSB0cnVlO1xuICBkcmlsbGFibGVGbGFnOiBib29sZWFuID0gdHJ1ZTtcbiAgcmVzaXplZmxhZzogYm9vbGVhbiA9IGZhbHNlO1xuICBASW5wdXQoJ2hlaWdodCcpIHN2Z2hlaWdodDogbnVtYmVyID0gMzAwO1xuICBAVmlld0NoaWxkKCdjaGFydElkJykgY2hhcnRJZDogRWxlbWVudFJlZjtcbiAgQFZpZXdDaGlsZCgnZGl2aWQnKSBkaXZpZDogRWxlbWVudFJlZjtcbiAgQFZpZXdDaGlsZCgnZHJpbGxpZCcpIGRyaWxsaWQ6IGFueTtcbiAgQE91dHB1dCgpIG9uTGVnZW5kQ2xpY2s6IGFueSA9IG5ldyBFdmVudEVtaXR0ZXI8YW55PigpO1xuICBodHRwcmVzcG9uc2U6IGFueTtcbiAgc3ZnOiBhbnk7XG4gIG9mZnNldGhlaWdodDphbnk7XG4gIGNvbnN0cnVjdG9yKHByaXZhdGUgbXlzZXJ2aWNlOiBDb21tYW5EYXRhU2VydmljZSxwcml2YXRlIGRldmljZTpEZXZpY2VRdWVyeVNlcnZpY2UpIHtcbiAgICBzdXBlcignYmFyc3RhY2snKTtcbiAgfVxuXG4gIG5nT25Jbml0KCkge1xuXG4gICAgaWYgKHRoaXMubGV2ZWwgPD0gMSkge1xuICAgICAgbGV0IHJlcztcbiAgICAgIGlmICh0aGlzLmh0dHBtZXRob2QgJiYgdGhpcy5odHRwdXJsKSB7XG4gICAgICAgIHRoaXMubXlzZXJ2aWNlLmZldGNoVXJsRGF0YSh0aGlzLmh0dHB1cmwsIHRoaXMuaHR0cG1ldGhvZCkuc3Vic2NyaWJlKChyZXNwb25zZSkgPT4ge1xuICAgICAgICAgIC8vdGhpcy5kYXRhID0gcmVzcG9uc2U7XG4gICAgICAgICAgdGhpcy5odHRwcmVzcG9uc2UgPSByZXNwb25zZTtcbiAgICAgICAgICB0aGlzLmRhdGEgPSB0aGlzLmdldFJlc3BvbnNlRGF0YShyZXNwb25zZSk7XG4gICAgICAgIH0sIChlcnJvcikgPT4ge1xuICAgICAgICB9LCAoKSA9PiB7XG4gICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLnRyYW5zZm9ybURhdGEodGhpcy5kYXRhKTtcbiAgICAgICAgICAgIHRoaXMucGxvdENoYXJ0KCk7XG4gICAgICAgICAgfSwgMCk7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIGlmICh0aGlzLmRhdGExKSB7XG5cbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgdGhpcy50cmFuc2Zvcm1EYXRhKHRoaXMuZGF0YTEpO1xuICAgICAgICAgIHRoaXMucGxvdENoYXJ0KCk7XG4gICAgICAgIH0sIDApO1xuICAgICAgfVxuICAgIH1cbiAgfVxuXG5cbiAgZmV0Y2hEYXRhKGRhdGE6IGFueSkge1xuXG4gICAgbGV0IHJlcXVlc3RKc29uO1xuICAgIGxldCBrZXkgPSB0aGlzLmRyaWxsYWJsZWRhdGFrZXk7XG4gICAgbGV0IHJlc3A6IGFueTtcbiAgICBpZiAodGhpcy5kcmlsbGFibGVkYXRha2V5Lmxlbmd0aCkge1xuICAgICAgbGV0IGRyaWxsYWJsZWRhdGEgPSB0aGlzLmdldE11bHRpcGxlRHJpbGxibGVLZXlEYXRhKGRhdGEsIGtleSk7XG4gICAgICByZXF1ZXN0SnNvbiA9IGRyaWxsYWJsZWRhdGE7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgcmVxdWVzdEpzb24gPSBkYXRhO1xuICAgIH1cblxuXG4gICAgaWYgKHRoaXMuaHR0cG1ldGhvZCAmJiB0aGlzLmh0dHB1cmwpIHtcbiAgICAgIHRoaXMubXlzZXJ2aWNlLnBvc3RmZXRjaERhdGEodGhpcy5odHRwdXJsLCB0aGlzLmh0dHBtZXRob2QsIHJlcXVlc3RKc29uKS5zdWJzY3JpYmUoKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgIHJlc3AgPSByZXNwb25zZTtcbiAgICAgICAgdGhpcy5odHRwcmVzcG9uc2UgPSByZXNwb25zZTtcbiAgICAgIH0sIChlcnJvcikgPT4ge1xuICAgICAgfSwgKCkgPT4ge1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAvL3RoaXMuZGF0YSA9IHRoaXMuZ2V0UmVzcG9uc2VEYXRhKHJlc3ApO1xuICAgICAgICAgIHRoaXMuZHJhd0NoYXJ0KCk7XG4gICAgICAgIH0sIDApO1xuICAgICAgfSk7XG4gICAgfVxuICB9XG5cbiAgZHJhd0NoYXJ0KCkge1xuICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgdGhpcy5kYXRhID0gdGhpcy5nZXRSZXNwb25zZURhdGEodGhpcy5odHRwcmVzcG9uc2UpO1xuICAgICAgdGhpcy50cmFuc2Zvcm1EYXRhKHRoaXMuZGF0YSk7XG4gICAgICB0aGlzLnBsb3RDaGFydCgpO1xuICAgIH0sIDApO1xuXG4gIH1cblxuXG4gIHRyYW5zZm9ybURhdGEoZGF0YTE6IGFueSkge1xuXG4gICAgdGhpcy5rZXlBcnJheSA9IFtdO1xuICAgIHRoaXMubGVnZW5kQXJyYXkgPSBbXTtcblxuICAgIGRhdGExLmZvckVhY2goKGVsZW1lbnQsIGkpID0+IHtcbiAgICAgIGlmIChpID09IDApIHtcbiAgICAgICAgZWxlbWVudC5mb3JFYWNoKChpbm5lcmVsZW1lbnQsIGluZGV4KSA9PiB7XG4gICAgICAgICAgaWYgKGluZGV4ID4gMCkge1xuICAgICAgICAgICAgdGhpcy5sZWdlbmRBcnJheVtpbm5lcmVsZW1lbnRdID0geyAnZGF0YSc6IFtdIH07XG4gICAgICAgICAgICB0aGlzLmtleUFycmF5LnB1c2goaW5uZXJlbGVtZW50KTtcbiAgICAgICAgICB9XG4gICAgICAgICAgZWxzZSBpZiAoaW5kZXggPT0gMCkge1xuICAgICAgICAgICAgdGhpcy54YXhpcyA9IGlubmVyZWxlbWVudDtcbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgbGV0IHRlbXBpbm5lcmFycmF5OiBhbnlbXTtcbiAgICB0ZW1waW5uZXJhcnJheSA9IFtdO1xuICAgIGRhdGExLmZvckVhY2goKGVsZW1lbnQsIGluZGV4KSA9PiB7XG4gICAgICBpZiAoaW5kZXggPiAwKSB7XG4gICAgICAgIGxldCBvYmo6IGFueSA9IHt9O1xuICAgICAgICBlbGVtZW50LmZvckVhY2goKGlubmVyZWxlbWVudCwgaW5uZXJpbmRleCkgPT4ge1xuICAgICAgICAgIGlmIChpbm5lcmluZGV4ID49IDApIHtcbiAgICAgICAgICAgIGNvbnN0IGtleSA9IHRoaXMua2V5QXJyYXlbaW5uZXJpbmRleCAtIDFdO1xuICAgICAgICAgICAgb2JqW2tleV0gPSBlbGVtZW50W2lubmVyaW5kZXhdO1xuICAgICAgICAgICAgY29uc3QgbGVnZW5kZGF0YSA9IHRoaXMubGVnZW5kQXJyYXlba2V5XTtcbiAgICAgICAgICAgIGlmIChsZWdlbmRkYXRhKSB7XG4gICAgICAgICAgICAgIGxlZ2VuZGRhdGEuZGF0YS5wdXNoKHsgJ3ZhbHVlJzogZWxlbWVudFtpbm5lcmluZGV4XSwgJ2xhYmVsJzogZWxlbWVudFswXSB9KTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9XG4gICAgICAgIH0pO1xuICAgICAgICB0ZW1waW5uZXJhcnJheS5wdXNoKG9iaik7XG4gICAgICB9XG5cbiAgICB9KTtcbiAgICB0aGlzLmRhdGEgPSBbXTtcbiAgICB0ZW1waW5uZXJhcnJheS5mb3JFYWNoKGVsZW1lbnQgPT4ge1xuICAgICAgdGhpcy5kYXRhLnB1c2goZWxlbWVudCk7XG4gICAgfSk7XG5sZXQgbWF4WTogYW55ID0gMDtcblxubGV0IHlheGlzbWF4QXJyYXkgPSAgW107IFxuICAgLy9maW5kIG1heCBmb3IgeWF4aXNcbiAgICB0aGlzLmRhdGEuZm9yRWFjaCgoZWxlbWVudCkgPT4ge1xuICAgICBmb3IgKGxldCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMoZWxlbWVudCkgKXtcbiAgICAgXG4gICAgIHRoaXMua2V5QXJyYXkuZm9yRWFjaChrZXkxID0+IHtcbiAgICAgICBpZihrZXkgPT0ga2V5MSl7XG4gICAgICBtYXhZID0gbWF4WSArIHZhbHVlO1xuICAgICAgIH1cbiAgICAgfSk7Ly9rZXlhcnJheSBsb29wIGVuZHMgaGVyZVxuXG4gICAgIH0vL2ZvciBlbmRzIGhlcmVcbnlheGlzbWF4QXJyYXkucHVzaChtYXhZKTtcbm1heFkgPSAwO1xuICAgIH0pOy8vIGZvcmVhY2ggZW5kc1xubGV0IHRlbXBMYXJnZSA9IDAsIGk7XG5mb3IoaSA9IDA7IGkgPCB5YXhpc21heEFycmF5Lmxlbmd0aDsgaSsrKSB7XG5pZih5YXhpc21heEFycmF5W2ldID4gdGVtcExhcmdlKSB7XG4gIHRoaXMubWF4WVZhbHVlID0geWF4aXNtYXhBcnJheVtpXTtcbn0vL2lmIGVuZHNcbn0vLyBmb3IgZW5kc1xuXG4gICAgIHRoaXMubGVnZW5kcyA9IFtdXG4gICAgdGhpcy5rZXlBcnJheS5mb3JFYWNoKChlbGVtZW50LCBpbmRleCkgPT4ge1xuICAgICAgY29uc3QgbGVnZW5kZGF0YSA9IHRoaXMubGVnZW5kQXJyYXlbZWxlbWVudF07XG4gICAgICBpZiAodGhpcy5jb2xvci5sZW5ndGggPiAwKSB7XG4gICAgICAgIGxldCBvYmplY3QgPSB7ICdsYWJlbCc6IGVsZW1lbnQsICdjb2xvcic6IHRoaXMuY29sb3JbaW5kZXhdLCAnZGF0YSc6IGxlZ2VuZGRhdGEuZGF0YSB9O1xuICAgICAgICB0aGlzLmxlZ2VuZHMucHVzaChvYmplY3QpO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgbGV0IG9iamVjdCA9IHsgJ2xhYmVsJzogZWxlbWVudCwgJ2NvbG9yJzogdGhpcy5wcmVkZWZpbmVkY29sb3JzW2luZGV4XSwgJ2RhdGEnOiBsZWdlbmRkYXRhLmRhdGEgfTtcbiAgICAgICAgdGhpcy5sZWdlbmRzLnB1c2gob2JqZWN0KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIHBsb3RDaGFydCgpIHtcbiAgICBjb25zdCB0b29sdGlwID0gdGhpcy50b29sVGlwKGQzKTtcbiAgICBsZXQgbWFyZ2luID0geyB0b3A6IDIwLCByaWdodDogMzAsIGJvdHRvbTo5MCwgbGVmdDogNjAgfTtcbiAgICBsZXQgY29sb3JzID0gdGhpcy5wcmVkZWZpbmVkY29sb3JzO1xuICBcbiAgICBpZiAodGhpcy5kZXZpY2UuSXNEZXNrdG9wKCkpIHtcbiAgICAgIGlmICh0aGlzLmNoYXJ0SWQpIHtcbiAgICAgICAgdGhpcy5zdmd3aWR0aCA9IHRoaXMuY2hhcnRJZC5uYXRpdmVFbGVtZW50Lm9mZnNldFdpZHRoO1xuICAgICAgfSBlbHNlIHtcblxuICAgICAgICAgdGhpcy5zdmd3aWR0aCA9IHRoaXMuc3Znd2lkdGg7XG4gICAgICB9XG4gICAgfVxuICAgIC8vdGhpcy5zdmd3aWR0aCA9IHRoaXMuY2hhcnRJZC5uYXRpdmVFbGVtZW50Lm9mZnNldFdpZHRoO1xuICAgIGxldCBkYXRhO1xuICAgICBkYXRhID0gdGhpcy5kYXRhO1xuICAgIGxldCBrZXlzZXRhcnJheTogc3RyaW5nW10gPSBbXTtcbiAgICBpZiAodGhpcy5odHRwbWV0aG9kICYmIHRoaXMuaHR0cHVybCkge1xuICAgICAgZm9yIChsZXQgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKHRoaXMuZGF0YVswXSkpIHtcbiAgICAgICAga2V5c2V0YXJyYXkucHVzaChrZXkpO1xuICAgICAgfVxuICAgICAgdGhpcy5rZXlBcnJheSA9IGtleXNldGFycmF5O1xuICAgICAgdGhpcy5rZXlBcnJheS5zcGxpY2UoMCwgMSk7XG4gICAgfVxuXG5cbiAgICBsZXQgc2VyaWVzID0gZDMuc3RhY2soKS5rZXlzKHRoaXMua2V5QXJyYXkpXG4gICAgICAub2Zmc2V0KGQzLnN0YWNrT2Zmc2V0RGl2ZXJnaW5nKVxuICAgICAgKHRoaXMuZGF0YSk7XG4gICAgc2VyaWVzXG4gICAgdGhpcy5zdmcgPSBkMy5zZWxlY3QoXCIjXCIgKyB0aGlzLmNvbXBvbmVudElkKTtcblxuICAgIGxldCB3aWR0aCA9IHRoaXMuc3Znd2lkdGggLSBtYXJnaW4ubGVmdCAtIG1hcmdpbi5yaWdodDtcbiAgICBsZXQgaGVpZ2h0O1xuICAgLy8gaGVpZ2h0PXRoaXMuY2hhcnRJZC5uYXRpdmVFbGVtZW50Lm9mZnNldEhlaWdodC0yMDtcbiAgIFxuICAgIGlmKHRoaXMuZGV2aWNlLklzRGVza3RvcCgpKVxuICAgICAgICB7XG4gICAgICAgICAgICBcbiAgICAgICAgICAgICAgIHRoaXMub2Zmc2V0aGVpZ2h0ID0gdGhpcy5jaGFydElkLm5hdGl2ZUVsZW1lbnQub2Zmc2V0SGVpZ2h0O1xuICAgICAgICAgICAgICAgaGVpZ2h0ID0gIHRoaXMub2Zmc2V0aGVpZ2h0O1xuICAgICAgICB9XG4gICAgICAgIGVsc2V7XG4gICAgICAgICAgICAgICAgIGhlaWdodD10aGlzLmNoYXJ0SWQubmF0aXZlRWxlbWVudC5vZmZzZXRIZWlnaHQtMTA7XG4gICAgICAgICAgfVxuXG4gICAgbGV0IHggPSBkMy5zY2FsZUJhbmQoKVxuICAgICAgLmRvbWFpbihkYXRhLm1hcCgoZCkgPT4ge1xuICAgICAgICByZXR1cm4gZFtPYmplY3Qua2V5cyhkKVswXV07XG4gICAgICB9KSlcbiAgICAgIC5yYW5nZVJvdW5kKFttYXJnaW4ubGVmdCwgd2lkdGggLSBtYXJnaW4ucmlnaHRdKVxuICAgICAgLnBhZGRpbmcoMC4zNSk7XG5cbiAgICBsZXQgeSA9IGQzLnNjYWxlTGluZWFyKClcbiAgICAgIC5kb21haW4oW2QzLm1pbih0aGlzLnN0YWNrTWluKHNlcmllcykpLCBcbiAgICAgICAgdGhpcy5tYXhZVmFsdWVcbiAgICAgICAgLy8gZDMubWF4KHRoaXMuc3RhY2tNYXgoc2VyaWVzKSlcbiAgICBdKVxuICAgICAgLnJhbmdlUm91bmQoW2hlaWdodCAtIG1hcmdpbi5ib3R0b20sIG1hcmdpbi50b3BdKTtcblxuICAgXG4gICAgLy8gaWYgKHRoaXMuYmFyd2lkdGggPiAwKSB7XG4gICAgLy8gICB0aGlzLmJhcndpZHRoID0gdGhpcy5iYXJ3aWR0aDtcbiAgICAvLyB9XG4gICAgLy8gZWxzZSB7XG4gICAgLy8gICB0aGlzLmJhcndpZHRoID0geC5iYW5kd2lkdGgoKTtcbiAgICAvLyB9XG5cblxuICAgIGlmKHRoaXMuZGV2aWNlLklzRGVza3RvcCgpPT10cnVlKVxuICAgIHtcbiAgICAgIHRoaXMuc3ZnLmFwcGVuZChcImdcIilcbiAgICAgIC5hdHRyKFwidHJhbnNmb3JtXCIsIFwidHJhbnNsYXRlKDAsXCIgKyB5KDApICsgXCIpXCIpXG4gICAgICAuY2FsbChkMy5heGlzQm90dG9tKHgpKTtcbiAgICB9XG4gIGVsc2VcbiAgIHtcbiAgICB0aGlzLnN2Zy5hcHBlbmQoXCJnXCIpXG4gICAgLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJ0cmFuc2xhdGUoMCxcIiArIHkoMCkgKyBcIilcIilcbiAgICAuY2FsbChkMy5heGlzQm90dG9tKHgpKS5cbiAgICAgICAgICAgc2VsZWN0QWxsKFwidGV4dFwiKVxuICAgICAgICAgICAuYXR0cihcInlcIiwgMClcbiAgICAgICAgICAgLmF0dHIoXCJ4XCIsIDkpXG4gICAgICAgICAgIC5hdHRyKFwiZHlcIiwgXCIuMzVlbVwiKVxuICAgICAgICAgICAuYXR0cihcInRyYW5zZm9ybVwiLCBcInJvdGF0ZSg2MClcIilcbiAgICAgICAgICAgLnN0eWxlKFwidGV4dC1hbmNob3JcIiwgXCJzdGFydFwiKTtcblxuICB9XG4gICBcbiAgICB0aGlzLnN2Zy5hcHBlbmQoXCJnXCIpXG4gICAgICAuYXR0cihcInRyYW5zZm9ybVwiLCBcInRyYW5zbGF0ZShcIiArIG1hcmdpbi5sZWZ0ICsgXCIsMClcIilcbiAgICAgIC5jYWxsKGQzLmF4aXNMZWZ0KHkpKTtcblxuICAgIHRoaXMucGxvdExpbmUodGhpcy5zdmcsIHgsIHksIGhlaWdodCwgd2lkdGgsIG1hcmdpbi5sZWZ0KVxuXG4gICBsZXQgc3ZnUmVjdCA9ICAgdGhpcy5zdmcuYXBwZW5kKFwiZ1wiKVxuICAgICAgLnNlbGVjdEFsbChcImdcIilcbiAgICAgIC5kYXRhKHNlcmllcylcbiAgICAgIC5lbnRlcigpLmFwcGVuZChcImdcIilcbiAgICAgIC5hdHRyKFwiZmlsbFwiLCAoZCwgaW5kZXgpID0+IHtcbiAgICAgICAgaWYgKHRoaXMuY29sb3IubGVuZ3RoID4gMCkge1xuICAgICAgICAgIGlmICh0aGlzLmNvbG9yW2luZGV4XSkge1xuICAgICAgICAgICAgcmV0dXJuIHRoaXMuY29sb3JbaW5kZXhdO1xuICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJldHVybiBjb2xvcnNbaW5kZXhdO1xuICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gY29sb3JzW2luZGV4XTtcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICAgIC5zZWxlY3RBbGwoXCJyZWN0XCIpXG4gICAgICAuZGF0YSgoZCkgPT4ge1xuICAgICAgICAgcmV0dXJuIGQ7XG4gICAgICB9KVxuXG4gICAgICBzdmdSZWN0LmVudGVyKCkuYXBwZW5kKFwicmVjdFwiKVxuICAgICAgLmF0dHIoXCJ3aWR0aFwiLCB4LmJhbmR3aWR0aCgpKS5hdHRyKCdpZCcsIChkLCBpKSA9PiB7XG4gICAgICAgIHJldHVybiBkLmRhdGFbaV07XG4gICAgICB9KVxuICAgICAgLmF0dHIoXCJ4XCIsIChkKSA9PiB7XG4gICAgICAgIHJldHVybiB4KCtkLmRhdGFbT2JqZWN0LmtleXMoZC5kYXRhKVswXV0pO1xuICAgICAgfSlcbiAgICAgIC5hdHRyKFwieVwiLCAoZCwgaW5kZXgpID0+IHtcbiAgICAgICAgcmV0dXJuIHkoZFsxXSk7XG4gICAgICB9KVxuICAgICAgLmF0dHIoXCJjdXJzb3JcIiwgXCJwb2ludGVyXCIpXG4gICAgICAuYXR0cihcImhlaWdodFwiLCAoZCwgaW5kZXgpID0+IHtcbiAgICAgICAgcmV0dXJuIHkoZFswXSkgLSB5KGRbMV0pO1xuICAgICAgfSlcbiAgICAgIC5vbihcIm1vdXNlb3ZlclwiLCAoZCkgPT4ge1xuICAgICAgICByZXR1cm4gdG9vbHRpcC5zdHlsZShcInZpc2liaWxpdHlcIiwgXCJ2aXNpYmxlXCIpO1xuICAgICAgfSlcbiAgICAgIC5vbihcIm1vdXNlbW92ZVwiLCAoZDogYW55KSA9PiB7XG4gICAgICAgIHJldHVybiB0b29sdGlwLmh0bWwodGhpcy5zZXRLZXkoZCkpXG4gICAgICAgICAgLnN0eWxlKFwidG9wXCIsIChkMy5ldmVudC5wYWdlWSAtIDEwKSArIFwicHhcIilcbiAgICAgICAgICAuc3R5bGUoXCJsZWZ0XCIsIChkMy5ldmVudC5wYWdlWCArIDEwKSArIFwicHhcIik7XG4gICAgICB9KVxuICAgICAgLm9uKFwibW91c2VvdXRcIiwgKGQpID0+IHtcbiAgICAgICAgcmV0dXJuIHRvb2x0aXAuc3R5bGUoXCJ2aXNpYmlsaXR5XCIsIFwiaGlkZGVuXCIpO1xuICAgICAgfSlcbiAgICAgIC5vbihcImNsaWNrXCIsIChkKSA9PiB7XG4gICAgICAgIHRoaXMuc2V0QmFyQ2xpY2tUZXh0KGQpO1xuICAgICAgICB0aGlzLmZvcmRyaWxsYWJsZUNsaWNrKHRoaXMsIGQsIGV2ZW50KTtcbiAgICAgICAgcmV0dXJuIHRvb2x0aXAuc3R5bGUoXCJ2aXNpYmlsaXR5XCIsIFwiaGlkZGVuXCIpO1xuICAgICAgICAvLyB0aGlzLmNoYXJ0Q2xpY2soZCk7XG4gICAgICB9KTtcbi8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbmlmKHRoaXMubGFiZWxmbGFnKSB7XG5zdmdSZWN0LmVudGVyKClcbi5hcHBlbmQoXCJ0ZXh0XCIpXG4uc3R5bGUoXCJmb250LXdlaWdodFwiLFwiYm9sZFwiKVxuLnN0eWxlKFwiZm9udC1zaXplXCIsXCIxdndcIilcbi5hdHRyKFwidGV4dC1hbmNob3JcIiwgXCJtaWRkbGVcIilcbi5hdHRyKFwiZmlsbFwiLCAoZCk9PntcbiAgaWYodGhpcy5sYWJlbGNvbG9yLmxlbmd0aD4wKXtcbiAgICByZXR1cm4gdGhpcy5sYWJlbGNvbG9yO1xuICB9IGVsc2Uge1xuICAgIHJldHVybiBcImJsYWNrXCI7XG4gIH1cbn0pXG4gLmF0dHIoXCJ4XCIsIChkKSA9PiB7XG4gIHJldHVybiB4KCtkLmRhdGFbT2JqZWN0LmtleXMoZC5kYXRhKVswXV0pICsgeC5iYW5kd2lkdGgoKS8yO1xuICAvLyArICBtYXJnaW4ubGVmdDtcbn0pXG4uYXR0cihcInlcIiwgKGQsIGluZGV4KSA9PiB7XG4gIHJldHVybiB5KGRbMV0pICsgMjA7XG59KVxuLnRleHQoZnVuY3Rpb24oZCl7XG4gICAgIHJldHVybiAgZFtPYmplY3Qua2V5cyhkKVsxXV0gLSBkW09iamVjdC5rZXlzKGQpWzBdXTtcbn0pXG59XG4gXG4gIH1cblxuICBzdGFja01pbihzZXJpZSkge1xuICAgIHJldHVybiBkMy5taW4oc2VyaWUsIGZ1bmN0aW9uIChkKSB7IHJldHVybiBkWzBdOyB9KTtcbiAgfVxuXG4gIC8vIHN0YWNrTWF4KHNlcmllKSB7XG4gIC8vICAgcmV0dXJuIGQzLm1heChzZXJpZSwgZnVuY3Rpb24gKGQpIHsgcmV0dXJuIGRbMV07IH0pO1xuICAvLyB9XG5cbiAgcmVzaXplKCkge1xuXG4gICAgdGhpcy5zdmd3aWR0aCA9IDA7XG4gICAgdGhpcy5zdmcuc2VsZWN0QWxsKFwiKlwiKS5yZW1vdmUoKTtcblxuICAgIHRoaXMucmVzaXplZmxhZyA9IHRydWU7XG4gICAgdGhpcy5zdmd3aWR0aCA9IHRoaXMuZGl2aWQubmF0aXZlRWxlbWVudC5vZmZzZXRXaWR0aDtcbiAgICB0aGlzLnBsb3RDaGFydCgpO1xuXG4gIH1cblxuXG4gIHBsb3RMaW5lKHN2ZywgeCwgeSwgaGVpZ2h0LCB3aWR0aCwgbSkge1xuICAgIGlmICh0aGlzLmhTY2FsZSkge1xuICAgICAgc3ZnLmFwcGVuZCgnZycpXG4gICAgICAgIC5hdHRyKFwidHJhbnNmb3JtXCIsIFwidHJhbnNsYXRlKFwiICsgbSArIFwiLDApXCIpXG4gICAgICAgIC5hdHRyKFwiY29sb3JcIiwgXCJsaWdodGdyZXlcIilcbiAgICAgICAgLmNhbGwoZDMuYXhpc0xlZnQoeSlcbiAgICAgICAgICAudGlja1NpemUoLXdpZHRoKS50aWNrRm9ybWF0KCcnKSk7XG4gICAgfVxuICB9XG5cblxuICBsZWdlbmRDbGljayhldmVudDogYW55KSB7XG4gICAgbGV0IG9iaiA9IHt9O1xuICAgIG9ialtcImxhYmVsXCJdID0gZXZlbnQubGFiZWw7XG4gICAgbGV0IGRhdGEgPSBbXTtcbiAgICBldmVudC5kYXRhLmZvckVhY2goZWxlbWVudCA9PiB7XG4gICAgICBsZXQgb2JqZWN0ID0ge307XG4gICAgICBvYmplY3RbZWxlbWVudC5sYWJlbF0gPSBlbGVtZW50LnZhbHVlO1xuICAgICAgZGF0YS5wdXNoKG9iamVjdCk7XG4gICAgfSk7XG4gICAgb2JqW1wiZGF0YVwiXSA9IGRhdGE7XG4gICAgdGhpcy5vbkxlZ2VuZENsaWNrLmVtaXQob2JqKTtcbiAgfVxuXG4gIHNldEtleShkOiBhbnkpIHtcbiAgICBsZXQgZGlmZiA9IGRbMF0gLSBkWzFdO1xuICAgIGlmIChkaWZmIDwgMCkge1xuICAgICAgZGlmZiA9IChkaWZmICogKC0xKSk7XG4gICAgfVxuICAgIGZvciAobGV0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhkLmRhdGEpKSB7XG4gICAgICBpZiAodmFsdWUgPT0gZGlmZikge1xuICAgICAgICAvLyAgbGV0IG9iamVjdCA9IHsgJ2xhYmVsJzoga2V5LCAndmFsdWUnOiB2YWx1ZSAsICdsZWdlbmQnOiBkLmRhdGFbT2JqZWN0LmtleXMoZC5kYXRhKVswXV19O1xuICAgICAgICBsZXQgb2JqZWN0ID0ge307XG4gICAgICAgIG9iamVjdFtrZXldID0gdmFsdWU7XG4gICAgICAgIG9iamVjdFt0aGlzLnhheGlzXSA9IGQuZGF0YVtPYmplY3Qua2V5cyhkLmRhdGEpWzBdXTtcblxuICAgICAgICByZXR1cm4gKHRoaXMudG9vbFRpcEZvckJhcihvYmplY3QpKTtcbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBzZXRCYXJDbGlja1RleHQoZDogYW55KSB7XG4gICAgbGV0IGRpZmYgPSBkWzBdIC0gZFsxXTtcbiAgICBpZiAoZGlmZiA8IDApIHtcbiAgICAgIGRpZmYgPSAoZGlmZiAqICgtMSkpO1xuICAgIH1cbiAgICAvLyBsZXQgb2JqZWN0ID0ge307XG4gICAgbGV0IG9iamVjdCA9IHt9O1xuICAgIGZvciAobGV0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhkLmRhdGEpKSB7XG4gICAgICBpZiAodmFsdWUgPT0gZGlmZikge1xuICAgICAgICBvYmplY3Rba2V5XSA9IHZhbHVlO1xuICAgICAgICBvYmplY3RbdGhpcy54YXhpc10gPSBkLmRhdGFbT2JqZWN0LmtleXMoZC5kYXRhKVswXV07XG4gICAgICB9XG4gICAgfVxuICAgIHRoaXMuY2hhcnRDbGljayhvYmplY3QpO1xuICB9XG5cbiAgZ2V0UmVzcG9uc2VEYXRhKGh0dHBSZXNwb25zZTogYW55KSB7XG4gICAgbGV0IHJlc3BvbnNlZGF0YSA9IGh0dHBSZXNwb25zZTtcbiAgICBpZiAodGhpcy5kYXRhcmVhZGVyICE9IG51bGwpIHtcbiAgICAgIGNvbnN0IGRyID0gdGhpcy5kYXRhcmVhZGVyLnNwbGl0KCcuJyk7XG4gICAgICBmb3IgKGNvbnN0IGlyIG9mIGRyKSB7XG4gICAgICAgIHJlc3BvbnNlZGF0YSA9IHJlc3BvbnNlZGF0YVtpcl07XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc3BvbnNlZGF0YSA9IGh0dHBSZXNwb25zZTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3BvbnNlZGF0YTtcbiAgfVxuXG5cbn1cbiIsIlxuaW1wb3J0IHsgQ29tcG9uZW50LCBPbkluaXQsSW5wdXQsIFZpZXdDaGlsZCwgRWxlbWVudFJlZiwgT3V0cHV0LCBFdmVudEVtaXR0ZXIgfSBmcm9tICdAYW5ndWxhci9jb3JlJztcbmltcG9ydCB7IEFtZXhpb0QzQmFzZUNoYXJ0Q29tcG9uZW50IH0gZnJvbSBcIi4uL2Jhc2UvYmFzZS5jb21wb25lbnRcIjtcbmltcG9ydCB7Q29tbWFuRGF0YVNlcnZpY2V9IGZyb20gJy4uL3NlcnZpY2VzL2NvbW1hbi5kYXRhLnNlcnZpY2UnXG5pbXBvcnR7RGV2aWNlUXVlcnlTZXJ2aWNlfSBmcm9tICcuLi9zZXJ2aWNlcy9kZXZpY2UucXVlcnkuc2VydmljZSc7XG5pbXBvcnQgKiBhcyBkMyBmcm9tICdkMyc7XG5AQ29tcG9uZW50KHtcbiAgc2VsZWN0b3I6ICdhbWV4aW8tZDMtY2hhcnQtbXVsdGlzZXJpZXMnLFxuICB0ZW1wbGF0ZTogYDxkaXYgICAqbmdJZj1cImRyaWxsYWJsZUZsYWdcIiAjZGl2aWQgKHdpbmRvdzpyZXNpemUpPVwicmVzaXplKCRldmVudClcIj4gXG48dGFibGUgc3R5bGU9XCJ3aWR0aDogMTAwJTtcIiAjY2hhcnRJZD5cbiAgICA8dHI+XG4gICAgICAgIDx0ZCBjb2xzcGFuPVwiMlwiIHN0eWxlPVwiZm9udC1zaXplOiAxOHB4OyBmb250LXdlaWdodDogYm9sZDsgXCI+IHt7dGl0bGV9fSA8L3RkPlxuICAgIDwvdHI+XG4gICAgPHRyPlxuICAgICAgICA8dGQ+XG4gICAgICAgICAgICA8c3ZnIFthdHRyLmhlaWdodF09XCJoZWlnaHRcIiBbYXR0ci53aWR0aF09XCJ3aWR0aFwiIFthdHRyLmlkXT1cImNvbXBvbmVudElkXCI+XG4gICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgPC90ZD5cbiAgICA8L3RyPlxuICAgIDx0cj5cbiAgICAgICAgPHRkIHN0eWxlPVwiZGlzcGxheTogYmxvY2s7IHBhZGRpbmc6IDVweDtcIj5cbiAgICAgICAgICAgIDxhbWV4aW8tZDMtbGVnZW5kICpuZ0lmPVwibGVnZW5kXCIgW2hvcml6b250YWxdPVwidHJ1ZVwiIChvbkNsaWNrKT1cImxlZ2VuZENsaWNrKCRldmVudClcIiBbZGF0YV09XCJsZWdlbmRzXCIgc3R5bGU9XCJoZWlnaHQ6MTAwJTtcIj48L2FtZXhpby1kMy1sZWdlbmQ+XG4gICAgICAgIDwvdGQ+XG4gICAgPC90cj5cbjwvdGFibGU+XG48L2Rpdj5cblxuXG5gLFxuICBzdHlsZXM6IFtgYF1cbn0pXG5leHBvcnQgY2xhc3MgR3JvdXBiYXJDb21wb25lbnQgZXh0ZW5kcyBBbWV4aW9EM0Jhc2VDaGFydENvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCB7XG4gIFxuICBAVmlld0NoaWxkKCdjaGFydElkJykgY2hhcnRJZDogRWxlbWVudFJlZjtcbiAgQFZpZXdDaGlsZCgnZGl2aWQnKSBkaXZpZDogRWxlbWVudFJlZjtcbiAgQFZpZXdDaGlsZCgnZHJpbGxpZCcpIGRyaWxsaWQ6IGFueTtcbiAgLy9ASW5wdXQoKSBkYXRhOiBhbnk7XG4gIEBJbnB1dCgnZGF0YScpIGRhdGE6IGFueVxuICBASW5wdXQoKSBsZWdlbmQ6IGJvb2xlYW4gPSB0cnVlO1xuICBASW5wdXQoKSBiYXJ3aWR0aDogbnVtYmVyID0gMDtcbiAgQElucHV0KCdsYWJlbC1jb2xvcicpIGxhYmVsY29sb3I6IHN0cmluZyA9IFwiYmxhY2tcIjtcbiAgQElucHV0KCdsYWJlbCcpIGxhYmVsZmxhZzogYm9vbGVhbiA9IGZhbHNlO1xuICBAT3V0cHV0KCkgb25MZWdlbmRDbGljazogYW55ID0gbmV3IEV2ZW50RW1pdHRlcjxhbnk+KCk7XG4gIEBJbnB1dCgnd2lkdGgnKSBzdmd3aWR0aDogbnVtYmVyID0gMzAwO1xuICBASW5wdXQoJ2hlaWdodCcpIHN2Z2hlaWdodDogbnVtYmVyID0gMzAwO1xuICBASW5wdXQoJ2RhdGEtcmVhZGVyJykgZGF0YXJlYWRlcjogc3RyaW5nO1xuICBASW5wdXQoJ2xldmVsJykgbGV2ZWw6IG51bWJlciA9IDA7XG4gIEBJbnB1dCgndGFyZ2V0JykgdGFyZ2V0OiBudW1iZXI7XG4gIEBJbnB1dCgnZHJpbGxhYmxlLWRhdGEnKSBkcmlsbGFibGVkYXRha2V5OiBhbnlbXSA9IFtdXG4gIEBJbnB1dCgnaG9yaXpvbnRhbC1zY2FsZScpIGhTY2FsZTogYm9vbGVhbiA9IHRydWU7XG5cbiAgZHJpbGxhYmxlRmxhZzogYm9vbGVhbiA9IHRydWU7XG4gIHJlc2l6ZWZsYWc6IGJvb2xlYW4gPSBmYWxzZTtcbiAgZ3JvdXBiYXJjaGFydEFycmF5OiBhbnlbXSA9IFtdO1xuICBsZWdlbmRBcnJheTogYW55O1xuICB4YXhpc0RhdGE6IGFueTtcbiAga2V5QXJyYXk6IGFueTtcbiAgbGVnZW5kczogYW55O1xuICB5ZWFyczogYW55O1xuICB1cmxsZWdlbmRBcnJheSA9IFtdO1xuICBzdmc6IGFueTtcbiAgY29uc3RydWN0b3IocHJpdmF0ZSBteXNlcnZpY2U6IENvbW1hbkRhdGFTZXJ2aWNlLHByaXZhdGUgZGV2aWNlOkRldmljZVF1ZXJ5U2VydmljZSkge1xuICAgIHN1cGVyKCdtdWx0aWJhcicpO1xuICAgIHRoaXMucHJlZGVmaW5lZGNvbG9ycyA9IFtcIiMzMzY2Y2NcIiwgXCIjZGMzOTEyXCIsIFwiI2ZmOTkwMFwiLCBcIiMxMDk2MThcIiwgXCIjOTkwMDk5XCIsIFwiIzAwOTljNlwiLCBcIiNkZDQ0NzdcIiwgXCIjNjZhYTAwXCIsIFwiI2I4MmUyZVwiLCBcIiMzMTYzOTVcIiwgXCIjOTk0NDk5XCIsIFwiIzIyYWE5OVwiLCBcIiNhYWFhMTFcIiwgXCIjNjYzM2NjXCIsIFwiI2U2NzMwMFwiLCBcIiM4YjA3MDdcIiwgXCIjNjUxMDY3XCIsIFwiIzMyOTI2MlwiLCBcIiM1NTc0YTZcIiwgXCIjM2IzZWFjXCJdO1xuICB9XG5cbiAgbmdPbkluaXQoKSB7XG4gICAgaWYgKHRoaXMubGV2ZWwgPD0gMSkge1xuICAgICAgbGV0IHJlczogYW55O1xuICAgICAgaWYgKHRoaXMuaHR0cG1ldGhvZCAmJiB0aGlzLmh0dHB1cmwpIHtcbiAgICAgICAgdGhpcy5teXNlcnZpY2UuZmV0Y2hVcmxEYXRhKHRoaXMuaHR0cHVybCwgdGhpcy5odHRwbWV0aG9kKS5zdWJzY3JpYmUoKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgcmVzID0gcmVzcG9uc2U7XG5cbiAgICAgICAgfSwgKGVycm9yKSA9PiB7XG4gICAgICAgIH0sICgpID0+IHtcbiAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcblxuICAgICAgICAgICAgdGhpcy5kYXRhID0gdGhpcy5nZXRSZXNwb25zZURhdGEocmVzKTtcbiAgICAgICAgICAgIHRoaXMuaW5pdGlhbGl6ZURhdGEoKTtcbiAgICAgICAgICAgIHRoaXMucGxvdEQzQ2hhcnQoKTtcbiAgICAgICAgICB9LCAwKTtcblxuICAgICAgICB9KTtcblxuICAgICAgfSBlbHNlIGlmICh0aGlzLmRhdGEpIHtcblxuXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgIHRoaXMuZGF0YSA9IHRoaXMuZ2V0UmVzcG9uc2VEYXRhKHRoaXMuZGF0YSk7XG4gICAgICAgICAgdGhpcy5pbml0aWFsaXplRGF0YSgpO1xuICAgICAgICAgIHRoaXMucGxvdEQzQ2hhcnQoKTtcbiAgICAgICAgfSwgMCk7XG5cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmZXRjaERhdGEoZGF0YTogYW55KSB7XG4gICAgbGV0IHJlcXVlc3RKc29uO1xuICAgIGxldCBrZXkgPSB0aGlzLmRyaWxsYWJsZWRhdGFrZXk7XG4gICAgbGV0IHJlc3A6IGFueTtcbiAgICBpZiAodGhpcy5kcmlsbGFibGVkYXRha2V5Lmxlbmd0aCkge1xuICAgICAgbGV0IGRyaWxsYWJsZWRhdGEgPSB0aGlzLmdldE11bHRpcGxlRHJpbGxibGVLZXlEYXRhKGRhdGEsIGtleSk7XG4gICAgICByZXF1ZXN0SnNvbiA9IGRyaWxsYWJsZWRhdGE7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgcmVxdWVzdEpzb24gPSBkYXRhO1xuICAgIH1cblxuICAgIGlmICh0aGlzLmh0dHBtZXRob2QgJiYgdGhpcy5odHRwdXJsKSB7XG4gICAgICB0aGlzLm15c2VydmljZS5wb3N0ZmV0Y2hEYXRhKHRoaXMuaHR0cHVybCwgdGhpcy5odHRwbWV0aG9kLCByZXF1ZXN0SnNvbikuc3Vic2NyaWJlKChyZXNwb25zZSkgPT4ge1xuICAgICAgICByZXNwID0gcmVzcG9uc2U7XG4gICAgICB9LCAoZXJyb3IpID0+IHtcbiAgICAgIH0sICgpID0+IHtcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgdGhpcy5kYXRhID0gdGhpcy5nZXRSZXNwb25zZURhdGEocmVzcCk7XG4gICAgICAgICAgdGhpcy5kcmF3Q2hhcnQoKTtcbiAgICAgICAgfSwgMCk7XG4gICAgICB9KTtcblxuICAgIH1cbiAgfVxuXG4gIGRyYXdDaGFydCgpIHtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcblxuICAgICAgdGhpcy5pbml0aWFsaXplRGF0YSgpO1xuICAgICAgdGhpcy5wbG90RDNDaGFydCgpO1xuXG4gICAgfSwgMCk7XG5cbiAgfVxuXG4gIGdldFJlc3BvbnNlRGF0YShodHRwUmVzcG9uc2U6IGFueSkge1xuICAgIGxldCByZXNwb25zZWRhdGEgPSBodHRwUmVzcG9uc2U7XG4gICAgaWYgKHRoaXMuZGF0YXJlYWRlciAhPSBudWxsKSB7XG4gICAgICBjb25zdCBkciA9IHRoaXMuZGF0YXJlYWRlci5zcGxpdCgnLicpO1xuICAgICAgZm9yIChjb25zdCBpciBvZiBkcikge1xuICAgICAgICByZXNwb25zZWRhdGEgPSByZXNwb25zZWRhdGFbaXJdO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICByZXNwb25zZWRhdGEgPSBodHRwUmVzcG9uc2U7XG4gICAgfVxuICAgIHJldHVybiByZXNwb25zZWRhdGE7XG4gIH1cblxuICBwbG90RDNDaGFydCgpOiB2b2lkIHtcbiAgICB0aGlzLmNvbnZlcnRUb0pTT04oKTtcbiAgICB0aGlzLnBsb3RHcm91cEJhckNoYXJ0KCk7XG4gICAgdGhpcy50cmFuc2Zvcm1EYXRhKHRoaXMuZGF0YSk7XG4gIH1cblxuICBwcml2YXRlIHBsb3RHcm91cEJhckNoYXJ0KCk6IHZvaWQge1xuICAgIGNvbnN0IHRvb2x0aXAgPSB0aGlzLnRvb2xUaXAoZDMpO1xuICAgIGxldCBjb2xvcnMgPSB0aGlzLnByZWRlZmluZWRjb2xvcnM7XG4gICAgLy8gdGhpcy5zdmd3aWR0aCA9IHRoaXMuY2hhcnRJZC5uYXRpdmVFbGVtZW50Lm9mZnNldFdpZHRoO1xuICAgIGlmICh0aGlzLnJlc2l6ZWZsYWcgPT0gZmFsc2UpIHtcbiAgICAgIGlmICh0aGlzLmNoYXJ0SWQpIHtcbiAgICAgICAgdGhpcy5zdmd3aWR0aCA9IHRoaXMuY2hhcnRJZC5uYXRpdmVFbGVtZW50Lm9mZnNldFdpZHRoO1xuICAgICAgfSBlbHNlIHtcblxuICAgICAgICB0aGlzLnN2Z3dpZHRoID0gdGhpcy5zdmd3aWR0aDtcbiAgICAgIH1cbiAgICB9XG4gICAgY29uc3QgbWFyZ2luID0geyB0b3A6IDIwLCByaWdodDogMjAsIGJvdHRvbTogNTAsIGxlZnQ6IDQwIH07XG4gICAgY29uc3Qgd2lkdGggPSB0aGlzLnN2Z3dpZHRoIC0gbWFyZ2luLmxlZnQgLSBtYXJnaW4ucmlnaHQ7XG4gICAgY29uc3QgaGVpZ2h0ID0gdGhpcy5zdmdoZWlnaHQgLSBtYXJnaW4udG9wIC0gbWFyZ2luLmJvdHRvbTtcblxuICAgIHRoaXMuc3ZnID0gZDMuc2VsZWN0KFwiI1wiICsgdGhpcy5jb21wb25lbnRJZClcbiAgICAgIC5hdHRyKFwid2lkdGhcIiwgd2lkdGggKyBtYXJnaW4ubGVmdCArIG1hcmdpbi5yaWdodClcbiAgICAgIC5hdHRyKFwiaGVpZ2h0XCIsIGhlaWdodCArIG1hcmdpbi50b3AgKyBtYXJnaW4uYm90dG9tKVxuICAgICAgLmFwcGVuZChcImdcIilcbiAgICAgIC5hdHRyKFwidHJhbnNmb3JtXCIsIFwidHJhbnNsYXRlKFwiICsgbWFyZ2luLmxlZnQgKyBcIixcIiArIG1hcmdpbi50b3AgKyBcIilcIik7XG5cblxuICAgIGNvbnN0IHgwID0gZDMuc2NhbGVCYW5kKClcbiAgICAgIC5yYW5nZVJvdW5kKFswLCB3aWR0aF0pXG4gICAgICAucGFkZGluZygwLjIpO1xuXG4gICAgY29uc3QgeDEgPSBkMy5zY2FsZUJhbmQoKS5wYWRkaW5nKDAuMSk7XG5cbiAgICBjb25zdCB5ID0gZDMuc2NhbGVMaW5lYXIoKVxuICAgICAgLnJhbmdlUm91bmQoW2hlaWdodCwgMF0pO1xuXG4gICAgLy9zZXR0aW5nIHggYW5kIHkgZG9tYWluc1xuICAgIHRoaXMueWVhcnMgPSB0aGlzLmdyb3VwYmFyY2hhcnRBcnJheS5tYXAoZnVuY3Rpb24gKGQpIHsgcmV0dXJuIGQubGFiZWxzOyB9KTtcbiAgICBsZXQgbGFiZWwgPSB0aGlzLmdyb3VwYmFyY2hhcnRBcnJheVswXS52YWx1ZXMubWFwKGZ1bmN0aW9uIChkKSB7IHJldHVybiBkLmxhYmVsOyB9KTtcblxuICAgIHgwLmRvbWFpbih0aGlzLnllYXJzKTtcbiAgICB4MS5kb21haW4obGFiZWwpLnJhbmdlUm91bmQoWzAsIHgwLmJhbmR3aWR0aCgpXSk7XG4gICAgeS5kb21haW4oWzAsIGQzLm1heCh0aGlzLmdyb3VwYmFyY2hhcnRBcnJheSwgZnVuY3Rpb24gKGxhYmVscykgeyByZXR1cm4gZDMubWF4KGxhYmVscy52YWx1ZXMsIGZ1bmN0aW9uIChkKSB7IHJldHVybiBkLnZhbHVlOyB9KTsgfSldKTtcblxuICAgIC8vZHluYW1pYyBiYXJ3aWR0aFxuICAgIGlmICh0aGlzLmJhcndpZHRoID4gMCkge1xuICAgICAgdGhpcy5iYXJ3aWR0aCA9IHRoaXMuYmFyd2lkdGg7XG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgdGhpcy5iYXJ3aWR0aCA9IHgwLmJhbmR3aWR0aDtcbiAgICB9XG5cbiAgICAvLyBhZGQgeCBheGlzIHRvIHN2Z1xuXG5cblxuICAgIGlmKHRoaXMuZGV2aWNlLklzRGVza3RvcCgpPT10cnVlKVxuICAgICAgICAgICAge1xuICAgICAgICAgICAgICB0aGlzLnN2Zy5hcHBlbmQoXCJnXCIpXG4gICAgICAgICAgICAgICAgICAuYXR0cihcInRyYW5zZm9ybVwiLCBcInRyYW5zbGF0ZSgwLFwiICsgaGVpZ2h0ICsgXCIpXCIpXG4gICAgICAgICAgICAgICAgICAuY2FsbChkMy5heGlzQm90dG9tKHgwKSlcbiAgICAgICAgICAgIH1cbiAgICAgICAgICBlbHNlXG4gICAgICAgICAgIHtcbiAgICAgICAgICAgIHRoaXMuc3ZnLmFwcGVuZChcImdcIilcbiAgICAgICAgICAgICAgICAgIC5hdHRyKFwidHJhbnNmb3JtXCIsIFwidHJhbnNsYXRlKDAsXCIgKyBoZWlnaHQgKyBcIilcIilcbiAgICAgICAgICAgICAgICAgIC5jYWxsKGQzLmF4aXNCb3R0b20oeDApKS5cbiAgICAgICAgICAgICAgICAgICBzZWxlY3RBbGwoXCJ0ZXh0XCIpXG4gICAgICAgICAgICAgICAgICAgLmF0dHIoXCJ5XCIsIDApXG4gICAgICAgICAgICAgICAgICAgLmF0dHIoXCJ4XCIsIDkpXG4gICAgICAgICAgICAgICAgICAgLmF0dHIoXCJkeVwiLCBcIi4zNWVtXCIpXG4gICAgICAgICAgICAgICAgICAgLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJyb3RhdGUoNjApXCIpXG4gICAgICAgICAgICAgICAgICAgLnN0eWxlKFwidGV4dC1hbmNob3JcIiwgXCJzdGFydFwiKTtcbiAgICAgXG4gICAgICAgICAgfVxuXG4gIFxuXG4gICAgLy9hZGQgeSBheGlzIHRvIHN2Z1xuICAgIHRoaXMuc3ZnLmFwcGVuZChcImdcIilcbiAgICAgIC5jYWxsKGQzLmF4aXNMZWZ0KHkpXG4gICAgICAgIC50aWNrcygxMCkpXG5cbiAgICB0aGlzLnBsb3RMaW5lKHRoaXMuc3ZnLCB5LCBoZWlnaHQsIHdpZHRoKTtcblxuICAgIC8vIHN2Zy5zZWxlY3QoJy55JykudHJhbnNpdGlvbigpLmR1cmF0aW9uKDUwMCkuZGVsYXkoMTMwMCkuc3R5bGUoJ29wYWNpdHknLCAnMScpO1xuICAgICAvL2FkZGluZyBiYXJzXG4gICAgbGV0IHNsaWNlID0gdGhpcy5zdmcuc2VsZWN0QWxsKFwiLnNsaWNlXCIpXG4gICAgICAuZGF0YSh0aGlzLmdyb3VwYmFyY2hhcnRBcnJheSlcbiAgICAgIC5lbnRlcigpLmFwcGVuZChcImdcIilcbiAgICAgIC5hdHRyKFwiY2xhc3NcIiwgXCJnXCIpXG4gICAgICAuYXR0cihcInRyYW5zZm9ybVwiLCBmdW5jdGlvbiAoZCkgeyByZXR1cm4gXCJ0cmFuc2xhdGUoXCIgKyB4MChkLmxhYmVscykgKyBcIiwwKVwiOyB9KTtcbiAgICBcbiAgICAgIHNsaWNlLnNlbGVjdEFsbChcInJlY3RcIilcbiAgICAgIC5kYXRhKGZ1bmN0aW9uIChkKSB7IHJldHVybiBkLnZhbHVlczsgfSlcbiAgICAgIC5lbnRlcigpLmFwcGVuZChcInJlY3RcIilcbiAgICAgIC5hdHRyKFwid2lkdGhcIiwgeDEuYmFuZHdpZHRoKVxuICAgICAgLmF0dHIoXCJ4XCIsIGZ1bmN0aW9uIChkKSB7XG4gICAgICAgIHJldHVybiB4MShkLmxhYmVsKVxuICAgICAgfSlcbiAgICAgIC5zdHlsZShcImZpbGxcIiwgZnVuY3Rpb24gKGQsIGluZGV4KSB7IHJldHVybiBjb2xvcnNbaW5kZXhdIH0pXG4gICAgICAuYXR0cihcInlcIiwgZnVuY3Rpb24gKGQpIHsgcmV0dXJuIHkoMCk7IH0pXG4gICAgICAuYXR0cihcImhlaWdodFwiLCBmdW5jdGlvbiAoZCkgeyByZXR1cm4gaGVpZ2h0IC0geSgwKTsgfSlcbiAgICAgIC5hdHRyKFwiY3Vyc29yXCIsIFwicG9pbnRlclwiKVxuICAgICAgLm9uKFwibW91c2VvdmVyXCIsIChkKSA9PiB7XG4gICAgICAgIHJldHVybiB0b29sdGlwLnN0eWxlKFwidmlzaWJpbGl0eVwiLCBcInZpc2libGVcIik7XG4gICAgICB9KVxuICAgICAgLm9uKFwibW91c2Vtb3ZlXCIsIChkKSA9PiB7XG4gICAgICAgIHJldHVybiB0b29sdGlwLmh0bWwoXG4gICAgICAgICAgdGhpcy5zZXRLZXkoZClcbiAgICAgICAgICAvLyAgdGhpcy50b29sVGlwQ29udGVudChkKVxuICAgICAgICApXG4gICAgICAgICAgLnN0eWxlKFwidG9wXCIsIChkMy5ldmVudC5wYWdlWSAtIDEwKSArIFwicHhcIilcbiAgICAgICAgICAuc3R5bGUoXCJsZWZ0XCIsIChkMy5ldmVudC5wYWdlWCArIDEwKSArIFwicHhcIik7XG4gICAgICB9KS5vbihcIm1vdXNlb3V0XCIsIChkKSA9PiB7XG4gICAgICAgIHJldHVybiB0b29sdGlwLnN0eWxlKFwidmlzaWJpbGl0eVwiLCBcImhpZGRlblwiKTtcbiAgICAgIH0pXG4gICAgICAub24oXCJjbGlja1wiLCAoZCkgPT4ge1xuICAgICAgICB0aGlzLmdyb3VwYmFyQ2xpY2soZCk7XG4gICAgICAgIHRoaXMuZm9yZHJpbGxhYmxlQ2xpY2sodGhpcywgZCwgZXZlbnQpO1xuICAgICAgICByZXR1cm4gdG9vbHRpcC5zdHlsZShcInZpc2liaWxpdHlcIiwgXCJoaWRkZW5cIik7XG4gICAgICAgIC8vIHRoaXMuY2hhcnRDbGljayhkKTtcbiAgICAgIH0pXG5cbiAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICAgIGlmKHRoaXMubGFiZWxmbGFnKSB7XG4gICAgICBzbGljZS5zZWxlY3RBbGwoXCJ0ZXh0XCIpXG4gICAgICAuZGF0YShmdW5jdGlvbiAoZCkgeyByZXR1cm4gZC52YWx1ZXM7IH0pXG4gICAgICAuZW50ZXIoKS5hcHBlbmQoXCJ0ZXh0XCIpXG4gICAgICAuYXR0cihcIndpZHRoXCIsIHgxLmJhbmR3aWR0aClcbiAgICAgIC5hdHRyKFwieFwiLCBmdW5jdGlvbiAoZCkge1xuICAgICAgICByZXR1cm4geDEoZC5sYWJlbCkgKyB4MS5iYW5kd2lkdGgoKS8yXG4gICAgICB9KVxuICAgICAgIC5hdHRyKFwieVwiLCBmdW5jdGlvbiAoZCkgeyByZXR1cm4geShkLnZhbHVlKTsgfSlcbiAgICAgIC5hdHRyKFwiaGVpZ2h0XCIsIGZ1bmN0aW9uIChkKSB7IHJldHVybiBoZWlnaHQgLSB5KDApOyB9KVxuICAgICAgLnN0eWxlKFwiZm9udC13ZWlnaHRcIixcImJvbGRcIilcbiAgICAgIC5zdHlsZShcImZvbnQtc2l6ZVwiLFwiMXZ3XCIpXG4gICAgICAuYXR0cihcInRleHQtYW5jaG9yXCIsIFwibWlkZGxlXCIpXG4gICAgICAuYXR0cihcImZpbGxcIiwgKGQpPT57XG4gICAgICAgIGlmKHRoaXMubGFiZWxjb2xvci5sZW5ndGg+MCl7XG4gICAgICAgICAgcmV0dXJuIHRoaXMubGFiZWxjb2xvcjtcbiAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gXCJibGFja1wiO1xuICAgICAgICB9XG4gICAgICB9KVxuICAgICAgLnRleHQoZnVuY3Rpb24oZCl7XG4gICAgICAgICAgcmV0dXJuIGQudmFsdWU7XG4gICAgICAgICB9KTtcbn1cbiAgICBzbGljZS5zZWxlY3RBbGwoXCJyZWN0XCIpXG4gICAgICAuYXR0cihcInlcIiwgZnVuY3Rpb24gKGQpIHsgXG4gICAgICAgICByZXR1cm4geShkLnZhbHVlKTsgfSlcbiAgICAgIC5hdHRyKFwiaGVpZ2h0XCIsIGZ1bmN0aW9uIChkKSB7IHJldHVybiBoZWlnaHQgLSB5KGQudmFsdWUpOyB9KTtcbiAgfVxuXG4gIGdyb3VwYmFyQ2xpY2soZDogYW55KSB7XG4gICAgbGV0IG9iamVjdCA9IHt9O1xuICAgIG9iamVjdFtkLmxhYmVsXSA9IGQudmFsdWU7XG4gICAgb2JqZWN0W3RoaXMueGF4aXNEYXRhXSA9IGQueGF4aXM7XG4gICAgdGhpcy5jaGFydENsaWNrKG9iamVjdCk7XG4gIH1cblxuICByZXNpemUoZXZlbnQ6IGFueSkge1xuICAgIHRoaXMuc3Znd2lkdGggPSAwO1xuICAgIHRoaXMuc3ZnLnNlbGVjdEFsbChcIipcIikucmVtb3ZlKCk7XG4gICAgdGhpcy5yZXNpemVmbGFnID0gdHJ1ZTtcbiAgICB0aGlzLnN2Z3dpZHRoID0gdGhpcy5kaXZpZC5uYXRpdmVFbGVtZW50Lm9mZnNldFdpZHRoO1xuICAgIHRoaXMucGxvdEdyb3VwQmFyQ2hhcnQoKTtcbiAgfVxuXG4gIGxlZ2VuZENsaWNrKGV2ZW50OiBhbnkpIHtcbiAgICAvLyBjb25zdCBsZWdlbmROb2RlID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShldmVudCkpO1xuICAgIC8vIGRlbGV0ZSBsZWdlbmROb2RlLmNvbG9yO1xuXG4gICAgbGV0IG9iaiA9IHt9O1xuICAgIG9ialtcImxhYmVsXCJdID0gZXZlbnQubGFiZWw7XG4gICAgbGV0IGRhdGEgPSBbXTtcbiAgICBldmVudC5kYXRhLmZvckVhY2goZWxlbWVudCA9PiB7XG4gICAgICBsZXQgb2JqZWN0ID0ge307XG4gICAgICBvYmplY3RbZWxlbWVudC5sYWJlbF0gPSBlbGVtZW50LnZhbHVlO1xuICAgICAgZGF0YS5wdXNoKG9iamVjdCk7XG4gICAgfSk7XG4gICAgb2JqW1wiZGF0YVwiXSA9IGRhdGE7XG4gICAgdGhpcy5vbkxlZ2VuZENsaWNrLmVtaXQob2JqKTtcblxuICAgIC8vIHRoaXMub25MZWdlbmRDbGljay5lbWl0KGxlZ2VuZE5vZGUpO1xuICB9XG5cbiAgLy8yZCBhcnJheSB0byBqc29uIGNvbnZlcnNpb25cbiAgY29udmVydFRvSlNPTigpIHtcbiAgICBsZXQgZ3JvdXBDaGFydE9iaiA9IHsgXCJsYWJlbHNcIjogXCJcIiwgdmFsdWVzOiBbXSB9O1xuICAgIGxldCBmaXJzdFJvd09mRGF0YSA9IHRoaXMuZGF0YVswXTtcbiAgICB0aGlzLnhheGlzRGF0YSA9IHRoaXMuZGF0YVswXVswXTtcblxuICAgIGZvciAobGV0IGkgPSAxOyBpIDwgdGhpcy5kYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgICBsZXQgbXVsdGlTZXJpZXNBcnJheSA9IFtdO1xuICAgICAgbGV0IHZhbHVlT2ZKOiBhbnk7XG5cbiAgICAgIGZvciAobGV0IGogPSAxOyBqIDwgdGhpcy5kYXRhW2ldLmxlbmd0aDsgaisrKSB7XG5cbiAgICAgICAgdmFsdWVPZkogPSB0aGlzLmRhdGFbaV1bMF07XG4gICAgICAgIGxldCBzaW5nbGVCYXJPYmogPSB7fTtcbiAgICAgICAgc2luZ2xlQmFyT2JqW1widmFsdWVcIl0gPSB0aGlzLmRhdGFbaV1bal07XG4gICAgICAgIHNpbmdsZUJhck9ialtcImxhYmVsXCJdID0gZmlyc3RSb3dPZkRhdGFbal07XG4gICAgICAgIHNpbmdsZUJhck9ialtcInhheGlzXCJdID0gdGhpcy5kYXRhW2ldWzBdO1xuICAgICAgICBtdWx0aVNlcmllc0FycmF5LnB1c2goc2luZ2xlQmFyT2JqKTtcbiAgICAgIH1cbiAgICAgIGlmIChtdWx0aVNlcmllc0FycmF5Lmxlbmd0aCkge1xuICAgICAgICBncm91cENoYXJ0T2JqW1widmFsdWVzXCJdID0gbXVsdGlTZXJpZXNBcnJheTtcbiAgICAgICAgbGV0IG5ld0xhYmVsc1ZhbHVlczogYW55ID0gdmFsdWVPZko7XG4gICAgICAgIGxldCBuZXdHcm91cERhdGFPYmogPSBPYmplY3QuYXNzaWduKHt9LCBncm91cENoYXJ0T2JqKTtcbiAgICAgICAgbmV3R3JvdXBEYXRhT2JqWydsYWJlbHMnXSA9IG5ld0xhYmVsc1ZhbHVlcyArICcnO1xuICAgICAgICB0aGlzLmdyb3VwYmFyY2hhcnRBcnJheS5wdXNoKG5ld0dyb3VwRGF0YU9iaik7XG4gICAgICB9XG4gICAgfVxuXG4gIH1cblxuXG4gIHRyYW5zZm9ybXRvMmRBcnJheSgpIHtcbiAgICBsZXQgaSA9IDBcbiAgICBsZXQgcmVzdWx0ID0gW107XG4gICAgcmVzdWx0LnB1c2goXCJ5ZWFyc1wiKTtcbiAgICB0aGlzLmRhdGEuZm9yRWFjaCgoZWxlbWVudCwgaSkgPT4ge1xuICAgICAgaWYgKGkgPT0gMCkge1xuICAgICAgICBlbGVtZW50LnZhbHVlcy5mb3JFYWNoKGVsZW1lbnQyID0+IHtcbiAgICAgICAgICByZXN1bHQucHVzaChlbGVtZW50Mi5sYWJlbCk7XG5cbiAgICAgICAgfSk7XG4gICAgICB9XG5cbiAgICB9KTtcbiAgICB0aGlzLnVybGxlZ2VuZEFycmF5LnB1c2gocmVzdWx0KTtcblxuICAgIGxldCB0ZW1wYXJyYXkgPSBbXTtcbiAgICB0aGlzLmRhdGEuZm9yRWFjaChlbGVtZW50ID0+IHtcbiAgICAgIHRlbXBhcnJheSA9IFtdO1xuICAgICAgbGV0IHZhbHVlczogYW55O1xuICAgICAgbGV0IHllYXIgPSBlbGVtZW50LmxhYmVscztcbiAgICAgIHRlbXBhcnJheS5wdXNoKHllYXIpO1xuICAgICAgZWxlbWVudC52YWx1ZXMuZm9yRWFjaChlbGVtZW50MiA9PiB7XG4gICAgICAgIHZhbHVlcyA9IGVsZW1lbnQyLnZhbHVlO1xuICAgICAgICB0ZW1wYXJyYXkucHVzaCh2YWx1ZXMpO1xuICAgICAgfSk7XG4gICAgICB0aGlzLnVybGxlZ2VuZEFycmF5LnB1c2godGVtcGFycmF5KTtcbiAgICB9KVxuICB9XG5cbiAgdHJhbnNmb3JtRGF0YShkYXRhOiBhbnkpIHtcbiAgICB0aGlzLmtleUFycmF5ID0gW107XG4gICAgdGhpcy5sZWdlbmRBcnJheSA9IFtdO1xuICAgIGRhdGEuZm9yRWFjaCgoZWxlbWVudCwgaSkgPT4ge1xuICAgICAgaWYgKGkgPT0gMCkge1xuICAgICAgICBlbGVtZW50LmZvckVhY2goKGlubmVyZWxlbWVudCwgaW5kZXgpID0+IHtcbiAgICAgICAgICBpZiAoaW5kZXggPiAwKSB7XG4gICAgICAgICAgICB0aGlzLmxlZ2VuZEFycmF5W2lubmVyZWxlbWVudF0gPSB7ICdkYXRhJzogW10gfTtcbiAgICAgICAgICAgIHRoaXMua2V5QXJyYXkucHVzaChpbm5lcmVsZW1lbnQpO1xuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgZGF0YS5mb3JFYWNoKChlbGVtZW50LCBpbmRleCkgPT4ge1xuICAgICAgaWYgKGluZGV4ID4gMCkge1xuICAgICAgICBsZXQgb2JqOiBhbnkgPSB7fTtcbiAgICAgICAgZWxlbWVudC5mb3JFYWNoKChpbm5lcmVsZW1lbnQsIGlubmVyaW5kZXgpID0+IHtcbiAgICAgICAgICBpZiAoaW5uZXJpbmRleCA+PSAwKSB7XG4gICAgICAgICAgICBjb25zdCBrZXkgPSB0aGlzLmtleUFycmF5W2lubmVyaW5kZXggLSAxXTtcbiAgICAgICAgICAgIG9ialtrZXldID0gZWxlbWVudFtpbm5lcmluZGV4XTtcbiAgICAgICAgICAgIGNvbnN0IGxlZ2VuZGRhdGEgPSB0aGlzLmxlZ2VuZEFycmF5W2tleV07XG4gICAgICAgICAgICBpZiAobGVnZW5kZGF0YSkge1xuICAgICAgICAgICAgICBsZWdlbmRkYXRhLmRhdGEucHVzaCh7ICd2YWx1ZSc6IGVsZW1lbnRbaW5uZXJpbmRleF0sICdsYWJlbCc6IGVsZW1lbnRbMF0gfSk7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgfVxuXG4gICAgICAgIH0pO1xuICAgICAgfVxuICAgIH0pO1xuXG4gICAgdGhpcy5sZWdlbmRzID0gW107XG4gICAgdGhpcy5rZXlBcnJheS5mb3JFYWNoKChlbGVtZW50LCBpbmRleCkgPT4ge1xuICAgICAgY29uc3QgbGVnZW5kZGF0YSA9IHRoaXMubGVnZW5kQXJyYXlbZWxlbWVudF07XG4gICAgICBsZXQgb2JqZWN0ID0geyAnbGFiZWwnOiBlbGVtZW50LCAnY29sb3InOiB0aGlzLnByZWRlZmluZWRjb2xvcnNbaW5kZXhdLCAnZGF0YSc6IGxlZ2VuZGRhdGEuZGF0YSB9O1xuICAgICAgdGhpcy5sZWdlbmRzLnB1c2gob2JqZWN0KTtcbiAgICB9KTtcbiAgfVxuXG4gIHNldEtleShkOiBhbnkpIHtcbiAgICBsZXQgb2JqZWN0ID0ge307XG4gICAgb2JqZWN0W2QubGFiZWxdID0gZC52YWx1ZTtcbiAgICBvYmplY3RbdGhpcy54YXhpc0RhdGFdID0gZC54YXhpcztcbiAgICByZXR1cm4gKHRoaXMudG9vbFRpcEZvckJhcihvYmplY3QpKTtcbiAgfVxuXG4gIHBsb3RMaW5lKGcsIHksIGhlaWdodCwgd2lkdGgpIHtcbiAgICBpZiAodGhpcy5oU2NhbGUpIHtcbiAgICAgIGcuYXBwZW5kKCdnJylcbiAgICAgICAgLmF0dHIoXCJjb2xvclwiLCBcImxpZ2h0Z3JleVwiKVxuICAgICAgICAuY2FsbChkMy5heGlzTGVmdCh5KVxuICAgICAgICAgIC50aWNrU2l6ZSgtd2lkdGgpLnRpY2tGb3JtYXQoJycpKTtcbiAgICB9XG4gIH1cblxufVxuIiwiaW1wb3J0IHsgQ29tcG9uZW50LCBJbnB1dCwgVmlld0NoaWxkLCBFbGVtZW50UmVmLCB9IGZyb20gXCJAYW5ndWxhci9jb3JlXCI7XG5pbXBvcnQgeyBBbWV4aW9EM0Jhc2VDaGFydENvbXBvbmVudCB9IGZyb20gXCIuLi9iYXNlL2Jhc2UuY29tcG9uZW50XCI7XG5pbXBvcnQgeyBQbG90Q2FydCB9IGZyb20gXCIuLi9iYXNlL2NoYXJ0LmNvbXBvbmVudFwiO1xuaW1wb3J0IHsgQ29tbWFuRGF0YVNlcnZpY2UgfSBmcm9tICcuLi9zZXJ2aWNlcy9jb21tYW4uZGF0YS5zZXJ2aWNlJztcbmltcG9ydCAqIGFzIGQzIGZyb20gJ2QzJztcbmltcG9ydCB7IHN0cmluZ2lmeSB9IGZyb20gXCJAYW5ndWxhci9jb3JlL3NyYy9yZW5kZXIzL3V0aWxcIjtcbmltcG9ydHtEZXZpY2VRdWVyeVNlcnZpY2V9IGZyb20gJy4uL3NlcnZpY2VzL2RldmljZS5xdWVyeS5zZXJ2aWNlJztcbkBDb21wb25lbnQoe1xuICAgIHNlbGVjdG9yOiAnYW1leGlvLWQzLWNvbWJvY2hhcnQnLFxuICAgIHRlbXBsYXRlOiBgPGRpdiAqbmdJZj1cImRyaWxsYWJsZUZsYWdcIiAjZGl2aWQgKHdpbmRvdzpyZXNpemUpPVwicmVzaXplKClcIj5cbjx0YWJsZSBzdHlsZT1cIndpZHRoOiAxMDAlO1wiICNjaGFydElkID5cbiAgPHRyPlxuICAgICAgPHRkIHN0eWxlPVwiZm9udC1zaXplOiAxOHB4OyBmb250LXdlaWdodDogYm9sZDsgXCI+IHt7dGl0bGV9fSA8L3RkPlxuICA8L3RyPlxuICA8dHI+XG4gICAgICA8dGQ+XG4gICAgICAgICAgPHN2ZyBbYXR0ci5oZWlnaHRdPVwic3ZnaGVpZ2h0XCIgW2F0dHIud2lkdGhdPVwic3Znd2lkdGhcIiBbYXR0ci5pZF09XCJjb21wb25lbnRJZFwiPlxuICAgICAgICAgIDwvc3ZnPlxuICAgICAgPC90ZD5cbiAgPC90cj5cbiAgPHRyPlxuICAgICAgPHRkIHN0eWxlPVwiZGlzcGxheTogYmxvY2s7IHBhZGRpbmc6IDVweDtcIj5cbiAgICAgICAgICA8YW1leGlvLWQzLWxlZ2VuZCAqbmdJZj1cImxlZ2VuZFwiIFtob3Jpem9udGFsXT1cInRydWVcIiAob25DbGljayk9XCJvbkJhckxlZ2VuZENsaWNrKCRldmVudClcIiBbZGF0YV09XCJsZWdlbmRBcnJheVwiIHN0eWxlPVwiaGVpZ2h0OjEwMCU7XCI+XG4gICAgICAgICAgPC9hbWV4aW8tZDMtbGVnZW5kPlxuICAgICAgPC90ZD5cbiAgPC90cj5cbjwvdGFibGU+XG48L2Rpdj5gLFxuICAgIHN0eWxlczogW2BgXVxufSlcbmV4cG9ydCBjbGFzcyBDb21ib2NoYXJ0Q29tcG9uZW50IGV4dGVuZHMgQW1leGlvRDNCYXNlQ2hhcnRDb21wb25lbnQgaW1wbGVtZW50cyBQbG90Q2FydCB7XG4gICAgQElucHV0KCd3aWR0aCcpIHN2Z3dpZHRoOiBudW1iZXIgPSAzMDA7XG4gICAgQElucHV0KCdoZWlnaHQnKSBzdmdoZWlnaHQ6IG51bWJlciA9IDMwMDtcbiAgICBASW5wdXQoJ2xpbmUtY29sb3InKSBsaW5lQ29sb3I6IHN0cmluZyA9IFwiYmxhY2tcIjtcbiAgICBASW5wdXQoKSBob3Jpem9udGFsOiBib29sZWFuID0gZmFsc2U7XG4gICAgQFZpZXdDaGlsZCgnY2hhcnRJZCcpIGNoYXJ0SWQ6IEVsZW1lbnRSZWY7XG4gICAgQFZpZXdDaGlsZCgnZGl2aWQnKSBkaXZpZDogRWxlbWVudFJlZjtcbiAgICBASW5wdXQoJ2RhdGEtcmVhZGVyJykgZGF0YXJlYWRlcjogc3RyaW5nO1xuICAgIEBJbnB1dCgnbGV2ZWwnKSBsZXZlbDogbnVtYmVyID0gMDtcbiAgICBASW5wdXQoJ3RhcmdldCcpIHRhcmdldDogbnVtYmVyO1xuICAgIEBJbnB1dCgnZHJpbGxhYmxlLWRhdGEnKSBkcmlsbGFibGVkYXRha2V5OiBhbnlbXSA9IFtdXG4gICAgQElucHV0KCdsaW5lLWRhdGEtaW5kZXgnKSBsaW5lSW5wdXQ6IGFueTtcbiAgICBASW5wdXQoJ2hvcml6b250YWwtc2NhbGUnKSBoU2NhbGUgOiBib29sZWFuID0gdHJ1ZTtcbiAgICBkcmlsbGFibGVGbGFnOiBib29sZWFuID0gdHJ1ZTtcbiAgICByZXNpemVmbGFnOmJvb2xlYW49ZmFsc2U7XG4gICAgZGF0YTogYW55O1xuICAgIHN2Zzphbnk7XG4gICAgY29sb3JmbGFnOiBib29sZWFuID0gZmFsc2U7XG4gICAga2V5QXJyYXk6IGFueVtdID0gW107XG4gICAgdHJhbnNmb3JtZWRkYXRhOiBhbnlbXSA9IFtdO1xuICAgIG9iamVjdDogYW55O1xuICAgIGxlZ2VuZEFycmF5OiBhbnlbXSA9IFtdO1xuICAgIGh0dHByZXNwb25zZTphbnk7XG4gICAgb2Zmc2V0aGVpZ2h0OmFueTtcbiAgIFxuICAgIGNvbnN0cnVjdG9yKHByaXZhdGUgbXlzZXJ2aWNlOiBDb21tYW5EYXRhU2VydmljZSxwcml2YXRlIGRldmljZTpEZXZpY2VRdWVyeVNlcnZpY2UpIHtcbiAgICAgICAgc3VwZXIoJ2NvbWJvY2hhcnQnKTtcbiAgICB9XG4gICAgbmdPbkluaXQoKSB7XG4gICAgICBcbiAgICAgICAgaWYgKHRoaXMubGV2ZWwgPD0gMSkge1xuICAgICAgICAgICAgbGV0IHJlc3A6IGFueTtcbiAgICAgICAgICAgIGlmICh0aGlzLmh0dHBtZXRob2QgJiYgdGhpcy5odHRwdXJsKSB7XG4gICAgICAgICAgICAgICAgdGhpcy5teXNlcnZpY2UuZmV0Y2hVcmxEYXRhKHRoaXMuaHR0cHVybCwgdGhpcy5odHRwbWV0aG9kKS5zdWJzY3JpYmUoKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJlc3AgPSByZXNwb25zZTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5odHRwcmVzcG9uc2U9cmVzcG9uc2U7XG4gICAgICAgICAgICAgICAgfSwgKGVycm9yKSA9PiB7XG4gICAgICAgICAgICAgICAgfSwgKCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0YSA9IHRoaXMuZ2V0UmVzcG9uc2VEYXRhKHJlc3ApO1xuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm1EYXRhKHRoaXMuZGF0YSlcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMuaW5pdGlhbGl6ZURhdGEoKTtcbiAgICAgICAgICAgICAgICAgICAgICAgIHRoaXMucGxvdEQzQ2hhcnQoKTtcbiAgICAgICAgICAgICAgICAgICAgXG4gICAgICAgICAgICAgICAgICAgIH0sIDApO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICB9IGVsc2UgaWYgKHRoaXMuZGF0YSkge1xuXG4gICAgICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZGF0YSA9IHRoaXMuZ2V0UmVzcG9uc2VEYXRhKHRoaXMuZGF0YSk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtRGF0YSh0aGlzLmRhdGEpXG4gICAgICAgICAgICAgICAgICAgIHRoaXMuaW5pdGlhbGl6ZURhdGEoKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5wbG90RDNDaGFydCgpO1xuXG4gICAgICAgICAgICAgICAgfSwgMCk7XG5cbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgIH1cbiAgICBmZXRjaERhdGEoZGF0YTogYW55KSB7XG5cbiAgICAgICAgbGV0IHJlcXVlc3RKc29uO1xuICAgICAgICBsZXQga2V5ID0gdGhpcy5kcmlsbGFibGVkYXRha2V5O1xuICAgICAgICBsZXQgcmVzcDogYW55O1xuICAgICAgICBpZiAodGhpcy5kcmlsbGFibGVkYXRha2V5Lmxlbmd0aCkge1xuICAgICAgICAgICAgbGV0IGRyaWxsYWJsZWRhdGEgPSB0aGlzLmdldE11bHRpcGxlRHJpbGxibGVLZXlEYXRhKGRhdGEsIGtleSk7XG4gICAgICAgICAgICByZXF1ZXN0SnNvbiA9IGRyaWxsYWJsZWRhdGE7XG5cbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICAgIHJlcXVlc3RKc29uID0gZGF0YTtcbiAgICAgICAgfVxuICAgICAgICBpZiAodGhpcy5odHRwbWV0aG9kICYmIHRoaXMuaHR0cHVybCkge1xuICAgICAgICAgICAgdGhpcy5teXNlcnZpY2UucG9zdGZldGNoRGF0YSh0aGlzLmh0dHB1cmwsIHRoaXMuaHR0cG1ldGhvZCwgcmVxdWVzdEpzb24pLnN1YnNjcmliZSgocmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgICAgICByZXNwID0gcmVzcG9uc2U7XG4gICAgICAgICAgICAgICAgdGhpcy5odHRwcmVzcG9uc2U9cmVzcG9uc2U7XG4gICAgICAgICAgICB9LCAoZXJyb3IpID0+IHtcbiAgICAgICAgICAgIH0sICgpID0+IHtcbiAgICAgICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgICAgICAgICAvLyB0aGlzLmRhdGEgPSB0aGlzLmdldFJlc3BvbnNlRGF0YShyZXNwKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5kcmF3Q2hhcnQoKTtcbiAgICAgICAgICAgICAgICB9LCAwKTtcbiAgICAgICAgICAgIH0pO1xuICAgICAgICB9XG4gICAgfVxuXG4gICAgZHJhd0NoYXJ0KCkge1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsgXG4gICAgICAgICAgICB0aGlzLmRhdGEgPSB0aGlzLmdldFJlc3BvbnNlRGF0YSh0aGlzLmh0dHByZXNwb25zZSk7XG4gICAgICAgICAgICB0aGlzLnRyYW5zZm9ybURhdGEodGhpcy5kYXRhKVxuICAgICAgICAgICAgdGhpcy5pbml0aWFsaXplRGF0YSgpO1xuICAgICAgICAgICAgdGhpcy5wbG90RDNDaGFydCgpO1xuICAgICAgICB9LCAwKTtcblxuICAgIH1cbiAgICBnZXRSZXNwb25zZURhdGEoaHR0cFJlc3BvbnNlOiBhbnkpIHtcbiAgICAgICAgbGV0IHJlc3BvbnNlZGF0YSA9IGh0dHBSZXNwb25zZTtcbiAgICAgICAgaWYgKHRoaXMuZGF0YXJlYWRlciAhPSBudWxsKSB7XG4gICAgICAgICAgICBjb25zdCBkciA9IHRoaXMuZGF0YXJlYWRlci5zcGxpdCgnLicpO1xuICAgICAgICAgICAgZm9yIChjb25zdCBpciBvZiBkcikge1xuICAgICAgICAgICAgICAgIHJlc3BvbnNlZGF0YSA9IHJlc3BvbnNlZGF0YVtpcl07XG4gICAgICAgICAgICB9XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgICAgICByZXNwb25zZWRhdGEgPSBodHRwUmVzcG9uc2U7XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHJlc3BvbnNlZGF0YTtcbiAgICB9XG5cbiAgICBwbG90RDNDaGFydCgpIHtcblxuICAgICAgICB0aGlzLmZvcm1MZWdlbmREYXRhKCk7XG4gICAgICAgIGlmKHRoaXMucmVzaXplZmxhZz09ZmFsc2UpXG4gICAgICAgIHtcbiAgICAgICAgaWYgKHRoaXMuY2hhcnRJZCkge1xuICAgICAgICAgICAgdGhpcy5zdmd3aWR0aCA9IHRoaXMuY2hhcnRJZC5uYXRpdmVFbGVtZW50Lm9mZnNldFdpZHRoO1xuICAgICAgICB9IGVsc2Uge1xuXG4gICAgICAgICAgICB0aGlzLnN2Z3dpZHRoID0gdGhpcy5zdmd3aWR0aDtcbiAgICAgICAgfVxuICAgIH0gIFxuICAgICAgICBsZXQgbGluZU5hbWU6IGFueSA9IHRoaXMubGluZUlucHV0O1xuXG4gICAgICAgIGNvbnN0IHRvb2x0aXAgPSB0aGlzLnRvb2xUaXAoZDMpO1xuICAgICAgICB0aGlzLnN2ZyA9IGQzLnNlbGVjdChcIiNcIiArIHRoaXMuY29tcG9uZW50SWQpO1xuICAgICAgICBjb25zdCBtYXJnaW4gPSB7IHRvcDogMjAsIHJpZ2h0OiAyMCwgYm90dG9tOiA4NSwgbGVmdDogNjAgfTtcbiAgICAgICAgY29uc3Qgd2lkdGggPSB0aGlzLnN2Z3dpZHRoIC0gbWFyZ2luLmxlZnQgLSBtYXJnaW4ucmlnaHQ7XG4gICAgICAgIGxldCBoZWlnaHQ7XG4gICAgIFxuXG4gICAgICAgIGNvbnNvbGUubG9nKFwib2Zmc2V0aGVpZ2h0XCIsdGhpcy5vZmZzZXRoZWlnaHQpO1xuICAgICAgICBpZih0aGlzLmRldmljZS5Jc0Rlc2t0b3AoKT09dHJ1ZSlcbiAgICAgICAge1xuICAgICAgICAgICAgXG4gICAgICAgICAgICB0aGlzLm9mZnNldGhlaWdodCA9IHRoaXMuY2hhcnRJZC5uYXRpdmVFbGVtZW50Lm9mZnNldEhlaWdodC0yMC05MDtcbiAgICAgICAgICAgICAgIGhlaWdodCA9ICB0aGlzLm9mZnNldGhlaWdodDtcbiAgICAgICAgfVxuICAgICAgICBlbHNle1xuICAgICAgICAgICAgICAgICBoZWlnaHQ9dGhpcy5zdmdoZWlnaHQtbWFyZ2luLnRvcC1tYXJnaW4uYm90dG9tO1xuICAgICAgICAgIH1cbiAgICAgICAgbGV0IHgsIHk7XG4gICAgICAgIGNvbnN0IGcgPSB0aGlzLnN2Zy5hcHBlbmQoXCJnXCIpXG4gICAgICAgICAgICAuYXR0cihcInRyYW5zZm9ybVwiLCBcInRyYW5zbGF0ZShcIiArIG1hcmdpbi5sZWZ0ICsgXCIsXCIgKyBtYXJnaW4udG9wICsgXCIpXCIpO1xuICAgICAgICBpZiAodGhpcy5ob3Jpem9udGFsID09IGZhbHNlKSB7XG4gICAgICAgICAgICB4ID0gZDMuc2NhbGVCYW5kKClcbiAgICAgICAgICAgICAgICAucmFuZ2VSb3VuZChbMCwgd2lkdGhdKVxuICAgICAgICAgICAgICAgIC5wYWRkaW5nKDAuMSk7XG4gICAgICAgICAgICB5ID0gZDMuc2NhbGVMaW5lYXIoKVxuICAgICAgICAgICAgICAgIC5yYW5nZVJvdW5kKFtoZWlnaHQsIDBdKTtcblxuICAgICAgICAgICAgLy9zZXR0aW5nIGNvbnRlbnQgZm9yIHggYW5kIHkgYXhpc1xuICAgICAgICAgICAgeC5kb21haW4odGhpcy5kYXRhLm1hcCgoZCkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiBkW09iamVjdC5rZXlzKGQpWzBdXTtcbiAgICAgICAgICAgIH0pKTtcbiAgICAgICAgICAgIGxldCBiYXJSYW5nZSA9IGQzLm1heCh0aGlzLmRhdGEsIChkKSA9PiB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIGRbT2JqZWN0LmtleXMoZClbMV1dO1xuICAgICAgICAgICAgfSk7XG5cbiAgICAgICAgICAgIGxldCBsaW5lUmFuZ2UgPSBkMy5tYXgodGhpcy5kYXRhLCAoZCkgPT4ge1xuICAgICAgICAgICAgICAgIHJldHVybiBkW3RoaXMubGluZUlucHV0XTtcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICBsZXQgcmFuZ2U7XG4gICAgICAgICAgICBpZiAoYmFyUmFuZ2UgPiBsaW5lUmFuZ2UpIHtcbiAgICAgICAgICAgICAgICByYW5nZSA9IGJhclJhbmdlO1xuICAgICAgICAgICAgfVxuICAgICAgICAgICAgZWxzZSB7XG4gICAgICAgICAgICAgICAgcmFuZ2UgPSBsaW5lUmFuZ2U7XG4gICAgICAgICAgICB9XG4gICAgICAgICAgICB5LmRvbWFpbihbMCwgcmFuZ2VdKTtcblxuXG4gICAgICAgICAgICBpZih0aGlzLmRldmljZS5Jc0Rlc2t0b3AoKT09dHJ1ZSlcbiAgICAgICAgICAgIHtcbiAgICAgICAgICAgICAgZy5hcHBlbmQoXCJnXCIpXG4gICAgICAgICAgICAgICAgICAuYXR0cihcInRyYW5zZm9ybVwiLCBcInRyYW5zbGF0ZSgwLFwiICsgaGVpZ2h0ICsgXCIpXCIpXG4gICAgICAgICAgICAgICAgICAuY2FsbChkMy5heGlzQm90dG9tKHgpKVxuICAgICAgICAgICAgfVxuICAgICAgICAgIGVsc2VcbiAgICAgICAgICAge1xuICAgICAgICAgICAgZy5hcHBlbmQoXCJnXCIpXG4gICAgICAgICAgICAgICAgICAuYXR0cihcInRyYW5zZm9ybVwiLCBcInRyYW5zbGF0ZSgwLFwiICsgaGVpZ2h0ICsgXCIpXCIpXG4gICAgICAgICAgICAgICAgICAuY2FsbChkMy5heGlzQm90dG9tKHgpKS5cbiAgICAgICAgICAgICAgICAgICBzZWxlY3RBbGwoXCJ0ZXh0XCIpXG4gICAgICAgICAgICAgICAgICAgLmF0dHIoXCJ5XCIsIDApXG4gICAgICAgICAgICAgICAgICAgLmF0dHIoXCJ4XCIsIDkpXG4gICAgICAgICAgICAgICAgICAgLmF0dHIoXCJkeVwiLCBcIi4zNWVtXCIpXG4gICAgICAgICAgICAgICAgICAgLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJyb3RhdGUoNjUpXCIpXG4gICAgICAgICAgICAgICAgICAgLnN0eWxlKFwidGV4dC1hbmNob3JcIiwgXCJzdGFydFwiKTtcbiAgICAgXG4gICAgICAgICAgfVxuICAgICAgICAgICAgLy9hZGQgeSBheGlzIHRvIHN2Z1xuICAgICAgICAgICAgZy5hcHBlbmQoXCJnXCIpXG4gICAgICAgICAgICAgICAgLmNhbGwoZDMuYXhpc0xlZnQoeSlcbiAgICAgICAgICAgICAgICAgICAgLnRpY2tzKDEwKSlcblxuICAgICAgICAgICB0aGlzLnBsb3RMaW5lKGcseCx5LGhlaWdodCx3aWR0aCk7IFxuICAgICAgICAgICBcbiAgICAgICAgICAgIC8vYWRkIGJhciBjaGFydFxuICAgICAgICAgICAgZy5zZWxlY3RBbGwoXCIuYmFyXCIpXG4gICAgICAgICAgICAgICAgLmRhdGEodGhpcy5kYXRhKVxuICAgICAgICAgICAgICAgIC5lbnRlcigpXG4gICAgICAgICAgICAgICAgLmFwcGVuZChcInJlY3RcIilcbiAgICAgICAgICAgICAgICAuYXR0cihcImNsYXNzXCIsIFwiYmFyXCIpXG4gICAgICAgICAgICAgICAgLmF0dHIoXCJ4XCIsIChkKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB4KGRbT2JqZWN0LmtleXMoZClbMF1dKTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5hdHRyKFwieVwiLCAoZCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4geShkW09iamVjdC5rZXlzKGQpWzFdXSk7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAuYXR0cihcImN1cnNvclwiLCBcInBvaW50ZXJcIilcbiAgICAgICAgICAgICAgICAuYXR0cihcIndpZHRoXCIsIHguYmFuZHdpZHRoKCkpXG4gICAgICAgICAgICAgICAgLmF0dHIoXCJoZWlnaHRcIiwgKGQpID0+IHsgcmV0dXJuIGhlaWdodCAtIHkoZFtPYmplY3Qua2V5cyhkKVsxXV0pOyB9KVxuICAgICAgICAgICAgICAgIC5zdHlsZShcImZpbGxcIiwgKGQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIGQuY29sb3I7XG4gICAgICAgICAgICAgICAgfSlcbiAgICAgICAgICAgICAgICAub24oXCJtb3VzZW92ZXJcIiwgKGQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRvb2x0aXAuc3R5bGUoXCJ2aXNpYmlsaXR5XCIsIFwidmlzaWJsZVwiKTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5vbihcIm1vdXNlbW92ZVwiLCAoZCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdG9vbHRpcC5odG1sKFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5mb3JtVG9vbHRpcERhdGEoZCkpXG4gICAgICAgICAgICAgICAgICAgICAgICAuc3R5bGUoXCJ0b3BcIiwgKGQzLmV2ZW50LnBhZ2VZIC0gMTApICsgXCJweFwiKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnN0eWxlKFwibGVmdFwiLCAoZDMuZXZlbnQucGFnZVggKyAxMCkgKyBcInB4XCIpO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLm9uKFwibW91c2VvdXRcIiwgKGQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRvb2x0aXAuc3R5bGUoXCJ2aXNpYmlsaXR5XCIsIFwiaGlkZGVuXCIpO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLm9uKFwiY2xpY2tcIiwgKGQpID0+IHtcblxuICAgICAgICAgICAgICAgICAgICB0aGlzLmJhckNoYXJ0Q2xpY2soZCk7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMuZm9yZHJpbGxhYmxlQ2xpY2sodGhpcywgZCxldmVudCk7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0b29sdGlwLnN0eWxlKFwidmlzaWJpbGl0eVwiLCBcImhpZGRlblwiKTtcbiAgICAgICAgICAgICAgICB9KTtcbiAgICAgICAgICAgIC8vbGluZSBjb2RlIHN0YXJ0XG4gICAgICAgICAgICBsZXQgdmFsdWVsaW5lID0gZDMubGluZSgpXG4gICAgICAgICAgICAgICAgLngoZnVuY3Rpb24gKGQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHgoXG4gICAgICAgICAgICAgICAgICAgICAgICBkW09iamVjdC5rZXlzKGQpWzBdXVxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLnkoZnVuY3Rpb24gKGQpIHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHkoXG4gICAgICAgICAgICAgICAgICAgICAgICBkW2xpbmVOYW1lXVxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH0pO1xuXG4gICAgICAgICAgICBsZXQgc2hpZnQgPSBtYXJnaW4ubGVmdCArIHguYmFuZHdpZHRoKCkgLyAyO1xuICAgICAgICAgICAgdGhpcy5zdmcuYXBwZW5kKFwicGF0aFwiKVxuICAgICAgICAgICAgICAgIC5kYXRhKFt0aGlzLmRhdGFdKVxuICAgICAgICAgICAgICAgIC5hdHRyKFwiZmlsbFwiLCBcIm5vbmVcIilcbiAgICAgICAgICAgICAgICAuc3R5bGUoXCJzdHJva2VcIiwgdGhpcy5saW5lQ29sb3IpXG4gICAgICAgICAgICAgICAgLmF0dHIoXCJzdHJva2Utd2lkdGhcIiwgMS41KVxuICAgICAgICAgICAgICAgIC5hdHRyKFwidHJhbnNmb3JtXCIsIFwidHJhbnNsYXRlKCBcIiArIHNoaWZ0ICsgXCIsIDIwIClcIilcbiAgICAgICAgICAgICAgICAuYXR0cihcImRcIiwgdmFsdWVsaW5lKTtcbiAgICAgICAgICAgIGxldCBwb2ludHMxID0gdGhpcy5zdmcuc2VsZWN0QWxsKFwiY2lyY2xlLnBvaW50MVwiKVxuICAgICAgICAgICAgICAgIC5kYXRhKHRoaXMuZGF0YSlcblxuICAgICAgICAgICAgcG9pbnRzMS5lbnRlcigpLmFwcGVuZChcImNpcmNsZVwiKVxuICAgICAgICAgICAgICAgIC5tZXJnZShwb2ludHMxKVxuICAgICAgICAgICAgICAgIC5hdHRyKFwiY2xhc3NcIiwgXCJwb2ludDFcIilcbiAgICAgICAgICAgICAgICAuYXR0cihcImN1cnNvclwiLCBcInBvaW50ZXJcIilcbiAgICAgICAgICAgICAgICAuc3R5bGUoXCJzdHJva2VcIiwgdGhpcy5saW5lQ29sb3IpXG4gICAgICAgICAgICAgICAgLnN0eWxlKFwiZmlsbFwiLCB0aGlzLmxpbmVDb2xvcilcbiAgICAgICAgICAgICAgICAuYXR0cihcImN4XCIsIChkKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB4KFxuICAgICAgICAgICAgICAgICAgICAgICAgZFtPYmplY3Qua2V5cyhkKVswXV1cbiAgICAgICAgICAgICAgICAgICAgKTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5hdHRyKFwiY3lcIiwgKGQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHkoXG4gICAgICAgICAgICAgICAgICAgICAgICBkW2xpbmVOYW1lXVxuICAgICAgICAgICAgICAgICAgICApO1xuICAgICAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAgICAgLmF0dHIoXCJyXCIsIChkKSA9PiB7IHJldHVybiA1OyB9KVxuICAgICAgICAgICAgICAgIC5hdHRyKFwidHJhbnNmb3JtXCIsIFwidHJhbnNsYXRlKCBcIiArIHNoaWZ0ICsgXCIsIDIwIClcIilcbiAgICAgICAgICAgICAgICAub24oXCJtb3VzZW92ZXJcIiwgKGQpID0+IHtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRvb2x0aXAuc3R5bGUoXCJ2aXNpYmlsaXR5XCIsIFwidmlzaWJsZVwiKTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5vbihcIm1vdXNlbW92ZVwiLCAoZCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICByZXR1cm4gdG9vbHRpcC5odG1sKFxuICAgICAgICAgICAgICAgICAgICAgICAgdGhpcy5mb3JtVG9vbHRpcExpbmVEYXRhKGQpKVxuICAgICAgICAgICAgICAgICAgICAgICAgLnN0eWxlKFwidG9wXCIsIChkMy5ldmVudC5wYWdlWSAtIDEwKSArIFwicHhcIilcbiAgICAgICAgICAgICAgICAgICAgICAgIC5zdHlsZShcImxlZnRcIiwgKGQzLmV2ZW50LnBhZ2VYICsgMTApICsgXCJweFwiKTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5vbihcIm1vdXNlb3V0XCIsIChkKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHJldHVybiB0b29sdGlwLnN0eWxlKFwidmlzaWJpbGl0eVwiLCBcImhpZGRlblwiKTtcbiAgICAgICAgICAgICAgICB9KVxuICAgICAgICAgICAgICAgIC5vbihcImNsaWNrXCIsIChkKSA9PiB7XG4gICAgICAgICAgICAgICAgICAgIHRoaXMub25Db21ib0xpbmVDbGljayhkKTtcbiAgICAgICAgICAgICAgICAgICAgdGhpcy5mb3JkcmlsbGFibGVDbGljayh0aGlzLCBkLGV2ZW50KTtcbiAgICAgICAgICAgICAgICAgICAgcmV0dXJuIHRvb2x0aXAuc3R5bGUoXCJ2aXNpYmlsaXR5XCIsIFwiaGlkZGVuXCIpO1xuICAgICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICAgLy9saW5lIGNvZGUgZW5kc1xuICAgICAgICB9XG5cblxuICAgIH1cblxuICAgIHBsb3RMaW5lKGcseCx5LGhlaWdodCx3aWR0aClcbntcblxuICAgIGlmKHRoaXMuaFNjYWxlKXtcbiAgICAgICAgZy5hcHBlbmQoJ2cnKVxuICAgICAgICAgICAgLmF0dHIoXCJjb2xvclwiLCBcImxpZ2h0Z3JleVwiKVxuICAgICAgICAgICAgLmNhbGwoZDMuYXhpc0xlZnQoeSlcbiAgICAgICAgICAgIC4gdGlja1NpemUoLXdpZHRoKS50aWNrRm9ybWF0KCcnKSk7ICAgICBcbiAgICB9XG59XG4gICAgZm9ybVRvb2x0aXBEYXRhKHRvb2x0aXBEYXRhOiBhbnkpIHtcbiAgICAgICAgbGV0IG9iamVjdCA9IHt9O1xuICAgICAgICBmb3IgKGxldCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXModG9vbHRpcERhdGEpKSB7XG4gICAgICAgICAgICBpZiAoa2V5ICE9ICdjb2xvcicpIHtcbiAgICAgICAgICAgICAgICBvYmplY3Rba2V5XSA9IHZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHJldHVybiB0aGlzLnRvb2xUaXBGb3JCYXIob2JqZWN0KTtcbiAgICB9XG5cbiAgICB0cmFuc2Zvcm1EYXRhKGRhdGE6IGFueSkge1xuICAgICAgICB0aGlzLnRyYW5zZm9ybWVkZGF0YT1bXTtcbiAgICAgICAgdGhpcy5rZXlBcnJheSA9IGRhdGFbMF07XG4gICBcbiAgICAgICAgZGF0YS5mb3JFYWNoKChlbGVtZW50LCBpbmRleCkgPT4ge1xuICAgICAgICAgICAgaWYgKGluZGV4ID4gMCkge1xuICAgICAgICAgICAgICAgIGxldCBEdW1teU9iamVjdCA9IHt9O1xuICAgICAgICAgICAgICAgIGVsZW1lbnQuZm9yRWFjaCgoaW5kaXZpZHVhbHZhbHVlLCBrZXlpbmRleCkgPT4ge1xuICAgICAgICAgICAgICAgICAgICBEdW1teU9iamVjdFt0aGlzLmtleUFycmF5W2tleWluZGV4XV0gPSBpbmRpdmlkdWFsdmFsdWU7XG4gICAgICAgICAgICAgICAgfSk7Ly9pbm5lciBmb3IgbG9vcCBlbmRzXG4gICAgICAgICAgICAgICAgdGhpcy50cmFuc2Zvcm1lZGRhdGEucHVzaChEdW1teU9iamVjdCk7XG4gICAgICAgICAgICB9Ly9pZiBlbmRzXG4gICAgICAgIH0pOy8vb3V0ZXIgZm9yIGxvb3AgZW5kc1xuICAgICAgICB0aGlzLmRhdGEgPSB0aGlzLnRyYW5zZm9ybWVkZGF0YTtcbiAgICB9XG5cbiAgICBmb3JtTGVnZW5kRGF0YSgpIHtcbiAgICAgICAgdGhpcy5sZWdlbmRBcnJheSA9IFtdO1xuICAgICAgICB0aGlzLmRhdGEuZm9yRWFjaChlbGVtZW50ID0+IHtcbiAgICAgICAgICAgIGxldCBsZWdlbmRvYmplY3QgPSB7fTtcbiAgICAgICAgICAgIGxlZ2VuZG9iamVjdFsnbGFiZWwnXSA9IGVsZW1lbnRbT2JqZWN0LmtleXMoZWxlbWVudClbMF1dO1xuICAgICAgICAgICAgbGVnZW5kb2JqZWN0Wyd2YWx1ZSddID0gZWxlbWVudFtPYmplY3Qua2V5cyhlbGVtZW50KVsxXV07XG4gICAgICAgICAgICBsZWdlbmRvYmplY3RbJ2NvbG9yJ10gPSBlbGVtZW50LmNvbG9yO1xuICAgICAgICAgICAgdGhpcy5sZWdlbmRBcnJheS5wdXNoKGxlZ2VuZG9iamVjdCk7XG4gICAgICAgIH0pO1xuICAgIH1cblxuICAgIG9uQmFyTGVnZW5kQ2xpY2sobGVnZW5kZXZlbnQ6IGFueSkge1xuICAgICAgICBsZXQgb2JqID0ge307XG4gICAgICAgIG9ialt0aGlzLmtleUFycmF5WzBdXSA9IGxlZ2VuZGV2ZW50LmxhYmVsO1xuICAgICAgICBvYmpbdGhpcy5rZXlBcnJheVsxXV0gPSBsZWdlbmRldmVudC52YWx1ZTtcbiAgICAgICAgdGhpcy5sZWdlbmRDbGljayhvYmopO1xuICAgIH1cblxuXG4gICAgYmFyQ2hhcnRDbGljayhldmVudDogYW55KSB7XG4gICAgICAgIGxldCBvYmplY3QgPSB7fTtcbiAgICAgICAgZm9yIChsZXQgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKGV2ZW50KSkge1xuICAgICAgICAgICAgaWYgKGtleSAhPSAnY29sb3InKSB7XG4gICAgICAgICAgICAgICAgb2JqZWN0W2tleV0gPSB2YWx1ZTtcbiAgICAgICAgICAgIH1cbiAgICAgICAgfVxuICAgICAgICB0aGlzLmNoYXJ0Q2xpY2sob2JqZWN0KTtcbiAgICB9XG5cbiAgICBvbkNvbWJvTGluZUNsaWNrKGRhdGE6IGFueSkge1xuICAgICAgICBsZXQgb2JqZWN0ID0ge307XG4gICAgICAgIGZvciAobGV0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhkYXRhKSkge1xuICAgICAgICAgICAgaWYgKGtleSAhPSBcImNvbG9yXCIpIHtcbiAgICAgICAgICAgICAgICBvYmplY3Rba2V5XSA9IHZhbHVlO1xuICAgICAgICAgICAgfVxuICAgICAgICB9XG4gICAgICAgIHRoaXMuY29tYm9MaW5lQ2xpY2sob2JqZWN0KTtcbiAgICAgICAgLy90aGlzLmNoYXJ0Q2xpY2sob2JqZWN0KTtcbiAgICB9XG5cbiAgICBmb3JtVG9vbHRpcExpbmVEYXRhKGRhdGE6IGFueSkge1xuICAgICAgICBsZXQgb2JqZWN0ID0ge307XG4gICAgICAgIGZvciAobGV0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhkYXRhKSkge1xuICAgICAgICAgICAgaWYgKGtleSA9PSB0aGlzLmxpbmVJbnB1dCkge1xuICAgICAgICAgICAgICAgIG9iamVjdFtrZXldID0gdmFsdWU7XG4gICAgICAgICAgICB9XG4gICAgICAgIH1cbiAgICAgICAgcmV0dXJuIHRoaXMudG9vbFRpcEZvckJhcihvYmplY3QpO1xuICAgIH1cblxuICAgIHJlc2l6ZSgpIHtcblxuICAgICAgICB0aGlzLnN2Z3dpZHRoID0gMDtcbiAgICAgIHRoaXMuc3ZnLnNlbGVjdEFsbChcIipcIikucmVtb3ZlKCk7XG5cbiAgICAgdGhpcy5yZXNpemVmbGFnID0gdHJ1ZTtcbiAgICAgdGhpcy5zdmd3aWR0aCA9IHRoaXMuZGl2aWQubmF0aXZlRWxlbWVudC5vZmZzZXRXaWR0aDtcbiAgIC8vICB0aGlzLnN2Z2hlaWdodD10aGlzLm9mZnNldGhlaWdodDtcbiAgICAgdGhpcy5wbG90RDNDaGFydCgpO1xuXG4gICAgfVxuXG5cbn1cbiIsImltcG9ydCB7IENvbXBvbmVudCwgSW5wdXQsIFZpZXdDaGlsZCwgRWxlbWVudFJlZiwgT25Jbml0IH0gZnJvbSBcIkBhbmd1bGFyL2NvcmVcIjtcbmltcG9ydCB7IEFtZXhpb0QzQmFzZUNoYXJ0Q29tcG9uZW50IH0gZnJvbSBcIi4uL2Jhc2UvYmFzZS5jb21wb25lbnRcIjtcbmltcG9ydCB7IFBsb3RDYXJ0IH0gZnJvbSBcIi4uL2Jhc2UvY2hhcnQuY29tcG9uZW50XCI7XG5pbXBvcnQgeyBDb21tYW5EYXRhU2VydmljZSB9IGZyb20gJy4uL3NlcnZpY2VzL2NvbW1hbi5kYXRhLnNlcnZpY2UnO1xuaW1wb3J0IHsgRGV2aWNlUXVlcnlTZXJ2aWNlIH0gZnJvbSAnLi4vc2VydmljZXMvZGV2aWNlLnF1ZXJ5LnNlcnZpY2UnO1xuaW1wb3J0ICogYXMgZDMgZnJvbSAnZDMnO1xuQENvbXBvbmVudCh7XG4gIHNlbGVjdG9yOiAnYW1leGlvLWQzLWNoYXJ0LWhpc3RvZ3JhbScsXG4gIHRlbXBsYXRlOiBgPGRpdiAgICpuZ0lmPVwiZHJpbGxhYmxlRmxhZ1wiICNkaXZpZCAod2luZG93OnJlc2l6ZSk9XCJyZXNpemUoKVwiID5cbjx0YWJsZSBzdHlsZT1cIndpZHRoOiAxMDAlO1wiICNjaGFydElkID5cbiAgICAgICAgPHRyPlxuICAgICAgICAgICAgPHRkIGNvbHNwYW49XCIyXCIgc3R5bGU9XCJmb250LXNpemU6IDE4cHg7IGZvbnQtd2VpZ2h0OiBib2xkOyBcIj4ge3t0aXRsZX19IDwvdGQ+XG4gICAgICAgIDwvdHI+XG4gICAgICAgIDx0cj5cbiAgICAgICAgICAgIDx0ZD5cbiAgICAgICAgICAgICAgICA8c3ZnIFthdHRyLmhlaWdodF09XCJzdmdoZWlnaHRcIiBbYXR0ci53aWR0aF09XCJzdmd3aWR0aFwiIFthdHRyLmlkXT1cImNvbXBvbmVudElkXCI+XG4gICAgICAgICAgICAgICAgPC9zdmc+XG4gICAgICAgICAgICA8L3RkPlxuICAgICAgICA8L3RyPlxuICAgICAgICA8dHI+XG4gICAgICAgICAgICA8dGQgc3R5bGU9XCJkaXNwbGF5OiBibG9jazsgcGFkZGluZzogNXB4O1wiPlxuICAgICAgICAgICAgICAgIDxhbWV4aW8tZDMtbGVnZW5kICpuZ0lmPVwibGVnZW5kXCIgW2hvcml6b250YWxdPVwidHJ1ZVwiIChvbkNsaWNrKT1cImxlZ2VuZENsaWNrKCRldmVudClcIiBbZGF0YV09XCJsZWdlbmRzXCIgc3R5bGU9XCJoZWlnaHQ6MTAwJTtcIj48L2FtZXhpby1kMy1sZWdlbmQ+XG4gICAgICAgICAgICA8L3RkPlxuICAgICAgICA8L3RyPlxuICAgIDwvdGFibGU+XG48L2Rpdj5cbmAsXG4gIHN0eWxlczogW2AuYmFye2JhY2tncm91bmQtY29sb3I6IzM5NDNjZjtwYWRkaW5nOi4wMnB4fWBdXG59KVxuZXhwb3J0IGNsYXNzIEhpc3RvZ3JhbUNvbXBvbmVudCBleHRlbmRzIEFtZXhpb0QzQmFzZUNoYXJ0Q29tcG9uZW50IGltcGxlbWVudHMgT25Jbml0IHtcbiAgQElucHV0KCd3aWR0aCcpIHN2Z3dpZHRoOiBudW1iZXIgPSAzMDA7XG4gIEBJbnB1dCgnaGVpZ2h0Jykgc3ZnaGVpZ2h0OiBudW1iZXIgPSA0MDA7XG4gIEBJbnB1dCgnY29sb3InKSBjb2xvcjogc3RyaW5nID0gXCJibHVlXCI7XG4gIEBJbnB1dCgnZGF0YScpIGRhdGFoaXN0bzogYW55O1xuICBASW5wdXQoJ2xhYmVsJykgbGFiZWxmbGFnOiBib29sZWFuID0gZmFsc2U7XG4gIEBJbnB1dCgnbGFiZWwtY29sb3InKSBsYWJlbGNvbG9yOiBzdHJpbmcgPSBcImJsYWNrXCI7XG4gIEBJbnB1dCgnaG9yaXpvbnRhbC1zY2FsZScpIGhTY2FsZTogYm9vbGVhbiA9IHRydWU7XG4gIEBWaWV3Q2hpbGQoJ2NoYXJ0SWQnKSBjaGFydElkOiBFbGVtZW50UmVmO1xuICBAVmlld0NoaWxkKCdkaXZpZCcpIGRpdmlkOiBFbGVtZW50UmVmO1xuICBASW5wdXQoJ2RhdGEtcmVhZGVyJykgZGF0YXJlYWRlcjogc3RyaW5nO1xuICBASW5wdXQoJ2xldmVsJykgbGV2ZWw6IG51bWJlciA9IDA7XG4gIEBJbnB1dCgndGFyZ2V0JykgdGFyZ2V0OiBudW1iZXI7XG4gIEBJbnB1dCgnZHJpbGxhYmxlLWRhdGEnKSBkcmlsbGFibGVkYXRha2V5OiBhbnlbXSA9IFtdXG4gIGh0dHByZXNwb25zZTogYW55O1xuICBzdmc6IGFueTtcbiAgcmVzaXplZmxhZzogYm9vbGVhbiA9IGZhbHNlO1xuICBkcmlsbGFibGVGbGFnOiBib29sZWFuID0gdHJ1ZTtcbiAgZGF0YTE6IGFueTtcbiAgdmFsdWVzOiBhbnlbXSA9IFtdO1xuICBhcnJheTogYW55W10gPSBbXTtcbiAgeGF4aXNBcnJheTogYW55W10gPSBbXTtcbiAgeWF4aXNBcnJheTogYW55W10gPSBbXTtcbiAgeWF4aXNEYXRhOiBhbnlbXSA9IFtdO1xuICBoaXN0b2dyYW1hcnJheTogYW55W10gPSBbXTtcbiAgaGlzdG9ncmFtZGF0YTogYW55W10gPSBbXVxuICBsZW5ndGhhcnJheTogYW55W10gPSBbXTtcbiAgYXJyYXlvZkxlbmd0aDogYW55W10gPSBbXTtcbiAgY2hhcnREYXRhOiBhbnlbXSA9IFtdO1xuICBmaW5hbGRhdGFhcnJheTogYW55W10gPSBbXTtcbiAgbGVnZW5kQXJyYXk6IGFueVtdO1xuICBrZXlBcnJheTogYW55W107XG4gIHByZWRlZmluZWRjb2xvcnM6IGFueVtdO1xuICBsZWdlbmRzOiBhbnlbXTtcbiAgY2hhcnR0eXBlOiBzdHJpbmc7XG4gIGRhdGE6IGFueVtdO1xuICBkYXRhcmVhZGVyZGF0YTogYW55W107XG4gIHhheGlzOiBhbnk7XG4gIHRlbXBwOiBhbnk7XG4gIHRvb2x0aXBBcnJheTogYW55W10gPSBbXTtcbiAgaW5kZXggPSAwO1xuICBjb25zdHJ1Y3Rvcihwcml2YXRlIG15c2VydmljZTogQ29tbWFuRGF0YVNlcnZpY2UsIHByaXZhdGUgZGV2aWNlOiBEZXZpY2VRdWVyeVNlcnZpY2UpIHtcbiAgICBzdXBlcignaGlzdG9ncmFtJyk7XG4gIH1cblxuICBuZ09uSW5pdCgpIHtcbiAgICBsZXQgcmVzOiBhbnlcbiAgICBpZiAodGhpcy5sZXZlbCA8PSAxKSB7XG4gICAgICBpZiAodGhpcy5odHRwbWV0aG9kICYmIHRoaXMuaHR0cHVybCkge1xuICAgICAgICB0aGlzLm15c2VydmljZS5mZXRjaFVybERhdGEodGhpcy5odHRwdXJsLCB0aGlzLmh0dHBtZXRob2QpLnN1YnNjcmliZSgocmVzcG9uc2UpID0+IHtcbiAgICAgICAgICByZXMgPSByZXNwb25zZTtcbiAgICAgICAgICB0aGlzLmh0dHByZXNwb25zZSA9IHJlc3BvbnNlO1xuICAgICAgICB9LCAoZXJyb3IpID0+IHtcbiAgICAgICAgfSwgKCkgPT4ge1xuICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgICAgdGhpcy5kYXRhaGlzdG8gPSBbXTtcbiAgICAgICAgICAgIHRoaXMuZGF0YWhpc3RvID0gdGhpcy5nZXRSZXNwb25zZURhdGEocmVzKTtcbiAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtRGF0YSgpXG4gICAgICAgICAgICB0aGlzLnBsb3RYYXhpcygpO1xuICAgICAgICAgICAgdGhpcy5wbG90WWF4aXMoKTtcbiAgICAgICAgICAgIHRoaXMudG9vbHRpcERhdGEoKTtcbiAgICAgICAgICAgIHRoaXMuZGF0YWZvckNoYXJ0KCk7XG4gICAgICAgICAgICB0aGlzLnRyYW5zZm9ybURhdGExKHRoaXMuZmluYWxkYXRhYXJyYXkpO1xuICAgICAgICAgICAgdGhpcy5wbG90Q2hhcnQoKTtcblxuICAgICAgICAgIH0sIDApO1xuXG4gICAgICAgIH0pO1xuXG4gICAgICB9IGVsc2UgaWYgKHRoaXMuZGF0YWhpc3RvKSB7XG5cblxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICB0aGlzLmRhdGFoaXN0byA9IHRoaXMuZ2V0UmVzcG9uc2VEYXRhKHRoaXMuZGF0YWhpc3RvKTtcbiAgICAgICAgICB0aGlzLnRyYW5zZm9ybURhdGEoKVxuICAgICAgICAgIHRoaXMucGxvdFhheGlzKCk7XG4gICAgICAgICAgdGhpcy5wbG90WWF4aXMoKTtcbiAgICAgICAgICB0aGlzLnRvb2x0aXBEYXRhKCk7XG4gICAgICAgICAgdGhpcy5kYXRhZm9yQ2hhcnQoKTtcbiAgICAgICAgICB0aGlzLnRyYW5zZm9ybURhdGExKHRoaXMuZmluYWxkYXRhYXJyYXkpO1xuICAgICAgICAgIHRoaXMucGxvdENoYXJ0KCk7XG5cbiAgICAgICAgfSwgMCk7XG5cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmZXRjaERhdGEoZGF0YTogYW55KSB7XG5cbiAgICBsZXQgcmVxdWVzdEpzb247XG4gICAgbGV0IGtleSA9IHRoaXMuZHJpbGxhYmxlZGF0YWtleTtcbiAgICBsZXQgcmVzcDogYW55O1xuICAgIGlmICh0aGlzLmRyaWxsYWJsZWRhdGFrZXkubGVuZ3RoKSB7XG4gICAgICBsZXQgZHJpbGxhYmxlZGF0YSA9IHRoaXMuZ2V0TXVsdGlwbGVEcmlsbGJsZUtleURhdGEoZGF0YSwga2V5KTtcbiAgICAgIHJlcXVlc3RKc29uID0gZHJpbGxhYmxlZGF0YTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICByZXF1ZXN0SnNvbiA9IGRhdGE7XG4gICAgfVxuXG5cbiAgICBpZiAodGhpcy5odHRwbWV0aG9kICYmIHRoaXMuaHR0cHVybCkge1xuICAgICAgdGhpcy5teXNlcnZpY2UucG9zdGZldGNoRGF0YSh0aGlzLmh0dHB1cmwsIHRoaXMuaHR0cG1ldGhvZCwgcmVxdWVzdEpzb24pLnN1YnNjcmliZSgocmVzcG9uc2UpID0+IHtcbiAgICAgICAgcmVzcCA9IHJlc3BvbnNlO1xuICAgICAgICB0aGlzLmh0dHByZXNwb25zZSA9IHJlc3BvbnNlO1xuICAgICAgfSwgKGVycm9yKSA9PiB7XG4gICAgICB9LCAoKSA9PiB7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgIC8vdGhpcy5kYXRhID0gdGhpcy5nZXRSZXNwb25zZURhdGEocmVzcCk7XG4gICAgICAgICAgdGhpcy5kcmF3Q2hhcnQoKTtcbiAgICAgICAgfSwgMCk7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBkcmF3Q2hhcnQoKSB7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICB0aGlzLmRhdGFoaXN0byA9IHRoaXMuZ2V0UmVzcG9uc2VEYXRhKHRoaXMuaHR0cHJlc3BvbnNlKTtcbiAgICAgIHRoaXMudHJhbnNmb3JtRGF0YSgpXG4gICAgICB0aGlzLnBsb3RYYXhpcygpO1xuICAgICAgdGhpcy5wbG90WWF4aXMoKTtcbiAgICAgIHRoaXMudG9vbHRpcERhdGEoKTtcbiAgICAgIHRoaXMuZGF0YWZvckNoYXJ0KCk7XG4gICAgICB0aGlzLnRyYW5zZm9ybURhdGExKHRoaXMuZmluYWxkYXRhYXJyYXkpO1xuICAgICAgdGhpcy5wbG90Q2hhcnQoKTtcbiAgICB9LCAwKTtcbiAgfVxuXG4gIGdldFJlc3BvbnNlRGF0YShodHRwUmVzcG9uc2U6IGFueSkge1xuICAgIGxldCByZXNwb25zZWRhdGEgPSBodHRwUmVzcG9uc2U7XG4gICAgaWYgKHRoaXMuZGF0YXJlYWRlciAhPSBudWxsKSB7XG4gICAgICBjb25zdCBkciA9IHRoaXMuZGF0YXJlYWRlci5zcGxpdCgnLicpO1xuICAgICAgZm9yIChjb25zdCBpciBvZiBkcikge1xuICAgICAgICByZXNwb25zZWRhdGEgPSByZXNwb25zZWRhdGFbaXJdO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICByZXNwb25zZWRhdGEgPSBodHRwUmVzcG9uc2U7XG4gICAgfVxuICAgIHJldHVybiByZXNwb25zZWRhdGE7XG4gIH1cblxuICB0cmFuc2Zvcm1EYXRhMShkYXRhMTogYW55KSB7XG4gICAgdGhpcy5rZXlBcnJheSA9IFtdO1xuICAgIHRoaXMubGVnZW5kQXJyYXkgPSBbXTtcbiAgICBkYXRhMS5mb3JFYWNoKChlbGVtZW50LCBpKSA9PiB7XG4gICAgICBpZiAoaSA9PSAwKSB7XG4gICAgICAgIGVsZW1lbnQuZm9yRWFjaCgoaW5uZXJlbGVtZW50LCBpbmRleCkgPT4ge1xuICAgICAgICAgIGlmIChpbmRleCA+IDApIHtcbiAgICAgICAgICAgIHRoaXMubGVnZW5kQXJyYXlbaW5uZXJlbGVtZW50XSA9IHsgJ2RhdGEnOiBbXSB9O1xuICAgICAgICAgICAgdGhpcy5rZXlBcnJheS5wdXNoKGlubmVyZWxlbWVudCk7XG4gICAgICAgICAgfVxuICAgICAgICAgIGVsc2UgaWYgKGluZGV4ID09IDApIHtcbiAgICAgICAgICAgIHRoaXMueGF4aXMgPSBpbm5lcmVsZW1lbnQ7XG4gICAgICAgICAgfVxuICAgICAgICB9KTtcbiAgICAgIH1cbiAgICB9KTtcbiAgICBsZXQgdGVtcGlubmVyYXJyYXk6IGFueVtdO1xuICAgIHRlbXBpbm5lcmFycmF5ID0gW107XG4gICAgZGF0YTEuZm9yRWFjaCgoZWxlbWVudCwgaW5kZXgpID0+IHtcbiAgICAgIGlmIChpbmRleCA+IDApIHtcbiAgICAgICAgbGV0IG9iajogYW55ID0ge307XG4gICAgICAgIGVsZW1lbnQuZm9yRWFjaCgoaW5uZXJlbGVtZW50LCBpbm5lcmluZGV4KSA9PiB7XG4gICAgICAgICAgaWYgKGlubmVyaW5kZXggPj0gMCkge1xuICAgICAgICAgICAgY29uc3Qga2V5ID0gdGhpcy5rZXlBcnJheVtpbm5lcmluZGV4IC0gMV07XG4gICAgICAgICAgICBvYmpba2V5XSA9IGVsZW1lbnRbaW5uZXJpbmRleF07XG4gICAgICAgICAgICBjb25zdCBsZWdlbmRkYXRhID0gdGhpcy5sZWdlbmRBcnJheVtrZXldO1xuICAgICAgICAgICAgaWYgKGxlZ2VuZGRhdGEpIHtcbiAgICAgICAgICAgICAgbGVnZW5kZGF0YS5kYXRhLnB1c2goeyAndmFsdWUnOiBlbGVtZW50W2lubmVyaW5kZXhdLCAnbGFiZWwnOiBlbGVtZW50WzBdIH0pO1xuICAgICAgICAgICAgfVxuICAgICAgICAgIH1cbiAgICAgICAgfSk7XG4gICAgICAgIHRlbXBpbm5lcmFycmF5LnB1c2gob2JqKTtcbiAgICAgIH1cblxuICAgIH0pO1xuICAgIHRoaXMuZGF0YSA9IFtdO1xuICAgIHRlbXBpbm5lcmFycmF5LmZvckVhY2goZWxlbWVudCA9PiB7XG4gICAgICB0aGlzLmRhdGEucHVzaChlbGVtZW50KTtcbiAgICB9KTtcbiAgICB0aGlzLmxlZ2VuZHMgPSBbXTtcbiAgICBsZXQgZWxlbWVudCA9IHRoaXMuZGF0YWhpc3RvWzBdO1xuICAgIGxldCBvYmplY3QgPSB7ICdsYWJlbCc6IGVsZW1lbnRbMV0gKyBcIiBcIiArIFwib2ZcIiArIFwiIFwiICsgZWxlbWVudFswXSwgJ2NvbG9yJzogdGhpcy5jb2xvciB9O1xuICAgIHRoaXMubGVnZW5kcy5wdXNoKG9iamVjdCk7XG4gIH1cblxuICBwbG90Q2hhcnQoKSB7XG5cbiAgICBjb25zdCB0b29sdGlwID0gdGhpcy50b29sVGlwKGQzKTtcbiAgICBsZXQgZGF0YTtcbiAgICBkYXRhID0gdGhpcy5kYXRhO1xuICAgIGxldCBrZXlzZXRhcnJheTogc3RyaW5nW10gPSBbXTtcbiAgICBsZXQgc2VyaWVzO1xuICAgIHNlcmllcyA9IFtdO1xuICAgIHNlcmllcyA9IGQzLnN0YWNrKCkua2V5cyh0aGlzLmtleUFycmF5KVxuICAgICAgLm9mZnNldChkMy5zdGFja09mZnNldERpdmVyZ2luZylcbiAgICAgICh0aGlzLmRhdGEpO1xuICAgIGxldCBpID0gMDtcbiAgICBsZXQgdGVtcGRhdGE7XG4gICAgdGVtcGRhdGEgPSBbXTtcbiAgICB0ZW1wZGF0YSA9IHNlcmllcztcbiAgICB0ZW1wZGF0YS5mb3JFYWNoKGVsZW1lbnQgPT4ge1xuICAgICAgZWxlbWVudC5mb3JFYWNoKGlubmVyZWxlbWVudCA9PiB7XG4gICAgICAgIGxldCBzaW5nbGV0b29sdGlwID0gW107XG4gICAgICAgIHNpbmdsZXRvb2x0aXAucHVzaChpbm5lcmVsZW1lbnQuZGF0YS50b29sdGlwZGF0YVtpXSk7XG4gICAgICAgIGlubmVyZWxlbWVudC5wdXNoKHNpbmdsZXRvb2x0aXApO1xuICAgICAgfSk7XG4gICAgICBpKys7XG4gICAgfSk7XG5cbiAgICBsZXQgY2hhcnRkYXRhID0gW107XG4gICAgZm9yIChpID0gMDsgaSA8IHRlbXBkYXRhLmxlbmd0aCAtIDE7IGkrKykge1xuICAgICAgY2hhcnRkYXRhLnB1c2godGVtcGRhdGFbaV0pO1xuICAgIH1cbiAgICBpZiAodGhpcy5yZXNpemVmbGFnID09IGZhbHNlKSB7XG4gICAgICBpZiAodGhpcy5jaGFydElkKSB7XG4gICAgICAgIHRoaXMuc3Znd2lkdGggPSB0aGlzLmNoYXJ0SWQubmF0aXZlRWxlbWVudC5vZmZzZXRXaWR0aDtcbiAgICAgIH0gZWxzZSB7XG5cbiAgICAgICAgdGhpcy5zdmd3aWR0aCA9IHRoaXMuc3Znd2lkdGg7XG4gICAgICB9XG4gICAgfVxuICAgIGNvbnN0IG1hcmdpbiA9IHsgdG9wOiAyMCwgcmlnaHQ6IDIwLCBib3R0b206IDUwLCBsZWZ0OiA2MCB9O1xuICAgIGNvbnN0IHdpZHRoID0gdGhpcy5zdmd3aWR0aCAtIG1hcmdpbi5sZWZ0IC0gbWFyZ2luLnJpZ2h0O1xuICAgIGNvbnN0IGhlaWdodCA9IHRoaXMuc3ZnaGVpZ2h0IC0gbWFyZ2luLnRvcCAtIG1hcmdpbi5ib3R0b207XG5cbiAgICAvL2NvbnN0IGhlaWdodCA9ICtzdmcuYXR0cihcImhlaWdodFwiKSAtIG1hcmdpbi50b3AgLSBtYXJnaW4uYm90dG9tO1xuXG4gICAgbGV0IHgsIHk7XG5cbiAgICB0aGlzLnN2ZyA9IGQzLnNlbGVjdChcIiNcIiArIHRoaXMuY29tcG9uZW50SWQpXG4gICAgICAuYXR0cihcIndpZHRoXCIsIHdpZHRoICsgbWFyZ2luLmxlZnQgKyBtYXJnaW4ucmlnaHQpXG4gICAgICAuYXR0cihcImhlaWdodFwiLCBoZWlnaHQgKyBtYXJnaW4udG9wICsgbWFyZ2luLmJvdHRvbSlcbiAgICAgIC5hcHBlbmQoXCJnXCIpXG4gICAgICAuYXR0cihcInRyYW5zZm9ybVwiLCBcInRyYW5zbGF0ZShcIiArIG1hcmdpbi5sZWZ0ICsgXCIsXCIgKyBtYXJnaW4udG9wICsgXCIpXCIpO1xuXG4gICAgbGV0IGJhcldpZHRoID0gKHdpZHRoIC8gdGhpcy5jaGFydERhdGEubGVuZ3RoKTtcbiAgICBsZXQgaW5jID0gYmFyV2lkdGggLyAyO1xuICAgIHggPSBkMy5zY2FsZVBvaW50KClcbiAgICAgIC5kb21haW4odGhpcy54YXhpc0FycmF5LCBmdW5jdGlvbiAoZCkgeyByZXR1cm4gZDsgfSlcbiAgICAgIC5yYW5nZVJvdW5kKFswLCB3aWR0aF0pO1xuXG5cbiAgICB5ID0gZDMuc2NhbGVMaW5lYXIoKS5yYW5nZVJvdW5kKFtoZWlnaHQsIDBdKTtcbiAgICB5LmRvbWFpbihbMCwgZDMubWF4KHRoaXMuYXJyYXlvZkxlbmd0aCldKTtcblxuICAgIGxldCB6ID0gZDMuc2NhbGVPcmRpbmFsKGQzLnNjaGVtZUNhdGVnb3J5MTApO1xuICAgIHRoaXMuYXJyYXlvZkxlbmd0aCA9IFtdO1xuICAgIC8vIGFkZCB4IGF4aXMgdG8gc3ZnXG5cbiAgICBpZiAodGhpcy5kZXZpY2UuSXNEZXNrdG9wKCkgPT0gdHJ1ZSkge1xuICAgICAgdGhpcy5zdmcuYXBwZW5kKFwiZ1wiKVxuICAgICAgICAuYXR0cihcInRyYW5zZm9ybVwiLCBcInRyYW5zbGF0ZSgwLFwiICsgaGVpZ2h0ICsgXCIpXCIpXG4gICAgICAgIC5jYWxsKGQzLmF4aXNCb3R0b20oeCkpXG4gICAgfVxuICAgIGVsc2Uge1xuICAgICAgdGhpcy5zdmcuYXBwZW5kKFwiZ1wiKVxuICAgICAgICAuYXR0cihcInRyYW5zZm9ybVwiLCBcInRyYW5zbGF0ZSgwLFwiICsgaGVpZ2h0ICsgXCIpXCIpXG4gICAgICAgIC5jYWxsKGQzLmF4aXNCb3R0b20oeCkpLlxuICAgICAgICBzZWxlY3RBbGwoXCJ0ZXh0XCIpXG4gICAgICAgIC5hdHRyKFwieVwiLCAwKVxuICAgICAgICAuYXR0cihcInhcIiwgOSlcbiAgICAgICAgLmF0dHIoXCJkeVwiLCBcIi4zNWVtXCIpXG4gICAgICAgIC5hdHRyKFwidHJhbnNmb3JtXCIsIFwicm90YXRlKDYwKVwiKVxuICAgICAgICAuc3R5bGUoXCJ0ZXh0LWFuY2hvclwiLCBcInN0YXJ0XCIpO1xuXG4gICAgfVxuXG4gICAgbGV0IGhvcml6b250YWxwYWRkaW5nID0gMC4wNTtcbiAgICAvL2FkZCB5IGF4aXMgdG8gc3ZnXG4gICAgdGhpcy5zdmcuYXBwZW5kKFwiZ1wiKVxuICAgICAgLmNhbGwoZDMuYXhpc0xlZnQoeSkpO1xuXG4gICAgdGhpcy5wbG90TGluZSh0aGlzLnN2ZywgeCwgeSwgaGVpZ2h0LCB3aWR0aCk7XG4gICBcbiBsZXQgaGlzdG9ncmFtQmFyID0gdGhpcy5zdmcuYXBwZW5kKFwiZ1wiKVxuICAgICAgLnNlbGVjdEFsbChcImdcIilcbiAgICAgIC5kYXRhKGNoYXJ0ZGF0YSlcbiAgICAgIC5lbnRlcigpLmFwcGVuZChcImdcIilcbiAgICAgIC5hdHRyKFwiZmlsbFwiLCB0aGlzLmNvbG9yKVxuICAgICAgLnNlbGVjdEFsbChcInJlY3RcIilcbiAgICAgIC5kYXRhKChkKSA9PiB7XG4gICAgICAgIHJldHVybiBkO1xuICAgICAgfSlcblxuICAgIGxldCBoaXN0b2dyYW1CYXIxID0gdGhpcy5zdmcuYXBwZW5kKFwiZ1wiKVxuICAgICAgLnNlbGVjdEFsbChcImdcIilcbiAgICAgIC5kYXRhKGNoYXJ0ZGF0YSlcbiAgICAgIC5lbnRlcigpLmFwcGVuZChcImdcIilcbiAgICAgIC8vIC5hdHRyKFwiZmlsbFwiLCB0aGlzLmNvbG9yKVxuICAgICAgLnNlbGVjdEFsbChcImxhYmVsc1wiKVxuICAgICAgLmRhdGEoKGQpID0+IHtcbiAgICAgICAgcmV0dXJuIGQ7XG4gICAgICB9KVxuICAgIGxldCBjbnQgPSAwO1xuXG5cbiAgICBoaXN0b2dyYW1CYXIuZW50ZXIoKS5hcHBlbmQoXCJyZWN0XCIpXG4gICAgICAuYXR0cihcIndpZHRoXCIsIGJhcldpZHRoIC0gMSlcbiAgICAgIC5hdHRyKFwieVwiLCAoZCwgaW5kZXgpID0+IHtcbiAgICAgICAgY250Kys7XG4gICAgICAgIHJldHVybiB5KGRbMV0pO1xuICAgICAgfSlcbiAgICAgIC5hdHRyKFwiY3Vyc29yXCIsIFwicG9pbnRlclwiKVxuICAgICAgLmF0dHIoXCJoZWlnaHRcIiwgKGQsIGluZGV4KSA9PiB7XG4gICAgICAgIHJldHVybiBNYXRoLmFicyh5KGRbMF0pIC0geShkWzFdIC0gaG9yaXpvbnRhbHBhZGRpbmcpKTtcbiAgICAgIH0pXG4gICAgICAuYXR0cihcInRyYW5zZm9ybVwiLCBmdW5jdGlvbiAoZCwgaSkge1xuICAgICAgICB2YXIgdHJhbnNsYXRlID0gW2JhcldpZHRoICogaSwgMF07XG4gICAgICAgIHJldHVybiBcInRyYW5zbGF0ZShcIiArIHRyYW5zbGF0ZSArIFwiKVwiO1xuICAgICAgfSlcbiAgICAgIC5vbihcIm1vdXNlb3ZlclwiLCAoZCkgPT4ge1xuICAgICAgICByZXR1cm4gdG9vbHRpcC5zdHlsZShcInZpc2liaWxpdHlcIiwgXCJ2aXNpYmxlXCIpO1xuICAgICAgfSkub24oXCJtb3VzZW1vdmVcIixcbiAgICAgICAgKGQ6IGFueSkgPT4ge1xuICAgICAgICAgIGxldCBkYXRhID0gZFsyXTtcbiAgICAgICAgICByZXR1cm4gdG9vbHRpcC5odG1sKHRoaXMuc2V0S2V5KGRhdGFbMF0pKVxuICAgICAgICAgICAgLnN0eWxlKFwidG9wXCIsIChkMy5ldmVudC5wYWdlWSAtIDEwKSArIFwicHhcIilcbiAgICAgICAgICAgIC5zdHlsZShcImxlZnRcIiwgKGQzLmV2ZW50LnBhZ2VYICsgMTApICsgXCJweFwiKTtcblxuICAgICAgICB9KS5vbihcIm1vdXNlb3V0XCIsIChkKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIHRvb2x0aXAuc3R5bGUoXCJ2aXNpYmlsaXR5XCIsIFwiaGlkZGVuXCIpO1xuICAgICAgICB9KVxuICAgICAgLm9uKFwiY2xpY2tcIiwgKGQpID0+IHtcbiAgICAgICAgbGV0IGNsaWNrZGF0YSA9IGRbMl07XG4gICAgICAgIHRoaXMuaGlzdG9ncmFtQ2xpY2soY2xpY2tkYXRhWzBdKTtcbiAgICAgICAgdGhpcy5mb3JkcmlsbGFibGVDbGljayh0aGlzLCBkLCBldmVudCk7XG4gICAgICAgIHJldHVybiB0b29sdGlwLnN0eWxlKFwidmlzaWJpbGl0eVwiLCBcImhpZGRlblwiKTtcbiAgICAgIH0pO1xuICAgaWYodGhpcy5sYWJlbGZsYWcpIHtcbiAgICBoaXN0b2dyYW1CYXIxLmVudGVyKClcbiAgICAgIC5hcHBlbmQoXCJ0ZXh0XCIpXG4gICAgICAuc3R5bGUoXCJmb250LXdlaWdodFwiLCBcImJvbGRcIilcbiAgICAgIC5hdHRyKFwidGV4dC1hbmNob3JcIiwgXCJtaWRkbGVcIilcbiAgICAgIC5hdHRyKFwiZmlsbFwiLCAoZCkgPT4ge1xuICAgICAgICBpZih0aGlzLmxhYmVsY29sb3IubGVuZ3RoPjApe1xuICAgICAgICAgIHJldHVybiB0aGlzLmxhYmVsY29sb3I7XG4gICAgICAgIH0gZWxzZSB7XG4gICAgICAgIHJldHVybiBcImJsYWNrXCI7XG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgICAuYXR0cihcInlcIiwgZnVuY3Rpb24gKGQsIGkpIHtcbiAgICAgICAgcmV0dXJuIHkoZFsxXSk7XG4gICAgICB9KVxuICAgICAgLnRleHQoZnVuY3Rpb24gKGQpIHtcbiAgICAgICBcbiAgICAgICAgbGV0IGRhdGE6IGFueTtcbiAgICAgICAgbGV0IGRhdGEyOiBhbnk7XG4gICAgICAgIGRhdGEgPSBkWzJdO1xuICAgICAgICBkYXRhMiA9IGRhdGFbMF07XG4gICAgICAgIGlmIChkYXRhMikge1xuICAgICAgICAgIHJldHVybiBkYXRhMi52YWx1ZTtcbiAgICAgICAgfVxuICAgICAgICBlbHNlIHtcbiAgICAgICAgICByZXR1cm4gbnVsbDtcbiAgICAgICAgfVxuICAgICAgfSlcbiAgICAgIC5hdHRyKFwidHJhbnNmb3JtXCIsIGZ1bmN0aW9uIChkLCBpKSB7XG4gICAgICAgIHZhciB0cmFuc2xhdGUgPSBbKChiYXJXaWR0aCAqIGkpICsgYmFyV2lkdGggLyAyKSwgKE1hdGguYWJzKHkoZFswXSkgLSB5KGRbMV0gLSBob3Jpem9udGFscGFkZGluZykpKV07XG4gICAgICAgIHJldHVybiBcInRyYW5zbGF0ZShcIiArIHRyYW5zbGF0ZSArIFwiKVwiO1xuICAgICAgfSk7XG4gICAgfVxuXG4gICAgLy8gIC5hcHBlbmQoXCJsYWJlbFwiKVxuICAgIC8vIC8vICAuYXR0cihcIndpZHRoXCIsIGJhcldpZHRoIC0gMSlcbiAgICAvLyAgLmF0dHIoXCJ5XCIsIChkLCBpbmRleCkgPT4ge1xuICAgIC8vICAgIHJldHVybiB5KGRbMV0pO1xuICAgIC8vICB9KVxuICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuXG4gICAgLy8gICB0aGlzLnN2Zy5hcHBlbmQoXCJnXCIpXG4gICAgLy8gICAuc2VsZWN0QWxsKFwiZ1wiKVxuICAgIC8vICAgLmRhdGEoIGNoYXJ0ZGF0YSlcbiAgICAvLyAgIC5lbnRlciggKS5hcHBlbmQoXCJnXCIpXG4gICAgLy8gICAvLyAuYXR0cihcImZpbGxcIiwgdGhpcy5jb2xvcilcbiAgICAvLyAgIC8vIC5zZWxlY3RBbGwoXCJyZWN0XCIpXG4gICAgLy8gICAuZGF0YSgoZCkgPT4ge1xuICAgIC8vICAgICByZXR1cm4gZDtcbiAgICAvLyAgIH0pXG4gICAgLy8gICBoaXN0b2dyYW1CYXIuZW50ZXIoICApXG4gICAgLy8gICAuYXBwZW5kKFwidGV4dFwiKVxuICAgIC8vICAgLy8gLmF0dHIoXCJ3aWR0aFwiLCBiYXJXaWR0aCAtIDEpXG4gICAgLy8gICAuYXR0cihcInlcIiwgKGQsIGluZGV4KSA9PiB7XG4gICAgLy8gICAgIHJldHVybiB5KGRbMV0pO1xuICAgIC8vICAgfSlcbiAgICAvLyAgICAuYXR0cihcImhlaWdodFwiLCAoZCwgaW5kZXgpID0+IHtcbiAgICAvLyAgICAgcmV0dXJuIE1hdGguYWJzKHkoZFswXSkgLSB5KGRbMV0gLSBob3Jpem9udGFscGFkZGluZykpO1xuICAgIC8vICAgfSlcbiAgICAvLyAgIC5hdHRyKFwidHJhbnNmb3JtXCIsIGZ1bmN0aW9uIChkLCBpKSB7XG4gICAgLy8gICAgIHZhciB0cmFuc2xhdGUgPSBbYmFyV2lkdGggKiBpLCAwXTtcbiAgICAvLyAgICAgcmV0dXJuIFwidHJhbnNsYXRlKFwiICsgdHJhbnNsYXRlICsgXCIpXCI7XG4gICAgLy8gICB9KVxuICAgIC8vICAgLnRleHQoZnVuY3Rpb24oZCl7XG4gICAgLy8gICAgIGNvbnNvbGUubG9nKFwiYWtzYVwiKTtcbiAgICAvLyAgICAgICByZXR1cm4gXCJha3NhXCI7XG4gICAgLy8gICB9KVxuICAgIC8vICAgLnN0eWxlKFwiZm9udC13ZWlnaHRcIixcImJvbGRcIilcbiAgICAvLyAuYXR0cihcInRleHQtYW5jaG9yXCIsIFwibWlkZGxlXCIpXG4gICAgLy8gLmF0dHIoXCJmaWxsXCIsIChkKT0+e1xuICAgIC8vICAgICByZXR1cm4gXCJibGFja1wiO1xuICAgIC8vIH0pO1xuXG5cbiAgfVxuXG4gIGhpc3RvZ3JhbUNsaWNrKG9iajogYW55KSB7XG5cbiAgICBsZXQgb2JqZWN0ID0ge307XG4gICAgbGV0IGRhdGEgPSB0aGlzLmRhdGFoaXN0b1swXTtcbiAgICBsZXQgbGFiZWwxID0gZGF0YVsxXTtcbiAgICBsZXQgbGFiZWwyID0gZGF0YVswXTtcbiAgICBpZiAob2JqLmxhYmVsLmxlbmd0aCkge1xuICAgICAgb2JqZWN0W2xhYmVsMiArIFwiOlwiXSA9IG9iai5sYWJlbDtcbiAgICAgIG9iamVjdFtsYWJlbDEgKyBcIjpcIl0gPSBvYmoudmFsdWU7XG4gICAgfVxuXG4gICAgdGhpcy5jaGFydENsaWNrKG9iamVjdCk7XG4gIH1cblxuXG4gIGxlZ2VuZENsaWNrKGV2ZW50OiBhbnkpIHtcblxuICAgIHRoaXMub25MZWdlbmRDbGljay5lbWl0KHRoaXMuZGF0YWhpc3RvKTtcblxuICB9XG5cbiAgdHJhbnNmb3JtRGF0YSgpIHtcbiAgICB0aGlzLmFycmF5ID0gW107XG4gICAgdGhpcy52YWx1ZXMgPSBbXTtcbiAgICB0aGlzLmRhdGFoaXN0by5mb3JFYWNoKGVsZW1lbnQgPT4ge1xuICAgICAgdGhpcy52YWx1ZXMucHVzaChlbGVtZW50WzFdKTtcbiAgICB9KTtcbiAgICBmb3IgKGxldCBpID0gMTsgaSA8IHRoaXMudmFsdWVzLmxlbmd0aDsgaSsrKSB7XG4gICAgICB0aGlzLmFycmF5LnB1c2godGhpcy52YWx1ZXNbaV0pO1xuICAgIH1cbiAgfVxuXG4gIHBsb3RYYXhpcygpIHtcblxuICAgIHRoaXMueGF4aXNBcnJheSA9IFtdO1xuICAgIHRoaXMueGF4aXNBcnJheS5wdXNoKDApO1xuICAgIGxldCBuZXd2YWx1ZTogbnVtYmVyID0gMDtcbiAgICBsZXQgdmFsdWUgPSBNYXRoLmNlaWwoZDMubWF4KHRoaXMuYXJyYXkpKTtcblxuICAgIGlmICh2YWx1ZSAlIDEwID09IDApIHtcbiAgICAgIHZhbHVlID0gdmFsdWU7XG4gICAgfSBlbHNlIHtcbiAgICAgIHZhbHVlID0gKDEwIC0gdmFsdWUgJSAxMCkgKyB2YWx1ZTtcbiAgICB9XG4gICAgbGV0IHF1b3RpZW50ID0gdmFsdWUgLyA1O1xuICAgIHdoaWxlIChuZXd2YWx1ZSA8IHZhbHVlKSB7XG4gICAgICBuZXd2YWx1ZSA9IG5ld3ZhbHVlICsgcXVvdGllbnQ7XG4gICAgICB0aGlzLnhheGlzQXJyYXkucHVzaChuZXd2YWx1ZSk7XG4gICAgfVxuICB9XG5cbiAgcGxvdFlheGlzKCkge1xuXG4gICAgbGV0IHRlbXB2YWx1ZSA9IDA7XG4gICAgbGV0IGxlbmd0aG9mQXJyYXkgPSAwO1xuICAgIGxldCBsZW5ndGhjb3VudCA9IDA7XG4gICAgbGV0IHRlbXBsZW5ndGggPSAwO1xuICAgIGxldCBuZXd2YWx1ZTogbnVtYmVyID0gMDtcbiAgICB0aGlzLnlheGlzQXJyYXkgPSBbXTtcbiAgICB0aGlzLmhpc3RvZ3JhbWFycmF5ID0gW107XG4gICAgdGhpcy5sZW5ndGhhcnJheSA9IFtdO1xuICAgIHRoaXMuaGlzdG9ncmFtZGF0YSA9IFtdO1xuICAgIHRoaXMuYXJyYXlvZkxlbmd0aCA9IFtdO1xuICAgIHRoaXMuY2hhcnREYXRhID0gW107XG4gICAgdGhpcy54YXhpc0FycmF5LmZvckVhY2goZWxlbWVudDEgPT4ge1xuICAgICAgdGhpcy55YXhpc0FycmF5ID0gW107XG4gICAgICB0aGlzLmFycmF5LmZvckVhY2goZWxlbWVudDIgPT4ge1xuXG4gICAgICAgIGlmICh0ZW1wdmFsdWUgPCBlbGVtZW50MiAmJiBlbGVtZW50MiA8PSBlbGVtZW50MSkge1xuICAgICAgICAgIHRoaXMueWF4aXNBcnJheS5wdXNoKGVsZW1lbnQyKTtcbiAgICAgICAgfVxuICAgICAgICBsZW5ndGhvZkFycmF5ID0gdGhpcy55YXhpc0FycmF5Lmxlbmd0aDtcbiAgICAgIH0pO1xuICAgICAgaWYgKHRlbXBsZW5ndGggPiBsZW5ndGhvZkFycmF5KSB7XG4gICAgICAgIGxlbmd0aGNvdW50ID0gdGVtcGxlbmd0aDtcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICBsZW5ndGhjb3VudCA9IGxlbmd0aG9mQXJyYXk7XG4gICAgICB9XG4gICAgICB0ZW1wbGVuZ3RoID0gbGVuZ3RoY291bnQ7XG4gICAgICB0ZW1wdmFsdWUgPSBlbGVtZW50MTtcbiAgICAgIC8vdGhpcy5oaXN0b2dyYW1hcnJheS5wdXNoKHRoaXMueWF4aXNBcnJheSk7XG4gICAgICB0aGlzLmxlbmd0aGFycmF5LnB1c2gobGVuZ3Rob2ZBcnJheSk7XG4gICAgfSk7XG5cbiAgICBsZXQgdmFsdWUgPSBNYXRoLmNlaWwodGVtcGxlbmd0aCk7XG4gICAgbGV0IHF1b3RpZW50ID0gdmFsdWUgLyA1O1xuICAgIHdoaWxlIChuZXd2YWx1ZSA8PSB2YWx1ZSkge1xuICAgICAgbmV3dmFsdWUgPSBuZXd2YWx1ZSArIHF1b3RpZW50O1xuICAgICAgdGhpcy55YXhpc0RhdGEucHVzaChuZXd2YWx1ZSlcbiAgICB9XG5cbiAgICBmb3IgKGxldCBpID0gMTsgaSA8IHRoaXMuaGlzdG9ncmFtYXJyYXkubGVuZ3RoOyBpKyspIHtcbiAgICAgIHRoaXMuaGlzdG9ncmFtZGF0YS5wdXNoKHRoaXMuaGlzdG9ncmFtYXJyYXlbaV0pO1xuICAgIH1cblxuICAgIGZvciAobGV0IGkgPSAxOyBpIDwgdGhpcy5sZW5ndGhhcnJheS5sZW5ndGg7IGkrKykge1xuICAgICAgdGhpcy5hcnJheW9mTGVuZ3RoLnB1c2godGhpcy5sZW5ndGhhcnJheVtpXSk7XG4gICAgfVxuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5hcnJheW9mTGVuZ3RoLmxlbmd0aDsgaSsrKSB7XG4gICAgICBsZXQgZGF0YSA9IHt9O1xuICAgICAgZGF0YVtcInZhbHVlXCJdID0gdGhpcy5hcnJheW9mTGVuZ3RoW2ldO1xuICAgICAgdGhpcy5jaGFydERhdGEucHVzaChkYXRhKTtcbiAgICB9XG4gICAgdGhpcy5hcnJheSA9IFtdO1xuXG4gIH1cblxuICByZXNpemUoKSB7XG5cbiAgICB0aGlzLnN2Z3dpZHRoID0gMDtcbiAgICB0aGlzLnN2Zy5zZWxlY3RBbGwoXCIqXCIpLnJlbW92ZSgpO1xuXG4gICAgdGhpcy5yZXNpemVmbGFnID0gdHJ1ZTtcbiAgICB0aGlzLnN2Z3dpZHRoID0gdGhpcy5kaXZpZC5uYXRpdmVFbGVtZW50Lm9mZnNldFdpZHRoO1xuXG4gICAgdGhpcy50cmFuc2Zvcm1EYXRhKClcbiAgICB0aGlzLnBsb3RYYXhpcygpO1xuICAgIHRoaXMucGxvdFlheGlzKCk7XG4gICAgdGhpcy50b29sdGlwRGF0YSgpO1xuICAgIHRoaXMuZGF0YWZvckNoYXJ0KCk7XG4gICAgdGhpcy50cmFuc2Zvcm1EYXRhMSh0aGlzLmZpbmFsZGF0YWFycmF5KTtcbiAgICB0aGlzLnBsb3RDaGFydCgpO1xuICB9XG5cbiAgZGF0YWZvckNoYXJ0KCkge1xuICAgIHRoaXMuZmluYWxkYXRhYXJyYXkgPSBbXSA9IFtdO1xuICAgIGxldCBpbml0aWFsQXJyYXk6IGFueVtdID0gW107XG4gICAgbGV0IHRlbXBhcnJheTogYW55W10gPSBbXTtcbiAgICBpbml0aWFsQXJyYXkucHVzaCgnbGV2ZWwnKTtcbiAgICBsZXQgbWF4RWxlbWVudCA9IE1hdGgubWF4LmFwcGx5KG51bGwsIHRoaXMuYXJyYXlvZkxlbmd0aCk7XG4gICAgbGV0IG1heGxlbmd0aCA9IG1heEVsZW1lbnQ7XG4gICAgbGV0IG4gPSAxO1xuICAgIHdoaWxlIChuIDw9IG1heEVsZW1lbnQpIHtcbiAgICAgIGluaXRpYWxBcnJheS5wdXNoKCcnICsgbilcbiAgICAgIG4rKztcbiAgICB9XG4gICAgaW5pdGlhbEFycmF5LnB1c2goJ3Rvb2x0aXBkYXRhJyk7XG4gICAgbGV0IGxlbmd0aCA9IHRoaXMuYXJyYXlvZkxlbmd0aC5sZW5ndGg7XG4gICAgbGV0IG51bSA9IDE7XG4gICAgbGV0IG51bWJlciA9IDE7XG4gICAgbGV0IGogPSAwO1xuICAgIHRoaXMuZmluYWxkYXRhYXJyYXkucHVzaChpbml0aWFsQXJyYXkpO1xuXG4gICAgZm9yIChsZXQgaSA9IDA7IGkgPCB0aGlzLmFycmF5b2ZMZW5ndGgubGVuZ3RoOyBpKyspIHtcbiAgICAgIGxldCB2YWx1ZSA9IHRoaXMuYXJyYXlvZkxlbmd0aFtpXTtcbiAgICAgIGxldCB0ZW1wdmFsdWUgPSB2YWx1ZTtcbiAgICAgIHRlbXBhcnJheSA9IFtdO1xuICAgICAgdGVtcGFycmF5LnB1c2goJycgKyBpKTtcbiAgICAgIG1heEVsZW1lbnQgPSBtYXhsZW5ndGg7XG4gICAgICBpZiAodmFsdWUgPiAwKSB7XG4gICAgICAgIHdoaWxlICh2YWx1ZSAhPSAwKSB7XG4gICAgICAgICAgdGVtcGFycmF5LnB1c2gobnVtYmVyKTtcbiAgICAgICAgICB2YWx1ZS0tXG4gICAgICAgIH1cbiAgICAgICAgbWF4RWxlbWVudCA9IG1heEVsZW1lbnQgLSB0ZW1wdmFsdWU7XG5cbiAgICAgICAgd2hpbGUgKG1heEVsZW1lbnQgIT0gMCkge1xuICAgICAgICAgIHRlbXBhcnJheS5wdXNoKDApO1xuICAgICAgICAgIG1heEVsZW1lbnQtLTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgICAgZWxzZSB7XG4gICAgICAgIHdoaWxlIChtYXhFbGVtZW50ICE9IDApIHtcbiAgICAgICAgICB0ZW1wYXJyYXkucHVzaCgwKTtcbiAgICAgICAgICBtYXhFbGVtZW50LS07XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICAgIHRlbXBhcnJheS5wdXNoKHRoaXMudG9vbHRpcEFycmF5W2pdKVxuICAgICAgdGhpcy5maW5hbGRhdGFhcnJheS5wdXNoKHRlbXBhcnJheSk7XG4gICAgICBqKys7XG4gICAgfVxuICB9XG5cblxuICB0b29sdGlwRGF0YSgpIHtcblxuICAgIGxldCBhcnJheW9mVG9vbHRpcDogYW55W10gPSBbXTtcbiAgICBsZXQgb2JqID0geyBcImxhYmVsXCI6IFwiXCIsIFwidmFsdWVcIjogXCJcIiB9O1xuICAgIHRoaXMuZGF0YWhpc3RvLmZvckVhY2goZWxlbWVudCA9PiB7XG4gICAgICBvYmogPSB7IFwibGFiZWxcIjogXCJcIiwgXCJ2YWx1ZVwiOiBcIlwiIH07XG4gICAgICBvYmpbXCJsYWJlbFwiXSA9IGVsZW1lbnRbMF07XG4gICAgICBvYmpbXCJ2YWx1ZVwiXSA9IGVsZW1lbnRbMV07XG4gICAgICBhcnJheW9mVG9vbHRpcC5wdXNoKG9iaik7XG4gICAgfSk7XG5cbiAgICBsZXQgdmFsdWUxID0gdGhpcy54YXhpc0FycmF5WzBdO1xuXG4gICAgbGV0IHRvb2x0aXBkYXRhOiBhbnlbXSA9IFtdO1xuICAgIGZvciAobGV0IGogPSAxOyBqIDwgdGhpcy54YXhpc0FycmF5Lmxlbmd0aDsgaisrKSB7XG4gICAgICB0b29sdGlwZGF0YSA9IFtdO1xuICAgICAgbGV0IHZhbHVlMiA9IHRoaXMueGF4aXNBcnJheVtqXTtcblxuICAgICAgYXJyYXlvZlRvb2x0aXAuZm9yRWFjaChlbGVtZW50ID0+IHtcblxuICAgICAgICBpZiAodmFsdWUxIDw9IGVsZW1lbnQudmFsdWUgJiYgZWxlbWVudC52YWx1ZSA8PSB2YWx1ZTIpIHtcblxuICAgICAgICAgIGxldCB0b29sdGlwb2JqID0geyBcImxhYmVsXCI6IFwiXCIsIFwidmFsdWVcIjogXCJcIiB9XG4gICAgICAgICAgdG9vbHRpcG9ialtcImxhYmVsXCJdID0gZWxlbWVudFtcImxhYmVsXCJdO1xuICAgICAgICAgIHRvb2x0aXBvYmpbXCJ2YWx1ZVwiXSA9IGVsZW1lbnRbXCJ2YWx1ZVwiXTtcbiAgICAgICAgICB0b29sdGlwZGF0YS5wdXNoKHRvb2x0aXBvYmopO1xuXG5cbiAgICAgICAgfVxuXG4gICAgICB9KTtcbiAgICAgIHRoaXMudG9vbHRpcEFycmF5LnB1c2godG9vbHRpcGRhdGEpO1xuICAgICAgdmFsdWUxID0gdmFsdWUyO1xuICAgIH1cbiAgfVxuXG5cbiAgc2V0S2V5KG9iajogYW55KSB7XG5cbiAgICBsZXQgb2JqZWN0ID0ge307XG4gICAgbGV0IGRhdGEgPSB0aGlzLmRhdGFoaXN0b1swXTtcbiAgICBsZXQgbGFiZWwxID0gZGF0YVsxXTtcbiAgICBsZXQgbGFiZWwyID0gZGF0YVswXTtcblxuICAgIG9iamVjdFtsYWJlbDIgKyBcIjpcIl0gPSBvYmoubGFiZWw7XG4gICAgb2JqZWN0W2xhYmVsMSArIFwiOlwiXSA9IG9iai52YWx1ZTtcblxuICAgIHJldHVybiAodGhpcy50b29sVGlwRm9yQmFyKG9iamVjdCkpXG4gIH1cblxuICBwbG90TGluZShnLCB4LCB5LCBoZWlnaHQsIHdpZHRoKSB7XG4gICAgaWYgKHRoaXMuaFNjYWxlKSB7XG4gICAgICBnLmFwcGVuZCgnZycpXG4gICAgICAgIC5hdHRyKFwiY29sb3JcIiwgXCJsaWdodGdyZXlcIilcbiAgICAgICAgLmNhbGwoZDMuYXhpc0xlZnQoeSlcbiAgICAgICAgICAudGlja1NpemUoLXdpZHRoKS50aWNrRm9ybWF0KCcnKSk7XG4gICAgfVxuICB9XG59XG4iLCJpbXBvcnQgeyBDb21wb25lbnQsIEVsZW1lbnRSZWYsIElucHV0LCBPbkluaXQsIFZpZXdDaGlsZCB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgQW1leGlvRDNCYXNlQ2hhcnRDb21wb25lbnQgfSBmcm9tICcuLi9iYXNlL2Jhc2UuY29tcG9uZW50JztcbmltcG9ydCB7IENvbW1hbkRhdGFTZXJ2aWNlIH0gZnJvbSAnLi4vc2VydmljZXMvY29tbWFuLmRhdGEuc2VydmljZSc7XG5pbXBvcnR7RGV2aWNlUXVlcnlTZXJ2aWNlfSBmcm9tICcuLi9zZXJ2aWNlcy9kZXZpY2UucXVlcnkuc2VydmljZSc7XG5cbmltcG9ydCAqIGFzIGQzIGZyb20gJ2QzJztcblxuQENvbXBvbmVudCh7XG4gIHNlbGVjdG9yOiAnYW1leGlvLWQzLWNoYXJ0LXNjYXR0ZXInLFxuICB0ZW1wbGF0ZTogYDxkaXYgKm5nSWY9XCJkcmlsbGFibGVGbGFnXCIgI2RpdmlkICh3aW5kb3c6cmVzaXplKT1cInJlc2l6ZSgpXCI+XG4gICAgPHRhYmxlIHN0eWxlPVwid2lkdGg6IDEwMCU7XCIgI2NoYXJ0SWQgPlxuICAgICAgICA8dHI+XG4gICAgICAgICAgICA8dGQgY29sc3Bhbj1cIjJcIiBzdHlsZT1cImZvbnQtc2l6ZTogMThweDsgZm9udC13ZWlnaHQ6IGJvbGQ7IFwiPiB7e3RpdGxlfX0gPC90ZD5cbiAgICAgICAgPC90cj5cbiAgICAgICAgPHRyPlxuICAgICAgICAgICAgPHRkPlxuICAgICAgICAgICAgICAgIDxzdmcgW2F0dHIuaGVpZ2h0XT1cInN2Z2hlaWdodFwiIFthdHRyLndpZHRoXT1cInN2Z3dpZHRoXCIgW2F0dHIuaWRdPVwiY29tcG9uZW50SWRcIj5cbiAgICAgICAgICAgICAgICA8L3N2Zz5cbiAgICAgICAgICAgIDwvdGQ+XG4gICAgICAgIDwvdHI+XG4gICAgICAgIDx0cj5cbiAgICAgICAgICAgIDx0ZCBzdHlsZT1cImRpc3BsYXk6IGJsb2NrOyBwYWRkaW5nOiA1cHg7XCI+XG4gICAgICAgICAgICAgICAgPGFtZXhpby1kMy1sZWdlbmQgKm5nSWY9XCJsZWdlbmRcIiBbaG9yaXpvbnRhbF09XCJ0cnVlXCIgKG9uQ2xpY2spPVwib25TY2F0dGVyTGVnZW5kQ2xpY2soJGV2ZW50KVwiIFtkYXRhXT1cImxlZ2VuZHNcIiBzdHlsZT1cImhlaWdodDoxMDAlO1wiPjwvYW1leGlvLWQzLWxlZ2VuZD5cbiAgICAgICAgICAgIDwvdGQ+XG4gICAgICAgIDwvdHI+XG4gICAgPC90YWJsZT5cbjwvZGl2PmAsXG4gIHN0eWxlczogW2BgXVxufSlcbmV4cG9ydCBjbGFzcyBTY2F0dGVyY2hhcnRDb21wb25lbnQgZXh0ZW5kcyBBbWV4aW9EM0Jhc2VDaGFydENvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCB7XG4gIEBJbnB1dCgnd2lkdGgnKSBzdmd3aWR0aDogbnVtYmVyID0gMzAwO1xuICBASW5wdXQoJ2hlaWdodCcpIHN2Z2hlaWdodDogbnVtYmVyID0gMzAwO1xuICBASW5wdXQoJ2NvbG9yJykgY29sb3I6IGFueSA9IFwiYmx1ZVwiO1xuICBASW5wdXQoJ2xhYmVsLWNvbG9yJykgbGFiZWxjb2xvcjogc3RyaW5nID0gXCJibGFja1wiO1xuICBASW5wdXQoJ2xhYmVsJykgbGFiZWxmbGFnOiBib29sZWFuID0gZmFsc2U7XG4gIEBWaWV3Q2hpbGQoJ2NoYXJ0SWQnKSBjaGFydElkOiBFbGVtZW50UmVmO1xuICBAVmlld0NoaWxkKCdkaXZpZCcpIGRpdmlkOiBFbGVtZW50UmVmO1xuICBASW5wdXQoJ2RhdGEtcmVhZGVyJykgZGF0YXJlYWRlcjogc3RyaW5nO1xuICBASW5wdXQoJ2xldmVsJykgbGV2ZWw6IG51bWJlciA9IDA7XG4gIEBJbnB1dCgndGFyZ2V0JykgdGFyZ2V0OiBudW1iZXI7XG4gIEBJbnB1dCgnZHJpbGxhYmxlLWRhdGEnKSBkcmlsbGFibGVkYXRha2V5OiBhbnlbXSA9IFtdO1xuICBASW5wdXQoJ2hvcml6b250YWwtc2NhbGUnKSBoU2NhbGU6IGJvb2xlYW4gPSB0cnVlO1xuICBASW5wdXQoJ3ZlcnRpY2FsLXNjYWxlJykgdlNjYWxlOiBib29sZWFuID0gdHJ1ZTtcbiAgZHJpbGxhYmxlRmxhZzogYm9vbGVhbiA9IHRydWU7XG4gIHJlc2l6ZWZsYWc6IGJvb2xlYW4gPSBmYWxzZTtcbiAgc3ZnOiBhbnk7XG4gIGtleUFycmF5OiBhbnlbXSA9IFtdO1xuICB0cmFuc2Zvcm1lZGRhdGE6IGFueVtdID0gW107XG4gIGRhdGE6IGFueTtcbiAgZGF0YUZvcm1hdHRlZDogYW55O1xuICBjb2xvcmRhdGE6IGFueTtcbiAgbGVnZW5kczogYW55W107XG4gIGxlZ2VuZGFycmF5OiBhbnlbXSA9IFtdO1xuICBsZWdlbmREYXRhOiBhbnk7XG4gIGh0dHByZXNwb25zZTogYW55O1xuICBjb25zdHJ1Y3Rvcihwcml2YXRlIG15c2VydmljZTogQ29tbWFuRGF0YVNlcnZpY2UsIHByaXZhdGUgZGV2aWNlOiBEZXZpY2VRdWVyeVNlcnZpY2UpIHtcbiAgICBzdXBlcignc2NhdHRlcicpO1xuICB9XG5cbiAgbmdPbkluaXQoKSB7XG4gICAgdGhpcy5kYXRhRm9ybWF0dGVkID0gW107XG4gICAgaWYgKHRoaXMubGV2ZWwgPD0gMSkge1xuICAgICAgbGV0IHJlc3A6IGFueTtcbiAgICAgIGlmICh0aGlzLmh0dHBtZXRob2QgJiYgdGhpcy5odHRwdXJsKSB7XG4gICAgICAgIHRoaXMubXlzZXJ2aWNlLmZldGNoVXJsRGF0YSh0aGlzLmh0dHB1cmwsIHRoaXMuaHR0cG1ldGhvZCkuc3Vic2NyaWJlKChyZXNwb25zZSkgPT4ge1xuICAgICAgICAgIHJlc3AgPSByZXNwb25zZTtcbiAgICAgICAgICB0aGlzLmh0dHByZXNwb25zZSA9IHJlc3A7XG4gICAgICAgIH0sIChlcnJvcikgPT4ge1xuICAgICAgICB9LCAoKSA9PiB7XG4gICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICB0aGlzLmRhdGEgPSB0aGlzLmdldFJlc3BvbnNlRGF0YShyZXNwKTtcbiAgICAgICAgICAgIHRoaXMuZGF0YUZvcm1hdHRlZCA9IHRoaXMuZGF0YTtcbiAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtRGF0YSh0aGlzLmRhdGFGb3JtYXR0ZWQpO1xuICAgICAgICAgICAgdGhpcy5jb2xvckdlbmVyYXRpb24oKTtcbiAgICAgICAgICAgIHRoaXMubGVnZW5kQ3JlYXRpb24oKTtcbiAgICAgICAgICAgIHRoaXMucGxvdFNjYXR0ZXJDaGFydCgpO1xuICAgICAgICAgIH0sIDApO1xuICAgICAgICB9KTtcblxuICAgICAgfSBlbHNlIGlmICh0aGlzLmRhdGEpIHtcblxuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICB0aGlzLmRhdGFGb3JtYXR0ZWQgPSB0aGlzLmRhdGE7XG4gICAgICAgICAgdGhpcy5kYXRhID0gdGhpcy5nZXRSZXNwb25zZURhdGEodGhpcy5kYXRhKTtcblxuICAgICAgICAgIHRoaXMudHJhbnNmb3JtRGF0YSh0aGlzLmRhdGEpO1xuICAgICAgICAgIHRoaXMuY29sb3JHZW5lcmF0aW9uKCk7XG4gICAgICAgICAgdGhpcy5sZWdlbmRDcmVhdGlvbigpO1xuICAgICAgICAgIHRoaXMucGxvdFNjYXR0ZXJDaGFydCgpO1xuXG4gICAgICAgIH0sIDApO1xuXG4gICAgICB9XG4gICAgfVxuXG4gIH1cblxuICBmZXRjaERhdGEoZGF0YTogYW55KSB7XG5cbiAgICBsZXQgcmVxdWVzdEpzb247XG4gICAgbGV0IGtleSA9IHRoaXMuZHJpbGxhYmxlZGF0YWtleTtcbiAgICBsZXQgcmVzcDogYW55O1xuICAgIGlmICh0aGlzLmRyaWxsYWJsZWRhdGFrZXkubGVuZ3RoKSB7XG4gICAgICBsZXQgZHJpbGxhYmxlZGF0YSA9IHRoaXMuZ2V0TXVsdGlwbGVEcmlsbGJsZUtleURhdGEoZGF0YSwga2V5KTtcbiAgICAgIHJlcXVlc3RKc29uID0gZHJpbGxhYmxlZGF0YTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICByZXF1ZXN0SnNvbiA9IGRhdGE7XG4gICAgfVxuXG5cbiAgICBpZiAodGhpcy5odHRwbWV0aG9kICYmIHRoaXMuaHR0cHVybCkge1xuICAgICAgdGhpcy5teXNlcnZpY2UucG9zdGZldGNoRGF0YSh0aGlzLmh0dHB1cmwsIHRoaXMuaHR0cG1ldGhvZCwgcmVxdWVzdEpzb24pLnN1YnNjcmliZSgocmVzcG9uc2UpID0+IHtcbiAgICAgICAgcmVzcCA9IHJlc3BvbnNlO1xuICAgICAgICB0aGlzLmh0dHByZXNwb25zZSA9IHJlc3BvbnNlO1xuICAgICAgfSwgKGVycm9yKSA9PiB7XG4gICAgICB9LCAoKSA9PiB7XG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgIC8vdGhpcy5kYXRhID0gdGhpcy5nZXRSZXNwb25zZURhdGEocmVzcCk7XG4gICAgICAgICAgdGhpcy5kcmF3Q2hhcnQoKTtcbiAgICAgICAgfSwgMCk7XG4gICAgICB9KTtcbiAgICB9XG4gIH1cblxuICBkcmF3Q2hhcnQoKSB7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICB0aGlzLmRhdGEgPSB0aGlzLmdldFJlc3BvbnNlRGF0YSh0aGlzLmh0dHByZXNwb25zZSk7XG4gICAgICB0aGlzLmRhdGFGb3JtYXR0ZWQgPSB0aGlzLmRhdGE7XG5cblxuICAgICAgdGhpcy50cmFuc2Zvcm1EYXRhKHRoaXMuZGF0YSk7XG4gICAgICB0aGlzLmNvbG9yR2VuZXJhdGlvbigpO1xuICAgICAgdGhpcy5sZWdlbmRDcmVhdGlvbigpO1xuICAgICAgdGhpcy5wbG90U2NhdHRlckNoYXJ0KCk7XG4gICAgfSwgMCk7XG4gIH1cblxuICAvLyBNZXRob2QgdG8gdHJhbnNmb3JtIGRhdGEgaW4ga2V5IHZhbHVlIHBhaXIgXG4gIHRyYW5zZm9ybURhdGEoZGF0YTogYW55KSB7XG4gICAgdGhpcy5rZXlBcnJheSA9IGRhdGFbMF07XG4gICAgZGF0YS5mb3JFYWNoKChlbGVtZW50LCBpbmRleCkgPT4ge1xuICAgICAgaWYgKGluZGV4ID4gMCkge1xuICAgICAgICBsZXQgRHVtbXlPYmplY3QgPSB7fTtcbiAgICAgICAgZWxlbWVudC5mb3JFYWNoKChpbmRpdmlkdWFsdmFsdWUsIGtleWluZGV4KSA9PiB7XG4gICAgICAgICAgRHVtbXlPYmplY3RbdGhpcy5rZXlBcnJheVtrZXlpbmRleF1dID0gaW5kaXZpZHVhbHZhbHVlO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy50cmFuc2Zvcm1lZGRhdGEucHVzaChEdW1teU9iamVjdCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgdGhpcy5kYXRhID0gdGhpcy50cmFuc2Zvcm1lZGRhdGE7XG4gIH1cblxuICAvLyBNZXRob2QgZ2V0IHJlc3BvbnNlIGRhdGEgdXNpbmcgZGF0YSByZWFkZXJcbiAgZ2V0UmVzcG9uc2VEYXRhKGh0dHBSZXNwb25zZTogYW55KSB7XG4gICAgbGV0IHJlc3BvbnNlZGF0YSA9IGh0dHBSZXNwb25zZTtcbiAgICBpZiAodGhpcy5kYXRhcmVhZGVyICE9IG51bGwpIHtcbiAgICAgIGNvbnN0IGRyID0gdGhpcy5kYXRhcmVhZGVyLnNwbGl0KCcuJyk7XG4gICAgICBmb3IgKGNvbnN0IGlyIG9mIGRyKSB7XG4gICAgICAgIHJlc3BvbnNlZGF0YSA9IHJlc3BvbnNlZGF0YVtpcl07XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc3BvbnNlZGF0YSA9IGh0dHBSZXNwb25zZTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3BvbnNlZGF0YTtcbiAgfVxuXG4gIC8vIE1ldGhvZCB0byBwbG90IGQzIGNoYXJ0XG4gIHBsb3RTY2F0dGVyQ2hhcnQoKSB7XG4gICAgaWYgKHRoaXMucmVzaXplZmxhZyA9PSBmYWxzZSkge1xuICAgICAgaWYgKHRoaXMuY2hhcnRJZCkge1xuICAgICAgICB0aGlzLnN2Z3dpZHRoID0gdGhpcy5jaGFydElkLm5hdGl2ZUVsZW1lbnQub2Zmc2V0V2lkdGg7XG4gICAgICB9IGVsc2Uge1xuXG4gICAgICAgIHRoaXMuc3Znd2lkdGggPSB0aGlzLnN2Z3dpZHRoO1xuICAgICAgfVxuICAgIH1cbiAgICBjb25zdCB0b29sdGlwID0gdGhpcy50b29sVGlwKGQzKTtcbiAgICBjb25zdCBtYXJnaW4gPSB7IHRvcDogMjAsIHJpZ2h0OiAyMCwgYm90dG9tOiAzMCwgbGVmdDogNjAgfTtcbiAgICBjb25zdCB3aWR0aCA9IHRoaXMuc3Znd2lkdGggLSBtYXJnaW4ubGVmdCAtIG1hcmdpbi5yaWdodDtcbiAgICBjb25zdCBoZWlnaHQgPSB0aGlzLnN2Z2hlaWdodCAtIG1hcmdpbi50b3AgLSBtYXJnaW4uYm90dG9tO1xuXG4gICAgbGV0IHgsIHk7XG5cbiAgICB4ID0gZDMuc2NhbGVMaW5lYXIoKVxuICAgICAgLnJhbmdlUm91bmQoWzAsIHdpZHRoXSk7XG5cbiAgICB5ID0gZDMuc2NhbGVMaW5lYXIoKVxuICAgICAgLnJhbmdlUm91bmQoW2hlaWdodCwgMF0pO1xuXG4gICAgbGV0IHhBeGlzID0gZDMuYXhpc0JvdHRvbSh4KTtcblxuICAgIGxldCB5QXhpcyA9IGQzLmF4aXNMZWZ0KHkpO1xuXG4gICAgdGhpcy5zdmcgPSBkMy5zZWxlY3QoXCIjXCIgKyB0aGlzLmNvbXBvbmVudElkKVxuICAgICAgLmF0dHIoXCJ3aWR0aFwiLCB3aWR0aCArIG1hcmdpbi5sZWZ0ICsgbWFyZ2luLnJpZ2h0KVxuICAgICAgLmF0dHIoXCJoZWlnaHRcIiwgaGVpZ2h0ICsgbWFyZ2luLnRvcCArIG1hcmdpbi5ib3R0b20pXG4gICAgICAuYXBwZW5kKFwiZ1wiKVxuICAgICAgLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJ0cmFuc2xhdGUoXCIgKyBtYXJnaW4ubGVmdCArIFwiLFwiICsgbWFyZ2luLnRvcCArIFwiKVwiKTtcblxuICAgIHguZG9tYWluKFswLCBkMy5tYXgodGhpcy5kYXRhLCBmdW5jdGlvbiAoZCkgeyByZXR1cm4gZFtPYmplY3Qua2V5cyhkKVswXV0gfSldKTtcbiAgICB5LmRvbWFpbihbMCwgZDMubWF4KHRoaXMuZGF0YSwgZnVuY3Rpb24gKGQpIHsgcmV0dXJuIGRbT2JqZWN0LmtleXMoZClbMV1dIH0pXSk7XG5cbiAgICBpZiAodGhpcy5kZXZpY2UuSXNEZXNrdG9wKCkgPT0gdHJ1ZSkge1xuICAgICAgdGhpcy5zdmcuYXBwZW5kKFwiZ1wiKVxuICAgICAgICAuYXR0cihcInRyYW5zZm9ybVwiLCBcInRyYW5zbGF0ZSgwLFwiICsgaGVpZ2h0ICsgXCIpXCIpXG4gICAgICAgIC5jYWxsKHhBeGlzKVxuICAgICAgICAuYXBwZW5kKFwidGV4dFwiKVxuICAgICAgICAuYXR0cihcInlcIiwgMClcbiAgICAgICAgLmF0dHIoXCJ4XCIsIDkpXG4gICAgICAgIC5hdHRyKFwiZHlcIiwgXCIuMzVlbVwiKVxuICAgICAgICAuc3R5bGUoXCJ0ZXh0LWFuY2hvclwiLCBcInN0YXJ0XCIpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHRoaXMuc3ZnLmFwcGVuZChcImdcIilcbiAgICAgICAgLmF0dHIoXCJjbGFzc1wiLCBcInggYXhpc1wiKVxuICAgICAgICAuYXR0cihcInRyYW5zZm9ybVwiLCBcInRyYW5zbGF0ZSgwLFwiICsgaGVpZ2h0ICsgXCIpXCIpXG4gICAgICAgIC5jYWxsKHhBeGlzKS5cbiAgICAgICAgc2VsZWN0QWxsKFwidGV4dFwiKVxuICAgICAgICAuYXR0cihcInlcIiwgMClcbiAgICAgICAgLmF0dHIoXCJ4XCIsIDkpXG4gICAgICAgIC5hdHRyKFwiZHlcIiwgXCIuMzVlbVwiKVxuICAgICAgICAuYXR0cihcInRyYW5zZm9ybVwiLCBcInJvdGF0ZSg2MClcIilcbiAgICAgICAgLnN0eWxlKFwidGV4dC1hbmNob3JcIiwgXCJzdGFydFwiKTtcbiAgICB9XG5cblxuXG4gICAgLy8gdGhpcy5zdmcuYXBwZW5kKFwiZ1wiKVxuICAgIC8vICAgLmF0dHIoXCJjbGFzc1wiLCBcInggYXhpc1wiKVxuICAgIC8vICAgLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJ0cmFuc2xhdGUoMCxcIiArIGhlaWdodCArIFwiKVwiKVxuICAgIC8vICAgLmNhbGwoeEF4aXMpXG4gICAgLy8gICAuYXBwZW5kKFwidGV4dFwiKVxuICAgIC8vICAgLmF0dHIoXCJjbGFzc1wiLCBcImxhYmVsXCIpXG4gICAgLy8gICAuYXR0cihcInhcIiwgd2lkdGgpXG4gICAgLy8gICAuYXR0cihcInlcIiwgLTYpXG4gICAgLy8gICAuc3R5bGUoXCJ0ZXh0LWFuY2hvclwiLCBcImVuZFwiKTtcblxuICAgIHRoaXMuc3ZnLmFwcGVuZChcImdcIilcbiAgICAgIC5hdHRyKFwiY2xhc3NcIiwgXCJ5IGF4aXNcIilcbiAgICAgIC5jYWxsKHlBeGlzKVxuICAgICAgLmFwcGVuZChcInRleHRcIilcbiAgICAgIC5hdHRyKFwiY2xhc3NcIiwgXCJsYWJlbFwiKVxuICAgICAgLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJyb3RhdGUoLTkwKVwiKVxuICAgICAgLmF0dHIoXCJ5XCIsIDYpXG4gICAgICAuYXR0cihcImR5XCIsIFwiLjcxZW1cIilcbiAgICAgIC5zdHlsZShcInRleHQtYW5jaG9yXCIsIFwiZW5kXCIpXG5cbiAgICBpZiAodGhpcy5kYXRhRm9ybWF0dGVkWzBdLmxlbmd0aCA9PSAyKSB7XG4gICAgICB0aGlzLnBsb3RMaW5lKHRoaXMuc3ZnLCB4LCB5LCBoZWlnaHQsIHdpZHRoKTtcblxuICAgICAgdGhpcy5zdmcuc2VsZWN0QWxsKFwiLmRvdFwiKVxuICAgICAgICAuZGF0YSh0aGlzLmRhdGEpXG4gICAgICAgIC5lbnRlcigpLmFwcGVuZChcImNpcmNsZVwiKVxuICAgICAgICAuYXR0cihcImNsYXNzXCIsIFwiZG90XCIpXG4gICAgICAgIC5hdHRyKFwiZmlsbFwiLCB0aGlzLmNvbG9yKVxuICAgICAgICAuYXR0cihcInJcIiwgNC41KVxuICAgICAgICAuYXR0cihcImN1cnNvclwiLCBcInBvaW50ZXJcIilcbiAgICAgICAgLmF0dHIoXCJjeFwiLCBmdW5jdGlvbiAoZCkge1xuICAgICAgICAgIGRlYnVnZ2VyO1xuICAgICAgICAgIHJldHVybiB4KGRbT2JqZWN0LmtleXMoZClbMF1dKTtcbiAgICAgICAgfSlcbiAgICAgICAgLmF0dHIoXCJjeVwiLCBmdW5jdGlvbiAoZCkgeyByZXR1cm4geShkW09iamVjdC5rZXlzKGQpWzFdXSk7IH0pXG4gICAgICAgIC5vbihcIm1vdXNlb3ZlclwiLCAoZCkgPT4ge1xuICAgICAgICAgIHJldHVybiB0b29sdGlwLnN0eWxlKFwidmlzaWJpbGl0eVwiLCBcInZpc2libGVcIik7XG4gICAgICAgIH0pXG4gICAgICAgIC5vbihcIm1vdXNlbW92ZVwiLCAoZCkgPT4ge1xuICAgICAgICAgIHJldHVybiB0b29sdGlwLmh0bWwoXG4gICAgICAgICAgICB0aGlzLmZvcm1Ub29sdGlwRGF0YShkKVxuICAgICAgICAgIClcbiAgICAgICAgICAgIC5zdHlsZShcInRvcFwiLCAoZDMuZXZlbnQucGFnZVkgLSAxMCkgKyBcInB4XCIpXG4gICAgICAgICAgICAuc3R5bGUoXCJsZWZ0XCIsIChkMy5ldmVudC5wYWdlWCArIDEwKSArIFwicHhcIik7XG4gICAgICAgIH0pXG4gICAgICAgIC5vbihcIm1vdXNlb3V0XCIsIChkKSA9PiB7XG4gICAgICAgICAgcmV0dXJuIHRvb2x0aXAuc3R5bGUoXCJ2aXNpYmlsaXR5XCIsIFwiaGlkZGVuXCIpO1xuICAgICAgICB9KVxuICAgICAgICAub24oXCJjbGlja1wiLCAoZCkgPT4ge1xuICAgICAgICAgIHRoaXMuc2NhdHRlckNoYXJ0Q2xpY2soZCk7XG4gICAgICAgICAgdGhpcy5mb3JkcmlsbGFibGVDbGljayh0aGlzLCBkLCBldmVudCk7XG4gICAgICAgICAgcmV0dXJuIHRvb2x0aXAuc3R5bGUoXCJ2aXNpYmlsaXR5XCIsIFwiaGlkZGVuXCIpO1xuICAgICAgICB9KTtcbiAgICAgIC8vIC0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLVxuICAgICAgaWYgKHRoaXMubGFiZWxmbGFnKSB7XG4gICAgICAgIHRoaXMuc3ZnLnNlbGVjdEFsbChcImxhYmVsc1wiKVxuICAgICAgICAgIC5kYXRhKHRoaXMuZGF0YSlcbiAgICAgICAgICAuZW50ZXIoKS5hcHBlbmQoXCJ0ZXh0XCIpXG4gICAgICAgICAgLnN0eWxlKFwiZm9udC13ZWlnaHRcIiwgXCJib2xkXCIpXG4gICAgICAgICAgLmF0dHIoXCJ0ZXh0LWFuY2hvclwiLCBcIm1pZGRsZVwiKVxuICAgICAgICAgIC5hdHRyKFwidmVydGljYWwtYWxpZ25cIiwgXCJtaWRkbGVcIilcbiAgICAgICAgICAuYXR0cihcIm1hcmdpbi10b3BcIiwgbWFyZ2luLnRvcClcbiAgICAgICAgICAuYXR0cihcImZpbGxcIiwgKGQpID0+IHtcbiAgICAgICAgICAgIGlmICh0aGlzLmxhYmVsY29sb3IubGVuZ3RoID4gMCkge1xuICAgICAgICAgICAgICByZXR1cm4gdGhpcy5sYWJlbGNvbG9yO1xuICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgcmV0dXJuIFwiYmxhY2tcIjtcbiAgICAgICAgICAgIH1cbiAgICAgICAgICB9KVxuICAgICAgICAgIC5hdHRyKFwieFwiLCAoZCwgaSkgPT4ge1xuICAgICAgICAgICAgcmV0dXJuIHgoZFtPYmplY3Qua2V5cyhkKVswXV0pICsgMTE7XG4gICAgICAgICAgfSlcbiAgICAgICAgICAuYXR0cihcInlcIiwgKGQsIGkpID0+IHtcbiAgICAgICAgICAgIHJldHVybiB5KGRbT2JqZWN0LmtleXMoZClbMV1dKVxuICAgICAgICAgIH0pXG4gICAgICAgICAgLnRleHQoKGQpID0+IHtcbiAgICAgICAgICAgIHJldHVybiBkW09iamVjdC5rZXlzKGQpWzFdXTtcbiAgICAgICAgICB9KTtcbiAgICAgIH1cblxuICAgIH0gZWxzZSB7XG4gICAgICB0aGlzLnBsb3RMaW5lKHRoaXMuc3ZnLCB4LCB5LCBoZWlnaHQsIHdpZHRoKTtcblxuICAgICAgdGhpcy5zdmcuc2VsZWN0QWxsKFwiLmRvdFwiKVxuICAgICAgICAuZGF0YSh0aGlzLnRyYW5zZm9ybWVkZGF0YSlcbiAgICAgICAgLmVudGVyKCkuYXBwZW5kKFwiY2lyY2xlXCIpXG4gICAgICAgIC5hdHRyKFwiY2xhc3NcIiwgXCJkb3RcIilcbiAgICAgICAgLmF0dHIoXCJyXCIsIDQuNSlcbiAgICAgICAgLmF0dHIoXCJjdXJzb3JcIiwgXCJwb2ludGVyXCIpXG4gICAgICAgIC5hdHRyKFwiY3hcIiwgZnVuY3Rpb24gKGQpIHtcbiAgICAgICAgICByZXR1cm4geChkW09iamVjdC5rZXlzKGQpWzBdXSk7XG4gICAgICAgIH0pXG4gICAgICAgIC5hdHRyKFwiY3lcIiwgZnVuY3Rpb24gKGQpIHsgcmV0dXJuIHkoZFtPYmplY3Qua2V5cyhkKVsxXV0pOyB9KVxuICAgICAgICAuYXR0cihcImZpbGxcIiwgZnVuY3Rpb24gKGQsICkgeyByZXR1cm4gZFtPYmplY3Qua2V5cyhkKVs0XV0gfSlcblxuICAgICAgICAub24oXCJtb3VzZW92ZXJcIiwgKGQpID0+IHtcbiAgICAgICAgICByZXR1cm4gdG9vbHRpcC5zdHlsZShcInZpc2liaWxpdHlcIiwgXCJ2aXNpYmxlXCIpO1xuICAgICAgICB9KVxuICAgICAgICAub24oXCJtb3VzZW1vdmVcIiwgKGQpID0+IHtcbiAgICAgICAgICByZXR1cm4gdG9vbHRpcC5odG1sKFxuICAgICAgICAgICAgdGhpcy5mb3JtVG9vbHRpcERhdGEoZClcbiAgICAgICAgICApXG4gICAgICAgICAgICAuc3R5bGUoXCJ0b3BcIiwgKGQzLmV2ZW50LnBhZ2VZIC0gMTApICsgXCJweFwiKVxuICAgICAgICAgICAgLnN0eWxlKFwibGVmdFwiLCAoZDMuZXZlbnQucGFnZVggKyAxMCkgKyBcInB4XCIpO1xuICAgICAgICB9KVxuICAgICAgICAub24oXCJtb3VzZW91dFwiLCAoZCkgPT4ge1xuICAgICAgICAgIHJldHVybiB0b29sdGlwLnN0eWxlKFwidmlzaWJpbGl0eVwiLCBcImhpZGRlblwiKTtcbiAgICAgICAgfSlcbiAgICAgICAgLm9uKFwiY2xpY2tcIiwgKGQpID0+IHtcbiAgICAgICAgICB0aGlzLnNjYXR0ZXJDaGFydENsaWNrKGQpO1xuICAgICAgICAgIHRoaXMuZm9yZHJpbGxhYmxlQ2xpY2sodGhpcywgZCwgZXZlbnQpO1xuICAgICAgICAgIHJldHVybiB0b29sdGlwLnN0eWxlKFwidmlzaWJpbGl0eVwiLCBcImhpZGRlblwiKTtcbiAgICAgICAgfSlcblxuICAgICAgICBpZiAodGhpcy5sYWJlbGZsYWcpIHtcbiAgICAgICAgICB0aGlzLnN2Zy5zZWxlY3RBbGwoXCJsYWJlbHNcIilcbiAgICAgICAgICAgIC5kYXRhKHRoaXMuZGF0YSlcbiAgICAgICAgICAgIC5lbnRlcigpLmFwcGVuZChcInRleHRcIilcbiAgICAgICAgICAgIC5zdHlsZShcImZvbnQtd2VpZ2h0XCIsIFwiYm9sZFwiKVxuICAgICAgICAgICAgLmF0dHIoXCJ0ZXh0LWFuY2hvclwiLCBcIm1pZGRsZVwiKVxuICAgICAgICAgICAgLmF0dHIoXCJ2ZXJ0aWNhbC1hbGlnblwiLCBcIm1pZGRsZVwiKVxuICAgICAgICAgICAgLmF0dHIoXCJtYXJnaW4tdG9wXCIsIG1hcmdpbi50b3ApXG4gICAgICAgICAgICAuYXR0cihcImZpbGxcIiwgKGQpID0+IHtcbiAgICAgICAgICAgICAgaWYgKHRoaXMubGFiZWxjb2xvci5sZW5ndGggPiAwKSB7XG4gICAgICAgICAgICAgICAgcmV0dXJuIHRoaXMubGFiZWxjb2xvcjtcbiAgICAgICAgICAgICAgfSBlbHNlIHtcbiAgICAgICAgICAgICAgICByZXR1cm4gXCJibGFja1wiO1xuICAgICAgICAgICAgICB9XG4gICAgICAgICAgICB9KVxuICAgICAgICAgICAgLmF0dHIoXCJ4XCIsIChkLCBpKSA9PiB7XG4gICAgICAgICAgICAgIHJldHVybiB4KGRbT2JqZWN0LmtleXMoZClbMF1dKSArIDExO1xuICAgICAgICAgICAgfSlcbiAgICAgICAgICAgIC5hdHRyKFwieVwiLCAoZCwgaSkgPT4ge1xuICAgICAgICAgICAgICByZXR1cm4geShkW09iamVjdC5rZXlzKGQpWzFdXSlcbiAgICAgICAgICAgIH0pXG4gICAgICAgICAgICAudGV4dCgoZCkgPT4ge1xuICAgICAgICAgICAgICByZXR1cm4gZFtPYmplY3Qua2V5cyhkKVsxXV07XG4gICAgICAgICAgICB9KTtcbiAgICAgICAgfVxuXG4gICAgfVxuXG4gIH1cblxuICAvLyBNZXRob2QgdG8gZm9ybSB0b29sdGlwIGRhdGFcbiAgZm9ybVRvb2x0aXBEYXRhKHRvb2x0aXBEYXRhOiBhbnkpIHtcbiAgICBsZXQgb2JqZWN0ID0ge307XG4gICAgZm9yIChsZXQgW2tleSwgdmFsdWVdIG9mIE9iamVjdC5lbnRyaWVzKHRvb2x0aXBEYXRhKSkge1xuICAgICAgaWYgKGtleSAhPSAnY29sb3InKSB7XG4gICAgICAgIG9iamVjdFtrZXldID0gdmFsdWU7XG4gICAgICB9XG4gICAgfVxuICAgIHJldHVybiB0aGlzLnRvb2xUaXBGb3JCYXIob2JqZWN0KTtcbiAgfVxuXG4gIC8vIE1ldGhvZCBvbiBjaGFydCBjbGlja1xuICBzY2F0dGVyQ2hhcnRDbGljayhldmVudDogYW55KSB7XG4gICAgbGV0IG9iamVjdCA9IHt9O1xuICAgIGZvciAobGV0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhldmVudCkpIHtcbiAgICAgIG9iamVjdFtrZXldID0gdmFsdWU7XG4gICAgfVxuICAgIHRoaXMuY2hhcnRDbGljayhvYmplY3QpO1xuICB9XG5cbiAgLy8gbWV0aG9kIHRvIGNyZWF0ZSBMZWdlbmRcbiAgbGVnZW5kQ3JlYXRpb24oKSB7XG4gICAgaWYgKHRoaXMuZGF0YUZvcm1hdHRlZFswXS5sZW5ndGggPT0gMikge1xuICAgICAgdGhpcy5sZWdlbmRzID0gW107XG4gICAgICBsZXQgZWxlbWVudCA9IHRoaXMuZGF0YUZvcm1hdHRlZFswXTtcblxuICAgICAgbGV0IG9iamVjdCA9IHsgJ2xhYmVsJzogZWxlbWVudFswXSArIFwiIFwiICsgXCJ2c1wiICsgXCIgXCIgKyBlbGVtZW50WzFdLCAnY29sb3InOiB0aGlzLmNvbG9yIH07XG4gICAgICB0aGlzLmxlZ2VuZHMucHVzaChvYmplY3QpO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHRoaXMubGVnZW5kcyA9IFtdO1xuICAgICAgdGhpcy5sZWdlbmRhcnJheS5mb3JFYWNoKGVsZW1lbnQgPT4ge1xuICAgICAgICBsZXQgbGVnZW5kb2JqZWN0ID0ge307XG4gICAgICAgIGxlZ2VuZG9iamVjdFsnbGFiZWwnXSA9IGVsZW1lbnQubGFiZWw7XG4gICAgICAgIGxlZ2VuZG9iamVjdFsnY29sb3InXSA9IGVsZW1lbnQuY29sb3I7XG4gICAgICAgIHRoaXMubGVnZW5kcy5wdXNoKGxlZ2VuZG9iamVjdCk7XG4gICAgICB9KTtcblxuICAgIH1cblxuICB9XG5cbiAgLy8gTWV0aG9kIG9uIExlZ2VuZCBDbGlja1xuICBvblNjYXR0ZXJMZWdlbmRDbGljayhsZWdlbmRldmVudDogYW55KSB7XG4gICAgaWYgKHRoaXMuZGF0YUZvcm1hdHRlZFswXS5sZW5ndGggPT0gMikge1xuICAgICAgdGhpcy5vbkxlZ2VuZENsaWNrLmVtaXQodGhpcy5kYXRhKTtcbiAgICB9IGVsc2Uge1xuICAgICAgdGhpcy5sZWdlbmRhcnJheS5mb3JFYWNoKGVsZW1lbnQgPT4ge1xuICAgICAgICBpZiAobGVnZW5kZXZlbnQubGFiZWwgPT0gZWxlbWVudC5sYWJlbCkge1xuICAgICAgICAgIHRoaXMubGVnZW5kQ2xpY2soZWxlbWVudC52YWx1ZSk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIC8vIE1ldGhvZCBmb3IgcmVzcG9uc2l2ZW5lc3NcbiAgcmVzaXplKCkge1xuICAgIHRoaXMuc3Znd2lkdGggPSAwO1xuICAgIHRoaXMuc3ZnLnNlbGVjdEFsbChcIipcIikucmVtb3ZlKCk7XG5cbiAgICB0aGlzLnJlc2l6ZWZsYWcgPSB0cnVlO1xuICAgIHRoaXMuc3Znd2lkdGggPSB0aGlzLmRpdmlkLm5hdGl2ZUVsZW1lbnQub2Zmc2V0V2lkdGg7XG4gICAgdGhpcy5wbG90U2NhdHRlckNoYXJ0KCk7XG5cblxuICB9XG5cbiAgcGxvdExpbmUoZywgeCwgeSwgaGVpZ2h0LCB3aWR0aCkge1xuICAgIGlmICh0aGlzLnZTY2FsZSkge1xuICAgICAgZy5hcHBlbmQoJ2cnKVxuICAgICAgICAuYXR0cihcImNvbG9yXCIsIFwibGlnaHRncmV5XCIpXG4gICAgICAgIC5hdHRyKCd0cmFuc2Zvcm0nLCAndHJhbnNsYXRlKDAsJyArIGhlaWdodCArICcpJylcbiAgICAgICAgLmNhbGwoZDMuYXhpc0JvdHRvbSh4KS5cbiAgICAgICAgICB0aWNrU2l6ZSgtdGhpcy53aWR0aCkudGlja0Zvcm1hdCgnJylcbiAgICAgICAgKTtcbiAgICB9XG4gICAgaWYgKHRoaXMuaFNjYWxlKSB7XG4gICAgICBnLmFwcGVuZCgnZycpXG4gICAgICAgIC5hdHRyKFwiY29sb3JcIiwgXCJsaWdodGdyZXlcIilcbiAgICAgICAgLmNhbGwoZDMuYXhpc0xlZnQoeSlcbiAgICAgICAgICAudGlja1NpemUoLXdpZHRoKS50aWNrRm9ybWF0KCcnKSk7XG4gICAgfVxuICB9XG5cbiAgY29sb3JHZW5lcmF0aW9uKCkge1xuICAgIHRoaXMubGVnZW5kYXJyYXkgPSBbXTtcbiAgICBsZXQgaSA9IDA7XG4gICAgbGV0IG5hbWVzID0gdGhpcy5kYXRhRm9ybWF0dGVkXG4gICAgICAubWFwKGUgPT4gZVsyXSlcbiAgICAgIC5maWx0ZXIoKGUsIGksIGEpID0+IGEuaW5kZXhPZihlKSA9PT0gaSk7XG4gICAgZm9yIChsZXQgaiA9IDE7IGogPCBuYW1lcy5sZW5ndGg7IGorKykge1xuICAgICAgbGV0IHZhbHVlID0gW107XG4gICAgICBsZXQgb2JqID0geyBcImxhYmVsXCI6IFwiXCIsIFwiY29sb3JcIjogXCJcIiwgXCJ2YWx1ZVwiOiBbXSB9O1xuICAgICAgdGhpcy50cmFuc2Zvcm1lZGRhdGEuZm9yRWFjaChlbGVtZW50ID0+IHtcbiAgICAgICAgaWYgKGVsZW1lbnRbT2JqZWN0LmtleXMoZWxlbWVudClbMl1dID09IG5hbWVzW2pdKSB7XG4gICAgICAgICAgZWxlbWVudFsnY29sb3InXSA9IHRoaXMucHJlZGVmaW5lZGNvbG9yc1tpXTtcbiAgICAgICAgICB2YWx1ZS5wdXNoKGVsZW1lbnQpO1xuICAgICAgICB9XG4gICAgICB9KTtcbiAgICAgIG9ialtcInZhbHVlXCJdID0gdmFsdWU7XG4gICAgICBvYmpbXCJsYWJlbFwiXSA9IG5hbWVzW2pdO1xuICAgICAgb2JqW1wiY29sb3JcIl0gPSB0aGlzLnByZWRlZmluZWRjb2xvcnNbaV07XG4gICAgICB0aGlzLmxlZ2VuZGFycmF5LnB1c2gob2JqKTtcbiAgICAgIGkrKztcbiAgICB9XG4gIH1cblxuICBmb3JtTGVnZW5kRGF0YSgpIHtcbiAgICB0aGlzLmxlZ2VuZERhdGEgPSBbXTtcbiAgICB0aGlzLmxlZ2VuZGFycmF5LmZvckVhY2goZWxlbWVudCA9PiB7XG4gICAgICBsZXQgbGVnZW5kb2JqZWN0ID0ge307XG4gICAgICBsZWdlbmRvYmplY3RbJ2xhYmVsJ10gPSBlbGVtZW50LmxhYmVsO1xuICAgICAgbGVnZW5kb2JqZWN0Wydjb2xvciddID0gZWxlbWVudC5jb2xvcjtcbiAgICAgIHRoaXMubGVnZW5kRGF0YS5wdXNoKGxlZ2VuZG9iamVjdCk7XG4gICAgfSk7XG4gIH1cblxuXG59XG4iLCJpbXBvcnQgeyBDb21wb25lbnQsIElucHV0LCBWaWV3Q2hpbGQsIEVsZW1lbnRSZWYsIE91dHB1dCwgRXZlbnRFbWl0dGVyLCBPbkluaXQsIH0gZnJvbSBcIkBhbmd1bGFyL2NvcmVcIjtcbmltcG9ydCB7IEFtZXhpb0QzQmFzZUNoYXJ0Q29tcG9uZW50IH0gZnJvbSBcIi4uL2Jhc2UvYmFzZS5jb21wb25lbnRcIjtcbmltcG9ydCB7IFBsb3RDYXJ0IH0gZnJvbSBcIi4uL2Jhc2UvY2hhcnQuY29tcG9uZW50XCI7XG5pbXBvcnQgeyBDb21tYW5EYXRhU2VydmljZSB9IGZyb20gJy4uL3NlcnZpY2VzL2NvbW1hbi5kYXRhLnNlcnZpY2UnO1xuaW1wb3J0ICogYXMgZDMgZnJvbSAnZDMnO1xuaW1wb3J0IHsgS2V5IH0gZnJvbSAnc2VsZW5pdW0td2ViZHJpdmVyJztcbmltcG9ydHtEZXZpY2VRdWVyeVNlcnZpY2V9IGZyb20gJy4uL3NlcnZpY2VzL2RldmljZS5xdWVyeS5zZXJ2aWNlJztcblxuQENvbXBvbmVudCh7XG4gIHNlbGVjdG9yOiAnYW1leGlvLWQzLWNoYXJ0LW11bHRpYXJlYScsXG4gIHRlbXBsYXRlOiBgXG48ZGl2ICAqbmdJZj1cImRyaWxsYWJsZUZsYWdcIiAjZGl2aWQgKHdpbmRvdzpyZXNpemUpPVwicmVzaXplKClcIj5cbjx0YWJsZSBzdHlsZT1cIndpZHRoOiAxMDAlO1wiICNjaGFydElkPlxuICA8dHI+XG4gICAgICA8dGQgc3R5bGU9XCJmb250LXNpemU6IDE4cHg7IGZvbnQtd2VpZ2h0OiBib2xkOyBcIj4ge3t0aXRsZX19IDwvdGQ+XG4gIDwvdHI+XG4gIDx0cj5cbiAgICAgIDx0ZD5cbiAgICAgICAgICA8c3ZnIFthdHRyLmhlaWdodF09XCJzdmdoZWlnaHRcIiBbYXR0ci53aWR0aF09XCJzdmd3aWR0aFwiIFthdHRyLmlkXT1cImNvbXBvbmVudElkXCI+XG4gICAgICAgICAgPC9zdmc+XG4gICAgICA8L3RkPlxuICA8L3RyPlxuICA8dHI+XG4gICAgICA8dGQgc3R5bGU9XCJkaXNwbGF5OiBibG9jazsgcGFkZGluZzogNXB4O1wiPlxuICAgICAgICAgIDxhbWV4aW8tZDMtbGVnZW5kICpuZ0lmPVwibGVnZW5kXCIgW2hvcml6b250YWxdPVwidHJ1ZVwiIChvbkNsaWNrKT1cIm9uQXJlYUxlZ2VuZENsaWNrKCRldmVudClcIiBbZGF0YV09XCJsZWdlbmRBcnJheVwiIHN0eWxlPVwiaGVpZ2h0OjEwMCU7XCI+XG4gICAgICAgICAgPC9hbWV4aW8tZDMtbGVnZW5kPlxuICAgICAgPC90ZD5cbiAgPC90cj5cbjwvdGFibGU+XG48L2Rpdj5gLFxuICBzdHlsZXM6IFtgYF1cbn0pXG5leHBvcnQgY2xhc3MgTXVsdGlhcmVhQ29tcG9uZW50IGV4dGVuZHMgQW1leGlvRDNCYXNlQ2hhcnRDb21wb25lbnQgaW1wbGVtZW50cyBQbG90Q2FydCwgT25Jbml0IHtcbiAgQElucHV0KCd3aWR0aCcpIHN2Z3dpZHRoOiBudW1iZXIgPSAzMDA7XG4gIEBJbnB1dCgnaGVpZ2h0Jykgc3ZnaGVpZ2h0OiBudW1iZXIgPSAzNTA7XG4gIEBJbnB1dCgnZGF0YS1yZWFkZXInKSBkYXRhcmVhZGVyOiBhbnk7XG4gIEBJbnB1dCgnbGV2ZWwnKSBsZXZlbDogbnVtYmVyID0gMDtcbiAgQElucHV0KCdsYWJlbC1jb2xvcicpIGxhYmVsY29sb3I6IHN0cmluZyA9IFwiYmxhY2tcIjtcbiAgQElucHV0KCdsYWJlbCcpIGxhYmVsZmxhZzogYm9vbGVhbiA9IGZhbHNlO1xuICBASW5wdXQoJ3RhcmdldCcpIHRhcmdldDogbnVtYmVyO1xuICBASW5wdXQoJ2RyaWxsYWJsZS1kYXRhJykgZHJpbGxhYmxlZGF0YWtleTogYW55W10gPSBbXVxuICBodHRwcmVzcG9uc2U6YW55O1xuICBkcmlsbGFibGVGbGFnOiBib29sZWFuID0gdHJ1ZTtcbiAgcmVzaXplZmxhZzpib29sZWFuID0gZmFsc2U7XG4gIHRvZ2dsZWxhYmVsOiBib29sZWFuID0gZmFsc2U7XG4gIEBWaWV3Q2hpbGQoJ2NoYXJ0SWQnKSBjaGFydElkOiBFbGVtZW50UmVmO1xuICBAVmlld0NoaWxkKCdkaXZpZCcpIGRpdmlkOiBFbGVtZW50UmVmO1xuICBAT3V0cHV0KCkgb25MZWdlbmRDbGljazogYW55ID0gbmV3IEV2ZW50RW1pdHRlcjxhbnk+KCk7XG4gIEBPdXRwdXQoKSBvblRvb2x0aXBDbGljazogYW55ID0gbmV3IEV2ZW50RW1pdHRlcjxhbnk+KCk7XG4gIEBJbnB1dCgnaG9yaXpvbnRhbC1zY2FsZScpIGhTY2FsZTogYm9vbGVhbiA9IHRydWU7XG5cbiAgc3ZnOiBhbnk7XG4gIHg6IGFueTtcbiAgeTogYW55O1xuICB6OiBhbnk7XG4gIGhlaWdodDogbnVtYmVyO1xuICB3aWR0aDogbnVtYmVyO1xuICBtYXJnaW46IGFueSA9IHt9O1xuICBpOiBudW1iZXI7XG4gIHBhcnNlVGltZTogYW55O1xuICBrZXlBcnJheTogYW55W10gPSBbXTtcbiAgbWF4aW11bVZhbHVlOiBudW1iZXI7XG4gIHByZWRlZmluZWRDb2xvcnM6IGFueVtdO1xuICBhcmVhQXJyYXk6IGFueTtcbiAgdHJhbnNmb3JtZWRkYXRhOiBhbnlbXSA9IFtdO1xuICBkYXRhMTogYW55W10gPSBbXTtcbiAgbGVnZW5kQXJyYXk6IGFueVtdID0gW107XG4gIHRvb2x0aXA6IGFueTtcbiAgY29uc3RydWN0b3IocHJpdmF0ZSBteXNlcnZpY2U6IENvbW1hbkRhdGFTZXJ2aWNlLHByaXZhdGUgZGV2aWNlOkRldmljZVF1ZXJ5U2VydmljZSkge1xuXG4gICAgc3VwZXIoXCJhcmVhY2hhcnRcIik7XG4gIH1cblxuICBuZ09uSW5pdCgpIHtcbiAgICB0aGlzLnRvZ2dsZWxhYmVsID0gZmFsc2U7XG4gICAgIGxldCByZXM7XG4gICAgIGlmKHRoaXMubGV2ZWw8PTEpe1xuICAgIGlmICh0aGlzLmh0dHBtZXRob2QgJiYgdGhpcy5odHRwdXJsKSB7XG4gICAgICB0aGlzLm15c2VydmljZS5mZXRjaFVybERhdGEodGhpcy5odHRwdXJsLCB0aGlzLmh0dHBtZXRob2QpLnN1YnNjcmliZSgocmVzcG9uc2UpID0+IHtcbiAgICAgICAgdGhpcy5odHRwcmVzcG9uc2U9cmVzcG9uc2U7XG4gICAgICAgIHRoaXMuZGF0YSA9IHRoaXMuZ2V0UmVzcG9uc2VEYXRhKHJlc3BvbnNlKTtcbiAgICAgIH0sIChlcnJvcikgPT4ge1xuICAgICAgfSwgKCkgPT4ge1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICB0aGlzLnRyYW5zZm9ybURhdGEodGhpcy5kYXRhKTtcbiAgICAgICAgICB0aGlzLmluaXRBcmVhQ2hhcnQoKTtcbiAgICAgICAgICB0aGlzLnBsb3REM0NoYXJ0KCk7XG4gICAgICAgIH0sIDApO1xuICAgICAgfSk7XG4gICAgfSBlbHNlIGlmICh0aGlzLmRhdGExKSB7XG5cbiAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICB0aGlzLnRyYW5zZm9ybURhdGEodGhpcy5kYXRhKTtcbiAgICAgICAgdGhpcy5pbml0QXJlYUNoYXJ0KCk7XG4gICAgICAgIHRoaXMucGxvdEQzQ2hhcnQoKTtcbiAgICAgIH0sIDApO1xuICAgIH1cblxuICB9XG4gIH1cblxuXG4gIGZldGNoRGF0YShkYXRhOiBhbnkpIHtcbiAgIFxuICAgIGxldCByZXF1ZXN0SnNvbjtcbiAgICBsZXQga2V5PXRoaXMuZHJpbGxhYmxlZGF0YWtleTtcbiAgICBsZXQgcmVzcDogYW55O1xuICAgIGlmKHRoaXMuZHJpbGxhYmxlZGF0YWtleS5sZW5ndGgpXG4gICAge1xuICAgICAgICAgbGV0IGRyaWxsYWJsZWRhdGE9IHRoaXMuZ2V0TXVsdGlwbGVEcmlsbGJsZUtleURhdGEoZGF0YSxrZXkpO1xuICAgICAgICAgcmVxdWVzdEpzb249ZHJpbGxhYmxlZGF0YTtcbiAgICB9XG4gICAgZWxzZXtcbiAgICAgICAgICAgIHJlcXVlc3RKc29uPWRhdGE7ICBcbiAgICAgICAgfVxuICBcbiAgICBcbiBpZiAodGhpcy5odHRwbWV0aG9kICYmIHRoaXMuaHR0cHVybCkge1xuIHRoaXMubXlzZXJ2aWNlLnBvc3RmZXRjaERhdGEodGhpcy5odHRwdXJsLHRoaXMuaHR0cG1ldGhvZCwgcmVxdWVzdEpzb24pLnN1YnNjcmliZSgocmVzcG9uc2UpID0+IHtcbiAgICAgICAgICAgIHJlc3AgPSByZXNwb25zZTtcbiAgICAgICAgICAgIHRoaXMuaHR0cHJlc3BvbnNlPXJlc3BvbnNlO1xuICAgICAgICB9LCAoZXJyb3IpID0+IHtcbiAgICAgICAgfSwgKCkgPT4ge1xuICAgICAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgICAgICAgLy90aGlzLmRhdGEgPSB0aGlzLmdldFJlc3BvbnNlRGF0YShyZXNwKTtcbiAgICAgICAgICAgICAgICB0aGlzLmRyYXdDaGFydCgpO1xuICAgICAgICAgICAgICAgICAgfSwgMCk7XG4gICAgICAgICAgICAgIH0pO1xuICAgICAgICAgICB9XG59XG5cbmRyYXdDaGFydCgpIHtcbiAgc2V0VGltZW91dCgoKSA9PiB7IFxuICAgIHRoaXMuZGF0YSA9IHRoaXMuZ2V0UmVzcG9uc2VEYXRhKHRoaXMuaHR0cHJlc3BvbnNlKTtcbiAgICAgICAgICB0aGlzLnRyYW5zZm9ybURhdGEodGhpcy5kYXRhKTtcbiAgICAgICAgICB0aGlzLmluaXRBcmVhQ2hhcnQoKTtcbiAgICAgICAgICB0aGlzLnBsb3REM0NoYXJ0KCk7ICAgICAgXG5cbiAgfSwgMCk7XG59IFxuXG4gIGluaXRBcmVhQ2hhcnQoKSB7XG4gICAgdGhpcy50b29sdGlwID0gdGhpcy50b29sVGlwKGQzKTtcbiAgICBpZih0aGlzLnJlc2l6ZWZsYWc9PWZhbHNlKVxuICAgIHtcblxuICAgIFxuICAgIGlmKHRoaXMuY2hhcnRJZCl7XG4gICAgICB0aGlzLnN2Z3dpZHRoID0gdGhpcy5jaGFydElkLm5hdGl2ZUVsZW1lbnQub2Zmc2V0V2lkdGg7XG4gICAgfSBlbHNle1xuICAgIFxuICAgICAgICAgICB0aGlzLnN2Z3dpZHRoID0gdGhpcy5zdmd3aWR0aDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICAgIHRoaXMubWFyZ2luID0geyB0b3A6IDMwLCByaWdodDogNDQsIGJvdHRvbTogNTAsIGxlZnQ6IDMwIH0sXG4gICAgICB0aGlzLndpZHRoID0gdGhpcy5zdmd3aWR0aCAtIHRoaXMubWFyZ2luLmxlZnQgLSB0aGlzLm1hcmdpbi5yaWdodCxcbiAgICAgIHRoaXMuaGVpZ2h0ID0gdGhpcy5zdmdoZWlnaHQgLSB0aGlzLm1hcmdpbi50b3AgLSB0aGlzLm1hcmdpbi5ib3R0b207XG4gICAgLy9maW5kIG1heCBhbmQgaW5pdGlhbGl6ZSBtYXhcbiAgICB0aGlzLm1heGltdW1WYWx1ZSA9IHRoaXMuZmluZE1heERhdGEodGhpcy5kYXRhKTtcblxuICAgIHRoaXMueCA9IGQzLnNjYWxlUG9pbnQoKVxuICAgICAgLnJhbmdlKFswLCB0aGlzLndpZHRoXSlcbiAgICAgIC8vIC5wYWRkaW5nKDAuMSk7XG5cbiAgICB0aGlzLnkgPSBkMy5zY2FsZUxpbmVhcigpXG4gICAgICAucmFuZ2VSb3VuZChbdGhpcy5oZWlnaHQsIDBdKTtcbiAgICB0aGlzLmFyZWFBcnJheT1bXTtcbiAgICAvL3NldCB4IHkgZG9tYWluXG4gICAgdGhpcy5hcmVhQXJyYXkgPSB0aGlzLmRhdGEubWFwKCAoZCk9PiB7IHJldHVybiBkW09iamVjdC5rZXlzKGQpWzBdXTsgfSk7XG4gICAgdGhpcy54LmRvbWFpbih0aGlzLmFyZWFBcnJheSk7XG4gICAgdGhpcy55LmRvbWFpbihbMCwgdGhpcy5tYXhpbXVtVmFsdWVdKTtcbiAgICAvL2luaXRpYWxpemUgc3ZnXG4gICAgdGhpcy5zdmcgPVxuICAgICAgZDMuc2VsZWN0KFwiI1wiICsgdGhpcy5jb21wb25lbnRJZClcbiAgICAgICAgLmF0dHIoXCJ3aWR0aFwiLCB0aGlzLndpZHRoICsgdGhpcy5tYXJnaW4ubGVmdCArIHRoaXMubWFyZ2luLnJpZ2h0KVxuICAgICAgICAuYXR0cihcImhlaWdodFwiLCB0aGlzLmhlaWdodCArIHRoaXMubWFyZ2luLnRvcCArIHRoaXMubWFyZ2luLmJvdHRvbSlcbiAgICB0aGlzLnByZWRlZmluZWRDb2xvcnMgPSBbXCIjMzM2NmNjXCIsIFwiI2RjMzkxMlwiLCBcIiNmZjk5MDBcIiwgXCIjMTA5NjE4XCIsIFwiIzk5MDA5OVwiLCBcIiMwMDk5YzZcIiwgXCIjZGQ0NDc3XCIsIFwiIzY2YWEwMFwiLCBcIiNiODJlMmVcIiwgXCIjMzE2Mzk1XCIsIFwiIzk5NDQ5OVwiLCBcIiMyMmFhOTlcIiwgXCIjYWFhYTExXCIsIFwiIzY2MzNjY1wiLCBcIiNlNjczMDBcIiwgXCIjOGIwNzA3XCIsIFwiIzY1MTA2N1wiLCBcIiMzMjkyNjJcIiwgXCIjNTU3NGE2XCIsIFwiIzNiM2VhY1wiXTtcbiAgfVxuXG4gIHBsb3REM0NoYXJ0KCkge1xuICAgIHRoaXMuZm9ybUxlZ2VuZERhdGEoKTtcbiAgICBsZXQgY291bnRlcjogbnVtYmVyO1xuICAgIGxldCBnID0gdGhpcy5zdmcuYXBwZW5kKFwiZ1wiKS5hdHRyKFwidHJhbnNmb3JtXCIsIFwidHJhbnNsYXRlKFwiICsgdGhpcy5tYXJnaW4ubGVmdCArIFwiLFwiICsgdGhpcy5tYXJnaW4udG9wICsgXCIpXCIpO1xuICAgIC8vIGFkZCB0aGUgWCBcbiAgICBpZih0aGlzLmRldmljZS5Jc0Rlc2t0b3AoKT09dHJ1ZSlcbiAgICB7XG4gICAgICBnLmFwcGVuZChcImdcIilcbiAgICAgICAgICAuYXR0cihcInRyYW5zZm9ybVwiLCBcInRyYW5zbGF0ZSgwLFwiICsgdGhpcy5oZWlnaHQgKyBcIilcIilcbiAgICAgICAgICAuY2FsbChkMy5heGlzQm90dG9tKHRoaXMueCkpXG4gICAgfVxuICBlbHNlXG4gICB7XG4gICAgZy5hcHBlbmQoXCJnXCIpXG4gICAgICAgICAgLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJ0cmFuc2xhdGUoMCxcIiArIHRoaXMuaGVpZ2h0ICsgXCIpXCIpXG4gICAgICAgICAgLmNhbGwoZDMuYXhpc0JvdHRvbSh0aGlzLngpKS5cbiAgICAgICAgICAgc2VsZWN0QWxsKFwidGV4dFwiKVxuICAgICAgICAgICAuYXR0cihcInlcIiwgMClcbiAgICAgICAgICAgLmF0dHIoXCJ4XCIsIDkpXG4gICAgICAgICAgIC5hdHRyKFwiZHlcIiwgXCIuMzVlbVwiKVxuICAgICAgICAgICAuYXR0cihcInRyYW5zZm9ybVwiLCBcInJvdGF0ZSg2MClcIilcbiAgICAgICAgICAgLnN0eWxlKFwidGV4dC1hbmNob3JcIiwgXCJzdGFydFwiKTtcblxuICB9XG4gICAgLy8gYWRkIHRoZSBZIEF4aXNcbiAgICBnLmFwcGVuZChcImdcIilcbiAgICAgIC5jYWxsKGQzLmF4aXNMZWZ0KHRoaXMueSkpO1xuXG4gICAgICB0aGlzLnBsb3RMaW5lKGcsIHRoaXMueCwgdGhpcy55LCB0aGlzLmhlaWdodCwgdGhpcy53aWR0aCk7XG5cbiAgICBmb3IgKGNvdW50ZXIgPSAxOyBjb3VudGVyIDwgdGhpcy5rZXlBcnJheS5sZW5ndGg7IGNvdW50ZXIrKykge1xuICAgICAgbGV0IGlubmVyR3JvdXAgPSB0aGlzLnN2Zy5hcHBlbmQoXCJnXCIpLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJ0cmFuc2xhdGUoXCIgKyB0aGlzLm1hcmdpbi5sZWZ0ICsgXCIsXCIgKyB0aGlzLm1hcmdpbi50b3AgKyBcIilcIik7XG5cbiAgICAgIHRoaXMucGxvdEFyZWFDaGFydChpbm5lckdyb3VwLCBjb3VudGVyLCB0aGlzKTtcbiAgICB9XG4gICAgLy9jYWxsIG1ldGhvZCB0byBwbG90IHBvaW50c1xuICAgIGxldCBpbmNyZW1lbnQ7XG4gICAgZm9yIChpbmNyZW1lbnQgPSAxOyBpbmNyZW1lbnQgPCB0aGlzLmtleUFycmF5Lmxlbmd0aDsgaW5jcmVtZW50KyspIHtcbiAgICAgIC8vcGxvdCBsaW5lXG4gICAgICBsZXQgaW5uZXJHcm91cCA9IHRoaXMuc3ZnLmFwcGVuZChcImdcIikuYXR0cihcInRyYW5zZm9ybVwiLCBcInRyYW5zbGF0ZShcIiArIHRoaXMubWFyZ2luLmxlZnQgKyBcIixcIiArIHRoaXMubWFyZ2luLnRvcCArIFwiKVwiKTtcbiAgICAgIHRoaXMuUGxvdExpbmVEb3QoaW5uZXJHcm91cCwgaW5jcmVtZW50LCB0aGlzKTtcbiAgICB9Ly9pbmNyZW1lbnQgZm9yIGVuZHNcbiAgfVxuXG4gIFBsb3RMaW5lRG90KGc6IGFueSwgaTogbnVtYmVyLCB0aGlzYTogdGhpcykge1xuICAgIGxldCBmbGFnID0gdGhpcy50b2dnbGVsYWJlbDtcbiAgICBjb25zdCBsaW5lID0gZDMubGluZSgpXG4gICAgICAueCggKGQpPT4geyByZXR1cm4gdGhpc2EueChkW09iamVjdC5rZXlzKGQpWzBdXSk7IH0pXG4gICAgICAueSggKGQpPT4geyByZXR1cm4gdGhpc2EueShkW09iamVjdC5rZXlzKGQpW2ldXSk7IH0pO1xuICAgIGcuYXBwZW5kKFwicGF0aFwiKVxuICAgICAgLmRhdGEoW3RoaXNhLmRhdGFdKVxuICAgICAgLmF0dHIoXCJmaWxsXCIsIFwibm9uZVwiKVxuICAgICAgLmF0dHIoXCJzdHJva2VcIiwgdGhpc2EucHJlZGVmaW5lZGNvbG9yc1tpXSlcbiAgICAgIC5hdHRyKFwic3Ryb2tlLXdpZHRoXCIsIDEuNSlcbiAgICAgIC5hdHRyKFwiZFwiLCBsaW5lKVxuICAgICAgLmF0dHIoXCJvcGFjaXR5XCIsIDAuMilcbiAgICAgIC5hdHRyKFwidHJhbnNmb3JtXCIsXG4gICAgICAgIC8vIFwidHJhbnNsYXRlKFwiICsgdGhpcy5tYXJnaW4ubGVmdCArIFwiLFwiICsgMCArIFwiKVwiKTtcbiAgICAgICAgXCJ0cmFuc2xhdGUoXCIgKyAgMCArIFwiLFwiICsgMCArIFwiKVwiKTtcbiAgICAvLy0tLS0tLS0tLS1cblxuICAgIGcuc2VsZWN0QWxsKCdkb3QnKVxuICAgICAgLmRhdGEodGhpc2EuZGF0YSlcbiAgICAgIC5lbnRlcigpXG4gICAgICAuYXBwZW5kKCdjaXJjbGUnKVxuICAgICAgLmF0dHIoJ29wYWNpdHknLCAwKVxuICAgICAgLmF0dHIoXCJmaWxsXCIsIHRoaXNhLnByZWRlZmluZWRjb2xvcnNbaV0pXG4gICAgICAuYXR0cihcImN4XCIsIChkKSA9PiB7IHJldHVybiB0aGlzYS54KGRbT2JqZWN0LmtleXMoZClbMF1dKTsgfSlcbiAgICAgIC5hdHRyKFwiY3lcIiwgKGQpID0+IHsgcmV0dXJuIHRoaXNhLnkoZFtPYmplY3Qua2V5cyhkKVtpXV0pOyB9KVxuICAgICAgLmF0dHIoJ3InLCA0KVxuICAgICAgLmF0dHIoXCJjdXJzb3JcIiwgXCJwb2ludGVyXCIpXG4gICAgICAub24oXCJtb3VzZW92ZXJcIiwgKGQpID0+IHtcbiAgICAgICAgdGhpcy5mb3JtVG9vbHRpcERhdGEoZCwgaSk7XG4gICAgICAgIHJldHVybiB0aGlzLnRvb2x0aXAuc3R5bGUoXCJ2aXNpYmlsaXR5XCIsIFwidmlzaWJsZVwiKTtcblxuICAgICAgfSlcbiAgICAgIC5vbihcIm1vdXNlbW92ZVwiLCAoZCkgPT4ge1xuICAgICAgICByZXR1cm4gdGhpcy50b29sdGlwLmh0bWwoXG4gICAgICAgICAgdGhpcy5mb3JtVG9vbHRpcERhdGEoZCwgaSlcbiAgICAgICAgKVxuICAgICAgICAgIC5zdHlsZShcInRvcFwiLCAoZDMuZXZlbnQucGFnZVkgLSAxMCkgKyBcInB4XCIpXG4gICAgICAgICAgLnN0eWxlKFwibGVmdFwiLCAoZDMuZXZlbnQucGFnZVggKyAxMCkgKyBcInB4XCIpO1xuICAgICAgfSlcbiAgICAgIC5vbihcIm1vdXNlb3V0XCIsIChkKSA9PiB7XG4gICAgICAgIHJldHVybiB0aGlzLnRvb2x0aXAuc3R5bGUoXCJ2aXNpYmlsaXR5XCIsIFwiaGlkZGVuXCIpO1xuICAgICAgfSlcblxuICAgICAgLnN0eWxlKFwib3BhY2l0eVwiLCAxKVxuICAgICAgLm9uKFwiY2xpY2tcIiwgKGQpID0+IHtcbiAgICAgICAgdGhpcy5vbkFyZWFUb29sdGlwQ2xpY2soZCwgaSk7XG4gICAgICAgIHRoaXMuZm9yZHJpbGxhYmxlQ2xpY2sodGhpcywgZCwgZXZlbnQpO1xuICAgICAgICByZXR1cm4gdGhpcy50b29sdGlwLnN0eWxlKFwidmlzaWJpbGl0eVwiLCBcImhpZGRlblwiKTtcbiAgICAgICAgLy90aGlzLmNoYXJ0Q2xpY2soZCk7XG4gICAgICB9KVxuICAgICAgLmF0dHIoXCJ0cmFuc2Zvcm1cIixcbiAgICAgICAgLy8gXCJ0cmFuc2xhdGUoXCIgKyB0aGlzLm1hcmdpbi5sZWZ0ICsgXCIsXCIgKyAwICsgXCIpXCIpO1xuICAgICAgICBcInRyYW5zbGF0ZShcIiArICAwICsgXCIsXCIgKyAwICsgXCIpXCIpO1xuXG4gICAgLy8gLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS0tLS1cbiAgICBpZih0aGlzLmxhYmVsZmxhZykge1xuICAgIGcuc2VsZWN0QWxsKCdsYWJlbHMnKVxuICAgIC5kYXRhKHRoaXNhLmRhdGEpXG4gICAgLmVudGVyKClcbiAgICAuYXBwZW5kKCd0ZXh0JylcbiAgICAuc3R5bGUoXCJmb250LXdlaWdodFwiLFwiYm9sZFwiKVxuICAgIC5hdHRyKFwidGV4dC1hbmNob3JcIiwgXCJtaWRkbGVcIilcbiAgICAuYXR0cihcImZpbGxcIiwgKGQpPT57XG4gICAgICBpZih0aGlzLmxhYmVsY29sb3IubGVuZ3RoPjApe1xuICAgICAgICByZXR1cm4gdGhpcy5sYWJlbGNvbG9yO1xuICAgICAgfSBlbHNlIHtcbiAgICAgICAgcmV0dXJuIFwiYmxhY2tcIjtcbiAgICAgIH1cbiAgICB9KVxuICAgIC5hdHRyKFwieFwiLCBmdW5jdGlvbihkKSB7XG4gICAgICAvLyBsZXQgbGVuZ3RoID0gU3RyaW5nKGRbT2JqZWN0LmtleXMoZClbaV1dKS5sZW5ndGhcbiAgICAgICAgcmV0dXJuIHRoaXNhLngoZFtPYmplY3Qua2V5cyhkKVswXV0pICsgMjA7XG4gICAgIH0pXG4gICAgLmF0dHIoXCJ5XCIsIGZ1bmN0aW9uKGQpIHtcbiAgICAgIGxldCBrZXk6IGFueSA9IFtPYmplY3Qua2V5cyhkKVtpXV07XG4gICAgICAgIGlmKGZsYWcpXG4gICAgICB7XG4gICAgICAgIHJldHVybiB0aGlzYS55KGRba2V5XSkgLSA1Oy8vIGZyIHVwXG4gICAgICB9IFxuICAgICAgZWxzZSB7XG4gICAgICAgIHJldHVybiB0aGlzYS55KGRba2V5XSkgKyAxNTtcbiAgICAgICAgICAgfVxuICAgICAgLy8gcmV0dXJuIHRoaXNhLnkoZFtPYmplY3Qua2V5cyhkKVtpXV0pO1xuICAgICAgICAvLyAgcmV0dXJuIHkoZFtPYmplY3Qua2V5cyhkKVsxXV0pK3lUZXh0UGFkZGluZztcbiAgICB9KVxuICAgIC50ZXh0KGZ1bmN0aW9uKGQpe1xuICAgICAgICAgIHJldHVybiBkW09iamVjdC5rZXlzKGQpW2ldXTtcbiAgICB9KVxuICAgIC5hdHRyKFwidHJhbnNmb3JtXCIsXG4gICAgICAgXCJ0cmFuc2xhdGUoXCIgKyAgMCArIFwiLFwiICsgMCArIFwiKVwiKTtcblxufVxuICAgICBpZih0aGlzLnRvZ2dsZWxhYmVsKSB7XG4gICAgICB0aGlzLnRvZ2dsZWxhYmVsID0gZmFsc2U7XG4gICAgIH1cbiAgICAgZWxzZSB7XG4gICAgICB0aGlzLnRvZ2dsZWxhYmVsID0gdHJ1ZTtcbiAgICAgfVxuICAgICBcbiAgfVxuXG4gIHBsb3RBcmVhQ2hhcnQoZzogYW55LCBpOiBudW1iZXIsIHRoaXNhOiB0aGlzKSB7XG4gICAgLy8gY2FsY3VsYXRlIGFyZWEgYW5kIHZhbHVlbGluZVxuICAgIC8vIGRlZmluZSB0aGUgbGluZVxuICAgIGNvbnN0IHZhbHVlbGluZSA9IGQzLmxpbmUoKVxuICAgICAgLngoIChkKT0+IHtcbiAgICAgICAgbGV0IGtleTogYW55ID0gW09iamVjdC5rZXlzKGQpWzBdXTtcbiAgICAgICAgcmV0dXJuIHRoaXNhLngoZFtrZXldKTtcbiAgICAgIH0pXG4gICAgICAueSgoZCk9PiB7XG4gICAgICAgIGxldCBrZXk6IGFueSA9IFtPYmplY3Qua2V5cyhkKVtpXV07XG4gICAgICAgIHJldHVybiB0aGlzYS55KGRba2V5XSk7XG4gICAgICB9KTtcblxuICAgIC8vIGFkZCB0aGUgdmFsdWVsaW5lIHBhdGguXG4gICAgZy5hcHBlbmQoXCJwYXRoXCIpXG4gICAgICAuZGF0YShbdGhpcy5kYXRhXSlcbiAgICAgIC5zdHlsZShcInN0cm9rZVwiLFxuICAgICAgICB0aGlzLnByZWRlZmluZWRDb2xvcnNbaV1cbiAgICAgIClcbiAgICAgIC5hdHRyKFwiZmlsbFwiLCBcIm5vbmVcIilcbiAgICAgIC5zdHlsZShcInN0cm9rZS13aWR0aFwiLCBcIjJweFwiKVxuICAgICAgLmF0dHIoXCJkXCIsIHZhbHVlbGluZSlcbiAgICAgIC5hdHRyKFwidHJhbnNmb3JtXCIsXG4gICAgICAgIC8vIFwidHJhbnNsYXRlKFwiICsgdGhpcy5tYXJnaW4ubGVmdCArIFwiLFwiICsgMCArIFwiKVwiKTtcbiAgICAgICAgXCJ0cmFuc2xhdGUoXCIgKyAwICsgXCIsXCIgKyAwICsgXCIpXCIpO1xuXG4gICAgLy8gZGVmaW5lIHRoZSBhcmVhXG4gICAgbGV0IGFyZWEgPSBkMy5hcmVhKClcbiAgICAgIC54KCAoZCk9PiB7XG4gICAgICAgIGxldCBrZXk6IGFueSA9IFtPYmplY3Qua2V5cyhkKVswXV07XG4gICAgICAgIHJldHVybiB0aGlzYS54KGRba2V5XSk7XG4gICAgICB9KVxuICAgICAgLnkwKHRoaXMuaGVpZ2h0KVxuICAgICAgLnkxKCAoZCk9PiB7XG4gICAgICAgIGxldCBrZXk6IGFueSA9IFtPYmplY3Qua2V5cyhkKVtpXV07XG4gICAgICAgIHJldHVybiB0aGlzYS55KGRba2V5XSk7XG4gICAgICB9KTtcblxuICAgIGcuYXBwZW5kKFwicGF0aFwiKVxuICAgICAgLmRhdGEoW3RoaXMuZGF0YV0pXG4gICAgICAuYXR0cihcImRcIiwgYXJlYSlcbiAgICAgIC5hdHRyKFwidHJhbnNmb3JtXCIsXG4gICAgICAgIC8vIFwidHJhbnNsYXRlKFwiICsgdGhpcy5tYXJnaW4ubGVmdCArIFwiLFwiICsgMCArIFwiKVwiKVxuICAgICAgICBcInRyYW5zbGF0ZShcIiArIDAgKyBcIixcIiArIDAgKyBcIilcIilcbiAgICAgIC5zdHlsZShcInN0cm9rZVwiLCBcIm5vbmVcIilcbiAgICAgIC5hdHRyKFwiZmlsbFwiLCB0aGlzLnByZWRlZmluZWRDb2xvcnNbaV1cbiAgICAgIClcbiAgICAgIC5zdHlsZShcIm9wYWNpdHlcIiwgMC41KVxuICB9XG5cbiAgb25BcmVhVG9vbHRpcENsaWNrKHRvb2x0aXBEYXRhOiBhbnksIGNvdW50OiBudW1iZXIpIHtcbiAgICBsZXQgb2JqID0ge307XG4gICAgb2JqW3RoaXMua2V5QXJyYXlbMF1dID0gdG9vbHRpcERhdGFbT2JqZWN0LmtleXModG9vbHRpcERhdGEpWzBdXTtcbiAgICBvYmpbdGhpcy5rZXlBcnJheVtjb3VudF1dID0gdG9vbHRpcERhdGFbT2JqZWN0LmtleXModG9vbHRpcERhdGEpW2NvdW50XV07XG4gICAgdGhpcy5jaGFydENsaWNrKG9iaik7XG4gIH1cblxuICBmaW5kTWF4RGF0YShkYXRhOiBhbnkpIHtcbiAgICBsZXQgdGVtcEFycmF5ID0gW107XG4gICAgbGV0IGxhcmdlVmFsdWVzID0gW107XG4gICAgbGV0IG1heFZhbHVlO1xuICAgIC8vbG9naWMgdG8gc2VhcmNoIDMgbGFyZ2VzdCB2YWx1ZXMgXG4gICAgZGF0YS5mb3JFYWNoKGVsZW1lbnQgPT4ge1xuICAgICAgbGV0IHRlbXAgPSBbXTtcbiAgICAgIGxldCB2YWx1ZTtcbiAgICAgIGZvciAobGV0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhlbGVtZW50KSkge1xuICAgICAgICAvL2V4ZW1wdHMgZmlyc3QgY29sdW1uIG9mIGRhdGEgYXMgaXQgaXMgdHJlYXRlZCBhcyB4LWF4aXNcbiAgICAgICAgaWYgKGtleSAhPSB0aGlzLmtleUFycmF5WzBdKSB7XG4gICAgICAgICAgdGVtcEFycmF5LnB1c2godmFsdWUpO1xuICAgICAgICB9XG4gICAgICB9Ly9mb3IgbG9vcCBlbmRcbiAgICAgIHZhbHVlID0gdGhpcy5maW5kTGFyZ2VzdFZhbHVlKHRlbXBBcnJheSk7XG4gICAgICBsYXJnZVZhbHVlcy5wdXNoKHZhbHVlKTtcbiAgICB9KTtcbiAgICBtYXhWYWx1ZSA9IHRoaXMuZmluZExhcmdlc3RWYWx1ZShsYXJnZVZhbHVlcyk7XG4gICAgcmV0dXJuIG1heFZhbHVlO1xuICB9XG5cbiAgZmluZExhcmdlc3RWYWx1ZShhcnJheTogYW55W10pIHtcbiAgICBsZXQgaTtcbiAgICBsZXQgbWF4ID0gMDtcbiAgICBmb3IgKGkgPSAwOyBpIDwgYXJyYXkubGVuZ3RoOyBpKyspIHtcbiAgICAgIGlmIChhcnJheVtpXSA+IG1heCkge1xuICAgICAgICBtYXggPSBhcnJheVtpXTtcbiAgICAgIH0vL2lmIGVuZHMgXG4gICAgfS8vbWF4IGVuZHNcbiAgICByZXR1cm4gbWF4O1xuICB9XG5cbiAgLy9jb3ZlcnQgZGF0YVxuICB0cmFuc2Zvcm1EYXRhKGRhdGE6IGFueSkge1xuICAgIHRoaXMudHJhbnNmb3JtZWRkYXRhPVtdO1xuICAgIHRoaXMua2V5QXJyYXkgPSBkYXRhWzBdO1xuICAgIGRhdGEuZm9yRWFjaCgoZWxlbWVudCwgaW5kZXgpID0+IHtcbiAgICAgIGlmIChpbmRleCA+IDApIHtcbiAgICAgICAgbGV0IER1bW15T2JqZWN0OiBhbnkgPSB7fTtcbiAgICAgICAgZWxlbWVudC5mb3JFYWNoKChpbmRpdmlkdWFsdmFsdWUsIGtleWluZGV4KSA9PiB7XG4gICAgICAgICAgRHVtbXlPYmplY3RbdGhpcy5rZXlBcnJheVtrZXlpbmRleF1dID0gaW5kaXZpZHVhbHZhbHVlO1xuICAgICAgICB9KTsvL2lubmVyIGZvciBsb29wIGVuZHNcbiAgICAgICAgdGhpcy50cmFuc2Zvcm1lZGRhdGEucHVzaChEdW1teU9iamVjdCk7XG4gICAgICB9Ly9pZiBlbmRzXG4gICAgfSk7Ly9vdXRlciBmb3IgbG9vcCBlbmRzXG5cbiAgICBsZXQgcGFyc2VkdHJhbnNmb3JtZWRkYXRhID0gSlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeSh0aGlzLnRyYW5zZm9ybWVkZGF0YSkpO1xuXG4gICAgdGhpcy5kYXRhID0gcGFyc2VkdHJhbnNmb3JtZWRkYXRhO1xuICB9XG5cbiAgZm9ybUxlZ2VuZERhdGEoKSB7XG4gICAgdGhpcy5sZWdlbmRBcnJheSA9IFtdO1xuICAgIHRoaXMua2V5QXJyYXkuZm9yRWFjaCgoZWxlbWVudCwgaW5kZXgpID0+IHtcbiAgICAgIGlmIChpbmRleCA+IDApIHtcbiAgICAgICAgbGV0IGxlZ2VuZG9iamVjdCA9IHt9O1xuICAgICAgICBsZWdlbmRvYmplY3RbJ2xhYmVsJ10gPSBlbGVtZW50O1xuICAgICAgICBsZWdlbmRvYmplY3RbJ2NvbG9yJ10gPSB0aGlzLnByZWRlZmluZWRDb2xvcnNbaW5kZXggKyAxXTtcbiAgICAgICAgdGhpcy5sZWdlbmRBcnJheS5wdXNoKGxlZ2VuZG9iamVjdCk7XG4gICAgICB9XG4gICAgfSk7XG4gIH1cblxuICBvbkFyZWFMZWdlbmRDbGljayhsZWdlbmREYXRhOiBhbnkpIHtcbiAgICBsZXQgb2JqID0ge307XG4gICAgb2JqW1wibGFiZWxcIl0gPSBsZWdlbmREYXRhLmxhYmVsO1xuICAgIGxldCBkYXRhID0gW107XG4gICAgdGhpcy5kYXRhLmZvckVhY2goZWxlbWVudCA9PiB7XG4gICAgICBmb3IgKGxldCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXModGhpcy5kYXRhWzBdKSkge1xuICAgICAgICBpZiAoa2V5ID09IGxlZ2VuZERhdGEubGFiZWwpIHtcbiAgICAgICAgICBsZXQgb2JqZWN0ID0ge307XG4gICAgICAgICAgb2JqZWN0W2tleV0gPSB2YWx1ZTtcbiAgICAgICAgICBkYXRhLnB1c2gob2JqZWN0KTtcbiAgICAgICAgfS8vaW5uZXIgaWYgZW5kc1xuICAgICAgfS8vaW5uZXIgZm9ybG9vcCBlbmRzXG4gICAgfSk7Ly9vdXRlciBmb3JlYWNoIGVuZHNcbiAgICBvYmpbXCJkYXRhXCJdID0gZGF0YTtcbiAgICB0aGlzLm9uTGVnZW5kQ2xpY2suZW1pdChvYmopO1xuICB9XG5cbiAgZ2V0UmVzcG9uc2VEYXRhKGh0dHBSZXNwb25zZTogYW55KSB7XG4gICAgbGV0IHJlc3BvbnNlZGF0YSA9IGh0dHBSZXNwb25zZTtcbiAgICBpZiAodGhpcy5kYXRhcmVhZGVyICE9IG51bGwpIHtcbiAgICAgIGNvbnN0IGRyID0gdGhpcy5kYXRhcmVhZGVyLnNwbGl0KCcuJyk7XG4gICAgICBmb3IgKGNvbnN0IGlyIG9mIGRyKSB7XG4gICAgICAgIHJlc3BvbnNlZGF0YSA9IHJlc3BvbnNlZGF0YVtpcl07XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc3BvbnNlZGF0YSA9IGh0dHBSZXNwb25zZTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3BvbnNlZGF0YTtcbiAgfVxuXG4gIHJlc2l6ZSgpIHtcbiAgICB0aGlzLnN2Z3dpZHRoID0gMDtcbiAgICB0aGlzLnN2Zy5zZWxlY3RBbGwoXCIqXCIpLnJlbW92ZSgpO1xuICAgIHRoaXMucmVzaXplZmxhZyA9IHRydWU7XG4gICAgdGhpcy5zdmd3aWR0aCA9IHRoaXMuZGl2aWQubmF0aXZlRWxlbWVudC5vZmZzZXRXaWR0aDtcbiAgICB0aGlzLmluaXRBcmVhQ2hhcnQoKTtcbiAgICB0aGlzLnBsb3REM0NoYXJ0KCk7XG4gIH1cblxuICBmb3JtVG9vbHRpcERhdGEodG9vbHRpcERhdGE6IGFueSwgY291bnQ6IG51bWJlcikge1xuICAgIGxldCBvYmogPSB7fTtcbiAgICBvYmpbdGhpcy5rZXlBcnJheVswXV0gPSB0b29sdGlwRGF0YVtPYmplY3Qua2V5cyh0b29sdGlwRGF0YSlbMF1dO1xuICAgIG9ialt0aGlzLmtleUFycmF5W2NvdW50XV0gPSB0b29sdGlwRGF0YVtPYmplY3Qua2V5cyh0b29sdGlwRGF0YSlbY291bnRdXTtcbiAgICByZXR1cm4gdGhpcy50b29sVGlwRm9yQmFyKG9iaik7XG4gIH1cblxuICBwbG90TGluZShnLCB4LCB5LCBoZWlnaHQsIHdpZHRoKSB7XG4gICAgaWYgKHRoaXMuaFNjYWxlKSB7XG4gICAgICBnLmFwcGVuZCgnZycpXG4gICAgICAgIC5hdHRyKFwiY29sb3JcIiwgXCJsaWdodGdyZXlcIilcbiAgICAgICAgLmNhbGwoZDMuYXhpc0xlZnQoeSlcbiAgICAgICAgICAudGlja1NpemUoLXdpZHRoKS50aWNrRm9ybWF0KCcnKSk7XG4gICAgfVxuICB9XG59XG4iLCJpbXBvcnQgeyBDb21wb25lbnQsIElucHV0LCBWaWV3Q2hpbGQsIEVsZW1lbnRSZWYsIE91dHB1dCwgRXZlbnRFbWl0dGVyLCBPbkluaXQsIH0gZnJvbSBcIkBhbmd1bGFyL2NvcmVcIjtcbmltcG9ydCB7IEFtZXhpb0QzQmFzZUNoYXJ0Q29tcG9uZW50IH0gZnJvbSBcIi4uL2Jhc2UvYmFzZS5jb21wb25lbnRcIjtcbmltcG9ydCB7IFBsb3RDYXJ0IH0gZnJvbSBcIi4uL2Jhc2UvY2hhcnQuY29tcG9uZW50XCI7XG5pbXBvcnQgeyBDb21tYW5EYXRhU2VydmljZSB9IGZyb20gJy4uL3NlcnZpY2VzL2NvbW1hbi5kYXRhLnNlcnZpY2UnO1xuaW1wb3J0e0RldmljZVF1ZXJ5U2VydmljZX0gZnJvbSAnLi4vc2VydmljZXMvZGV2aWNlLnF1ZXJ5LnNlcnZpY2UnO1xuaW1wb3J0ICogYXMgZDMgZnJvbSAnZDMnO1xuQENvbXBvbmVudCh7XG4gIHNlbGVjdG9yOiAnYW1leGlvLWQzLWNoYXJ0LXdhdGVyZmFsbCcsXG4gIHRlbXBsYXRlOiBgXG48ZGl2ICAgKm5nSWY9XCJkcmlsbGFibGVGbGFnXCIgI2RpdmlkICh3aW5kb3c6cmVzaXplKT1cInJlc2l6ZSgpXCIgPlxuPHRhYmxlIHN0eWxlPVwid2lkdGg6IDEwMCU7XCIgI2NoYXJ0SWQgKHdpbmRvdzpyZXNpemUpPVwicmVzaXplKClcIj5cbiAgPHRyPlxuICAgICAgPHRkIHN0eWxlPVwiZm9udC1zaXplOiAxOHB4OyBmb250LXdlaWdodDogYm9sZDsgXCI+IHt7dGl0bGV9fSA8L3RkPlxuICA8L3RyPlxuICA8dHI+XG4gICAgICA8dGQ+XG4gICAgICAgICAgPHN2ZyBbYXR0ci5oZWlnaHRdPVwic3ZnaGVpZ2h0XCIgW2F0dHIud2lkdGhdPVwic3Znd2lkdGhcIiBbYXR0ci5pZF09XCJjb21wb25lbnRJZFwiPlxuICAgICAgICAgIDwvc3ZnPlxuICAgICAgPC90ZD5cbiAgPC90cj5cbiAgPHRyPlxuICAgICAgPHRkIHN0eWxlPVwiZGlzcGxheTogYmxvY2s7IHBhZGRpbmc6IDVweDtcIj5cbiAgICAgICAgICA8YW1leGlvLWQzLWxlZ2VuZCAqbmdJZj1cImxlZ2VuZFwiIFtob3Jpem9udGFsXT1cInRydWVcIiAob25DbGljayk9XCJvbkNhbmRsZXN0aWNrTGVnZW5kQ2xpY2soJGV2ZW50KVwiIFtkYXRhXT1cImxlZ2VuZEFycmF5XCIgc3R5bGU9XCJoZWlnaHQ6MTAwJTtcIj5cbiAgICAgICAgICA8L2FtZXhpby1kMy1sZWdlbmQ+XG4gICAgICA8L3RkPlxuICA8L3RyPlxuPC90YWJsZT5cbjwvZGl2PmAsXG4gIHN0eWxlczogW2BgXVxufSlcblxuZXhwb3J0IGNsYXNzIENhbmRsZXN0aWNrQ29tcG9uZW50IGV4dGVuZHMgQW1leGlvRDNCYXNlQ2hhcnRDb21wb25lbnQgaW1wbGVtZW50cyBQbG90Q2FydCwgT25Jbml0IHtcbiAgQElucHV0KCd3aWR0aCcpIHN2Z3dpZHRoOiBudW1iZXIgPSAzMDA7XG4gIEBJbnB1dCgnaGVpZ2h0Jykgc3ZnaGVpZ2h0OiBudW1iZXIgPSAzMDA7XG4gIEBJbnB1dCgnZGF0YS1yZWFkZXInKSBkYXRhcmVhZGVyOiBhbnk7XG4gIEBJbnB1dCgpIGRhdGE6IGFueVtdO1xuICBASW5wdXQoJ2xldmVsJykgbGV2ZWw6IG51bWJlciA9IDA7XG4gIEBJbnB1dCgndGFyZ2V0JykgdGFyZ2V0OiBudW1iZXI7XG4gIEBJbnB1dCgnZHJpbGxhYmxlLWRhdGEnKSBkcmlsbGFibGVkYXRha2V5OiBhbnlbXSA9IFtdO1xuICBASW5wdXQoJ2xhYmVsLWNvbG9yJykgbGFiZWxjb2xvcjogc3RyaW5nID0gXCJibGFja1wiO1xuICBASW5wdXQoJ2xhYmVsJykgbGFiZWxmbGFnOiBib29sZWFuID0gZmFsc2U7XG4gIEBJbnB1dCgnaG9yaXpvbnRhbC1zY2FsZScpIGhTY2FsZTogYm9vbGVhbiA9IHRydWU7XG4gIEBWaWV3Q2hpbGQoJ2NoYXJ0SWQnKSBjaGFydElkOiBFbGVtZW50UmVmO1xuICBAVmlld0NoaWxkKCdkaXZpZCcpIGRpdmlkOiBFbGVtZW50UmVmO1xuICBAT3V0cHV0KCkgb25MZWdlbmRDbGljazogYW55ID0gbmV3IEV2ZW50RW1pdHRlcjxhbnk+KCk7XG4gIGRyaWxsYWJsZUZsYWc6IGJvb2xlYW4gPSB0cnVlO1xuICByZXNpemVmbGFnOiBib29sZWFuID0gZmFsc2U7XG4gIHByZWRlZmluZWRDb2xvciA9IFtdO1xuICBrZXlBcnJheTogYW55W10gPSBbXTtcbiAgdHJhbnNmb3JtZWRkYXRhOiBhbnk7XG4gIGhlaWdodDogbnVtYmVyO1xuICB3aWR0aDogbnVtYmVyO1xuICBtYXJnaW46IGFueSA9IHt9O1xuICB4OiBhbnk7XG4gIHk6IGFueTtcbiAgc3ZnOiBhbnk7XG4gIHRvb2x0aXA6IGFueTtcbiAgbGVnZW5kQXJyYXk6IGFueVtdID0gW107XG4gIGh0dHByZXNwb25zZTogYW55O1xuICBjb25zdHJ1Y3Rvcihwcml2YXRlIG15c2VydmljZTogQ29tbWFuRGF0YVNlcnZpY2UscHJpdmF0ZSBkZXZpY2U6RGV2aWNlUXVlcnlTZXJ2aWNlKSB7XG4gICAgc3VwZXIoXCJjYW5kbGVzdGlja3dhdGVyZmFsbGNoYXJ0XCIpO1xuICB9XG5cbiAgbmdPbkluaXQoKSB7XG4gICAgdGhpcy5wcmVkZWZpbmVkQ29sb3IgPSBbXCIjMzM2NmNjXCIsIFwiI2RjMzkxMlwiLCBcIiNmZjk5MDBcIiwgXCIjMTA5NjE4XCIsIFwiIzk5MDA5OVwiLCBcIiMwMDk5YzZcIiwgXCIjZGQ0NDc3XCIsIFwiIzY2YWEwMFwiLCBcIiNiODJlMmVcIiwgXCIjMzE2Mzk1XCIsIFwiIzk5NDQ5OVwiLCBcIiMyMmFhOTlcIiwgXCIjYWFhYTExXCIsIFwiIzY2MzNjY1wiLCBcIiNlNjczMDBcIiwgXCIjOGIwNzA3XCIsIFwiIzY1MTA2N1wiLCBcIiMzMjkyNjJcIiwgXCIjNTU3NGE2XCIsIFwiIzNiM2VhY1wiXTtcbiAgICBpZiAodGhpcy5sZXZlbCA8PSAxKSB7XG4gICAgICBsZXQgcmVzO1xuICAgICAgaWYgKHRoaXMuaHR0cG1ldGhvZCAmJiB0aGlzLmh0dHB1cmwpIHtcbiAgICAgICAgdGhpcy5teXNlcnZpY2UuZmV0Y2hVcmxEYXRhKHRoaXMuaHR0cHVybCwgdGhpcy5odHRwbWV0aG9kKS5zdWJzY3JpYmUoKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgLy90aGlzLmRhdGEgPSByZXNwb25zZTtcbiAgICAgICAgICB0aGlzLmh0dHByZXNwb25zZSA9IHJlc3BvbnNlO1xuICAgICAgICAgIHRoaXMuZGF0YSA9IHRoaXMuZ2V0UmVzcG9uc2VEYXRhKHJlc3BvbnNlKTtcbiAgICAgICAgfSwgKGVycm9yKSA9PiB7XG4gICAgICAgIH0sICgpID0+IHtcbiAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtRGF0YSh0aGlzLmRhdGEpO1xuICAgICAgICAgICAgdGhpcy5pbml0aWFsaXplRGF0YSgpO1xuICAgICAgICAgICAgdGhpcy5wbG90WFlBeGlzKCk7XG4gICAgICAgICAgICB0aGlzLnBsb3REM0NoYXJ0KCk7XG4gICAgICAgICAgfSwgMCk7XG4gICAgICAgIH0pO1xuICAgICAgfSBlbHNlIGlmICh0aGlzLmRhdGEpIHtcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgdGhpcy50cmFuc2Zvcm1EYXRhKHRoaXMuZGF0YSk7XG4gICAgICAgICAgdGhpcy5pbml0aWFsaXplRGF0YSgpO1xuICAgICAgICAgIHRoaXMucGxvdFhZQXhpcygpO1xuICAgICAgICAgIHRoaXMucGxvdEQzQ2hhcnQoKTtcbiAgICAgICAgfSwgMCk7XG4gICAgICB9XG4gICAgfVxuICB9XG5cbiAgZmV0Y2hEYXRhKGRhdGE6IGFueSkge1xuICAgIGxldCByZXF1ZXN0SnNvbjtcbiAgICBsZXQga2V5ID0gdGhpcy5kcmlsbGFibGVkYXRha2V5O1xuICAgIGxldCByZXNwOiBhbnk7XG4gICAgaWYgKHRoaXMuZHJpbGxhYmxlZGF0YWtleS5sZW5ndGgpIHtcbiAgICAgIGxldCBkcmlsbGFibGVkYXRhID0gdGhpcy5nZXRNdWx0aXBsZURyaWxsYmxlS2V5RGF0YShkYXRhLCBrZXkpO1xuICAgICAgcmVxdWVzdEpzb24gPSBkcmlsbGFibGVkYXRhO1xuICAgIH1cbiAgICBlbHNlIHtcbiAgICAgIHJlcXVlc3RKc29uID0gZGF0YTtcbiAgICB9XG4gICAgaWYgKHRoaXMuaHR0cG1ldGhvZCAmJiB0aGlzLmh0dHB1cmwpIHtcbiAgICAgIHRoaXMubXlzZXJ2aWNlLnBvc3RmZXRjaERhdGEodGhpcy5odHRwdXJsLCB0aGlzLmh0dHBtZXRob2QsIHJlcXVlc3RKc29uKS5zdWJzY3JpYmUoKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgIHJlc3AgPSByZXNwb25zZTtcbiAgICAgICAgdGhpcy5odHRwcmVzcG9uc2UgPSByZXNwb25zZTtcbiAgICAgIH0sIChlcnJvcikgPT4ge1xuICAgICAgfSwgKCkgPT4ge1xuICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAvL3RoaXMuZGF0YSA9IHRoaXMuZ2V0UmVzcG9uc2VEYXRhKHJlc3ApO1xuICAgICAgICAgIHRoaXMuZHJhd0NoYXJ0KCk7XG4gICAgICAgIH0sIDApO1xuICAgICAgfSk7XG5cbiAgICB9XG4gIH1cblxuICBkcmF3Q2hhcnQoKSB7XG4gICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICB0aGlzLmRhdGEgPSB0aGlzLmdldFJlc3BvbnNlRGF0YSh0aGlzLmh0dHByZXNwb25zZSk7XG4gICAgICB0aGlzLnRyYW5zZm9ybURhdGEodGhpcy5kYXRhKTtcbiAgICAgIHRoaXMuaW5pdGlhbGl6ZURhdGEoKTtcbiAgICAgIHRoaXMucGxvdFhZQXhpcygpO1xuICAgICAgdGhpcy5wbG90RDNDaGFydCgpO1xuICAgIH0sIDApO1xuICB9XG5cbiAgaW5pdGlhbGl6ZURhdGEoKSB7XG4gICAgdGhpcy50b29sdGlwID0gdGhpcy50b29sVGlwKGQzKTtcbiAgICBpZiAodGhpcy5yZXNpemVmbGFnID09IGZhbHNlKSB7XG4gICAgICBpZiAodGhpcy5jaGFydElkKSB7XG4gICAgICAgIHRoaXMuc3Znd2lkdGggPSB0aGlzLmNoYXJ0SWQubmF0aXZlRWxlbWVudC5vZmZzZXRXaWR0aDtcbiAgICAgIH0gZWxzZSB7XG4gICAgICAgIHRoaXMuc3Znd2lkdGggPSB0aGlzLnN2Z3dpZHRoO1xuICAgICAgfVxuICAgIH1cbiAgICB0aGlzLm1hcmdpbiA9IHsgdG9wOiAyMCwgcmlnaHQ6IDMwLCBib3R0b206IDUwLCBsZWZ0OiA2MCB9LFxuICAgICAgdGhpcy53aWR0aCA9IHRoaXMuc3Znd2lkdGggLSB0aGlzLm1hcmdpbi5sZWZ0IC0gdGhpcy5tYXJnaW4ucmlnaHQsXG4gICAgICB0aGlzLmhlaWdodCA9IHRoaXMuc3ZnaGVpZ2h0IC0gdGhpcy5tYXJnaW4udG9wIC0gdGhpcy5tYXJnaW4uYm90dG9tO1xuICB9XG5cbiAgcGxvdFhZQXhpcygpIHtcbiAgICAvLyBzZXQgdGhlIHJhbmdlc1xuICAgIHRoaXMueCA9IGQzLnNjYWxlQmFuZCgpLnJhbmdlKFswLCB0aGlzLndpZHRoXSk7XG4gICAgdGhpcy55ID0gZDMuc2NhbGVMaW5lYXIoKVxuICAgICAgLnJhbmdlUm91bmQoW3RoaXMuaGVpZ2h0LCAwXSk7XG4gICAgLy8gc2NhbGUgdGhlIHJhbmdlIG9mIHRoZSBkYXRhXG4gICAgbGV0IGNhbmRsZXN0aWNrQXJyYXkgPSB0aGlzLmRhdGEubWFwKChkKSA9PiB7XG4gICAgICByZXR1cm4gZFtPYmplY3Qua2V5cyhkKVswXV07XG4gICAgIH0pO1xuICAgIHRoaXMueC5kb21haW4oY2FuZGxlc3RpY2tBcnJheSk7XG4gICAgbGV0IG1heCA9IGQzLm1heCh0aGlzLmRhdGEsIChkKSA9PiB7IHJldHVybiBkLmVuZDsgfSk7XG4gICAgdGhpcy55LmRvbWFpbihbMCwgbWF4XSk7XG5cbiAgICB0aGlzLnN2ZyA9IGQzLnNlbGVjdChcIiNcIiArIHRoaXMuY29tcG9uZW50SWQpXG4gICAgICAvLyBkMy5zZWxlY3QoXCJib2R5XCIpLmFwcGVuZChcInN2Z1wiKVxuICAgICAgLmF0dHIoXCJ3aWR0aFwiLCB0aGlzLndpZHRoICsgdGhpcy5tYXJnaW4ubGVmdCArIHRoaXMubWFyZ2luLnJpZ2h0KVxuICAgICAgLmF0dHIoXCJoZWlnaHRcIiwgdGhpcy5oZWlnaHQgKyB0aGlzLm1hcmdpbi50b3AgKyB0aGlzLm1hcmdpbi5ib3R0b20pXG4gICAgICAuYXBwZW5kKFwiZ1wiKVxuICAgICAgLmF0dHIoXCJ0cmFuc2Zvcm1cIixcbiAgICAgICAgXCJ0cmFuc2xhdGUoXCIgKyB0aGlzLm1hcmdpbi5sZWZ0ICsgXCIsXCIgKyB0aGlzLm1hcmdpbi50b3AgKyBcIilcIik7XG5cbiAgICAvLyBhZGQgdGhlIFggQXhpc1xuXG4gICAgaWYodGhpcy5kZXZpY2UuSXNEZXNrdG9wKCk9PXRydWUpXG4gICAge1xuICAgICAgdGhpcy5zdmcuYXBwZW5kKFwiZ1wiKVxuICAgICAgICAgIC5hdHRyKFwidHJhbnNmb3JtXCIsIFwidHJhbnNsYXRlKDAsXCIgKyB0aGlzLmhlaWdodCArIFwiKVwiKVxuICAgICAgICAgIC5jYWxsKGQzLmF4aXNCb3R0b20odGhpcy54KSlcbiAgICB9XG4gIGVsc2VcbiAgIHtcbiAgICAgdGhpcy5zdmcuYXBwZW5kKFwiZ1wiKVxuICAgICAgICAgIC5hdHRyKFwidHJhbnNmb3JtXCIsIFwidHJhbnNsYXRlKDAsXCIgKyB0aGlzLmhlaWdodCArIFwiKVwiKVxuICAgICAgICAgIC5jYWxsKGQzLmF4aXNCb3R0b20odGhpcy54KSkuXG4gICAgICAgICAgIHNlbGVjdEFsbChcInRleHRcIilcbiAgICAgICAgICAgLmF0dHIoXCJ5XCIsIDApXG4gICAgICAgICAgIC5hdHRyKFwieFwiLCA5KVxuICAgICAgICAgICAuYXR0cihcImR5XCIsIFwiLjM1ZW1cIilcbiAgICAgICAgICAgLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJyb3RhdGUoNjApXCIpXG4gICAgICAgICAgIC5zdHlsZShcInRleHQtYW5jaG9yXCIsIFwic3RhcnRcIik7XG5cbiAgfVxuXG4gICAgLy8gdGhpcy5zdmcuYXBwZW5kKFwiZ1wiKVxuICAgIC8vICAgLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJ0cmFuc2xhdGUoMCxcIiArIHRoaXMuaGVpZ2h0ICsgXCIpXCIpXG4gICAgLy8gICAuY2FsbChkMy5heGlzQm90dG9tKHRoaXMueCkpO1xuXG4gICAgLy8gYWRkIHRoZSBZIEF4aXNcbiAgICB0aGlzLnN2Zy5hcHBlbmQoXCJnXCIpXG4gICAgICAuY2FsbChkMy5heGlzTGVmdCh0aGlzLnkpKTtcbiAgICB0aGlzLnBsb3RMaW5lKHRoaXMuc3ZnLCB0aGlzLngsIHRoaXMueSwgdGhpcy5oZWlnaHQsIHRoaXMud2lkdGgpO1xuICB9XG5cblxuICBwbG90RDNDaGFydCgpIHtcbiAgICBsZXQgYmFyID0gdGhpcy5zdmcuc2VsZWN0QWxsKFwiLmJhclwiKVxuICAgICAgLmRhdGEodGhpcy5kYXRhKVxuICAgICAgLmVudGVyKCkuYXBwZW5kKFwiZ1wiKVxuICAgICAgLmF0dHIoXCJjbGFzc1wiLCAoZCkgPT4geyByZXR1cm4gXCJiYXIgXCIgKyBkLmNsYXNzIH0pXG4gICAgICAuYXR0cihcInRyYW5zZm9ybVwiLCAoZCkgPT4ge1xuICAgICAgICByZXR1cm4gXCJ0cmFuc2xhdGUoXCIgKyB0aGlzLngoXG4gICAgICAgICAgZFtPYmplY3Qua2V5cyhkKVswXV1cbiAgICAgICAgICkgKyBcIiwwKVwiO1xuICAgICAgfSk7XG5cbiAgICBiYXIuYXBwZW5kKFwicmVjdFwiKVxuICAgICAgLmF0dHIoXCJ5XCIsIChkKSA9PiB7IHJldHVybiB0aGlzLnkoTWF0aC5tYXgoZC5zdGFydCwgZC5lbmQpKTsgfSlcbiAgICAgIC5hdHRyKFwiaGVpZ2h0XCIsIChkKSA9PiB7IHJldHVybiBNYXRoLmFicyh0aGlzLnkoZC5zdGFydCkgLSB0aGlzLnkoZC5lbmQpKTsgfSlcbiAgICAgIC5hdHRyKFwid2lkdGhcIiwgdGhpcy54LmJhbmR3aWR0aCgpKVxuICAgICAgLmF0dHIoXCJmaWxsXCIsIChkLCBpKSA9PiB7XG4gICAgICAgIHJldHVybiB0aGlzLnByZWRlZmluZWRDb2xvcltpXTtcbiAgICAgIH0pXG4gICAgICAuYXR0cihcImN1cnNvclwiLCBcInBvaW50ZXJcIilcbiAgICAgIC5vbihcIm1vdXNlb3ZlclwiLCAoZCkgPT4ge1xuICAgICAgICB0aGlzLmZvcm1Ub29sdGlwRGF0YShkKTtcbiAgICAgICAgcmV0dXJuIHRoaXMudG9vbHRpcC5zdHlsZShcInZpc2liaWxpdHlcIiwgXCJ2aXNpYmxlXCIpO1xuXG4gICAgICB9KVxuICAgICAgLm9uKFwibW91c2Vtb3ZlXCIsIChkKSA9PiB7XG4gICAgICAgIHJldHVybiB0aGlzLnRvb2x0aXAuaHRtbChcbiAgICAgICAgICB0aGlzLmZvcm1Ub29sdGlwRGF0YShkKVxuICAgICAgICApXG4gICAgICAgICAgLnN0eWxlKFwidG9wXCIsIChkMy5ldmVudC5wYWdlWSAtIDEwKSArIFwicHhcIilcbiAgICAgICAgICAuc3R5bGUoXCJsZWZ0XCIsIChkMy5ldmVudC5wYWdlWCArIDEwKSArIFwicHhcIik7XG4gICAgICB9KVxuICAgICAgLm9uKFwibW91c2VvdXRcIiwgKGQpID0+IHtcbiAgICAgICAgcmV0dXJuIHRoaXMudG9vbHRpcC5zdHlsZShcInZpc2liaWxpdHlcIiwgXCJoaWRkZW5cIik7XG4gICAgICB9KVxuICAgICAgLm9uKFwiY2xpY2tcIiwgKGQpID0+IHtcbiAgICAgICAgdGhpcy5vbkNhbmRsZXN0aWNrQ2xpY2soZCk7XG4gICAgICAgIHRoaXMuZm9yZHJpbGxhYmxlQ2xpY2sodGhpcywgZCwgZXZlbnQpO1xuICAgICAgICByZXR1cm4gdGhpcy50b29sdGlwLnN0eWxlKFwidmlzaWJpbGl0eVwiLCBcImhpZGRlblwiKTtcbiAgICAgIH0pXG4gICAgXG4gICAgaWYodGhpcy5sYWJlbGZsYWcpIHtcbiAgICBiYXIuYXBwZW5kKFwidGV4dFwiKVxuICAgICAgLnN0eWxlKFwiZm9udC13ZWlnaHRcIiwgXCJib2xkXCIpXG4gICAgICAuc3R5bGUoXCJmb250LXNpemVcIiwgXCIxdndcIilcbiAgICAgIC5hdHRyKFwidGV4dC1hbmNob3JcIiwgXCJtaWRkbGVcIilcbiAgICAgIC5hdHRyKFwiZmlsbFwiLCAoZCkgPT4ge1xuICAgICAgICBpZiAodGhpcy5sYWJlbGNvbG9yLmxlbmd0aCA+IDApIHtcbiAgICAgICAgICByZXR1cm4gdGhpcy5sYWJlbGNvbG9yO1xuICAgICAgICB9IGVsc2Uge1xuICAgICAgICAgIHJldHVybiBcImJsYWNrXCI7XG4gICAgICAgIH1cbiAgICAgIH0pXG4gICAgICAuYXR0cihcInhcIiwgKGQpID0+IHtcbiAgICAgICAgcmV0dXJuICh0aGlzLnguYmFuZHdpZHRoKCkpIC8gMjtcbiAgICAgIH0pXG4gICAgICAuYXR0cihcInlcIiwgKGQsIGluZGV4KSA9PiB7XG4gICAgICAgIHJldHVybiB0aGlzLnkoTWF0aC5tYXgoZC5zdGFydCwgZC5lbmQpKSArIDIwO1xuICAgICAgIH0pXG4gICAgICAudGV4dChmdW5jdGlvbiAoZCkge1xuICAgICAgICAgcmV0dXJuIGRbT2JqZWN0LmtleXMoZClbMV1dXG4gICAgICAgfSk7XG4gICAgICB9XG4gIH1cblxuICBwbG90TGluZShzdmcsIHgsIHksIGhlaWdodCwgd2lkdGgpIHtcbiAgICBpZiAodGhpcy5oU2NhbGUpIHtcbiAgICAgIHN2Zy5hcHBlbmQoJ2cnKVxuICAgICAgICAuYXR0cihcImNvbG9yXCIsIFwibGlnaHRncmV5XCIpXG4gICAgICAgIC5jYWxsKGQzLmF4aXNMZWZ0KHkpXG4gICAgICAgICAgLnRpY2tTaXplKC13aWR0aCkudGlja0Zvcm1hdCgnJykpO1xuICAgIH1cbiAgfVxuXG4gIHRyYW5zZm9ybURhdGEoZGF0YTogYW55KSB7XG4gICAgdGhpcy50cmFuc2Zvcm1lZGRhdGEgPSBbXTtcbiAgICB0aGlzLmtleUFycmF5ID0gW107XG4gICAgdGhpcy5rZXlBcnJheSA9IGRhdGFbMF07XG4gICAgZGF0YS5mb3JFYWNoKChlbGVtZW50LCBpbmRleCkgPT4ge1xuICAgICAgaWYgKGluZGV4ID4gMCkge1xuICAgICAgICBsZXQgRHVtbXlPYmplY3Q6IGFueSA9IHt9O1xuICAgICAgICBlbGVtZW50LmZvckVhY2goKGluZGl2aWR1YWx2YWx1ZSwga2V5aW5kZXgpID0+IHtcbiAgICAgICAgICBEdW1teU9iamVjdFt0aGlzLmtleUFycmF5W2tleWluZGV4XV0gPSBpbmRpdmlkdWFsdmFsdWU7XG4gICAgICAgIH0pOy8vaW5uZXIgZm9yIGxvb3AgZW5kc1xuICAgICAgICB0aGlzLnRyYW5zZm9ybWVkZGF0YS5wdXNoKER1bW15T2JqZWN0KTtcbiAgICAgIH0vL2lmIGVuZHNcbiAgICB9KTsvL291dGVyIGZvciBsb29wIGVuZHMgXG4gICAgdGhpcy5kYXRhID0gdGhpcy50cmFuc2Zvcm1lZGRhdGE7XG4gICAgdGhpcy5hZGREYXRhS2V5cygpO1xuICAgIHRoaXMuZm9ybUxlZ2VuZERhdGEoKTtcbiAgfVxuXG4gIGFkZERhdGFLZXlzKCkge1xuICAgIGxldCBjdW11bGF0aXZlOiBhbnkgPSAwO1xuICAgIGZvciAobGV0IGkgPSAwOyBpIDwgdGhpcy5kYXRhLmxlbmd0aDsgaSsrKSB7XG4gICAgICB0aGlzLmRhdGFbaV1bXCJzdGFydFwiXSA9IGN1bXVsYXRpdmU7XG4gICAgICBjdW11bGF0aXZlICs9IHRoaXMuZGF0YVtpXVt0aGlzLmtleUFycmF5WzFdXTtcbiAgICAgIHRoaXMuZGF0YVtpXVtcImVuZFwiXSA9IGN1bXVsYXRpdmU7XG4gICAgICB0aGlzLmRhdGFbaV1bXCJjbGFzc1wiXSA9ICh0aGlzLmRhdGFbaV1bdGhpcy5rZXlBcnJheVsxXV0gPj0gMCkgPyAncG9zaXRpdmUnIDogJ25lZ2F0aXZlJ1xuICAgIH1cbiAgfVxuXG4gIGdldFJlc3BvbnNlRGF0YShodHRwUmVzcG9uc2U6IGFueSkge1xuICAgIGxldCByZXNwb25zZWRhdGEgPSBodHRwUmVzcG9uc2U7XG4gICAgaWYgKHRoaXMuZGF0YXJlYWRlciAhPSBudWxsKSB7XG4gICAgICBjb25zdCBkciA9IHRoaXMuZGF0YXJlYWRlci5zcGxpdCgnLicpO1xuICAgICAgZm9yIChjb25zdCBpciBvZiBkcikge1xuICAgICAgICByZXNwb25zZWRhdGEgPSByZXNwb25zZWRhdGFbaXJdO1xuICAgICAgfVxuICAgIH0gZWxzZSB7XG4gICAgICByZXNwb25zZWRhdGEgPSBodHRwUmVzcG9uc2U7XG4gICAgfVxuICAgIHJldHVybiByZXNwb25zZWRhdGE7XG4gIH1cblxuICBmb3JtVG9vbHRpcERhdGEodG9vbHRpcERhdGE6IGFueSkge1xuICAgIGxldCBvYmplY3QgPSB7fTtcbiAgICBvYmplY3RbdGhpcy5rZXlBcnJheVswXV0gPSB0b29sdGlwRGF0YVtPYmplY3Qua2V5cyh0b29sdGlwRGF0YSlbMF1dO1xuICAgIG9iamVjdFt0aGlzLmtleUFycmF5WzFdXSA9IHRvb2x0aXBEYXRhW09iamVjdC5rZXlzKHRvb2x0aXBEYXRhKVsxXV07XG4gICAgcmV0dXJuIHRoaXMudG9vbFRpcEZvckJhcihvYmplY3QpO1xuICB9XG5cbiAgb25DYW5kbGVzdGlja0NsaWNrKGNoYXJ0RGF0YTogYW55KSB7XG4gICAgbGV0IG9iamVjdCA9IHt9O1xuICAgIG9iamVjdFt0aGlzLmtleUFycmF5WzBdXSA9IGNoYXJ0RGF0YVtPYmplY3Qua2V5cyhjaGFydERhdGEpWzBdXTtcbiAgICBvYmplY3RbdGhpcy5rZXlBcnJheVsxXV0gPSBjaGFydERhdGFbT2JqZWN0LmtleXMoY2hhcnREYXRhKVsxXV07XG4gICAgdGhpcy5jaGFydENsaWNrKG9iamVjdCk7XG4gIH1cblxuICBmb3JtTGVnZW5kRGF0YSgpIHtcbiAgICB0aGlzLmxlZ2VuZEFycmF5ID0gW107XG4gICAgdGhpcy5kYXRhLmZvckVhY2goKGVsZW1lbnQsIGluZGV4KSA9PiB7XG4gICAgICBmb3IgKGxldCBba2V5LCB2YWx1ZV0gb2YgT2JqZWN0LmVudHJpZXMoZWxlbWVudCkpIHtcbiAgICAgICAgaWYgKGtleSA9PSB0aGlzLmtleUFycmF5WzBdKSB7XG4gICAgICAgICAgbGV0IG9iamVjdCA9IHt9O1xuICAgICAgICAgIG9iamVjdFtcImxhYmVsXCJdID0gdmFsdWU7XG4gICAgICAgICAgb2JqZWN0W1wiY29sb3JcIl0gPSB0aGlzLnByZWRlZmluZWRDb2xvcltpbmRleF07XG4gICAgICAgICAgdGhpcy5sZWdlbmRBcnJheS5wdXNoKG9iamVjdCk7XG4gICAgICAgIH1cbiAgICAgIH1cbiAgICB9KTtcbiAgfVxuXG4gIG9uQ2FuZGxlc3RpY2tMZWdlbmRDbGljayhjaGFydERhdGE6IGFueSkge1xuICAgIGxldCBvYmplY3QgPSB7fTtcbiAgICB0aGlzLmRhdGEuZm9yRWFjaChlbGVtZW50ID0+IHtcbiAgICAgIGZvciAobGV0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhlbGVtZW50KSkge1xuICAgICAgICBpZiAodmFsdWUgPT0gY2hhcnREYXRhLmxhYmVsKSB7XG4gICAgICAgICAgb2JqZWN0W2NoYXJ0RGF0YS5sYWJlbF0gPSBlbGVtZW50LnZhbHVlO1xuICAgICAgICB9XG4gICAgICB9XG4gICAgfSk7XG4gICAgdGhpcy5vbkxlZ2VuZENsaWNrLmVtaXQob2JqZWN0KTtcbiAgfVxuXG4gIHJlc2l6ZSgpIHtcbiAgICB0aGlzLnN2Z3dpZHRoID0gMDtcbiAgICB0aGlzLnN2Zy5zZWxlY3RBbGwoXCIqXCIpLnJlbW92ZSgpO1xuICAgIHRoaXMucmVzaXplZmxhZyA9IHRydWU7XG4gICAgdGhpcy5zdmd3aWR0aCA9IHRoaXMuZGl2aWQubmF0aXZlRWxlbWVudC5vZmZzZXRXaWR0aDtcbiAgICB0aGlzLmluaXRpYWxpemVEYXRhKCk7XG4gICAgdGhpcy5wbG90WFlBeGlzKCk7XG4gICAgdGhpcy5wbG90RDNDaGFydCgpO1xuICB9XG5cbn1cbiIsImltcG9ydCB7IENvbXBvbmVudCwgRWxlbWVudFJlZiwgSW5wdXQsIE9uSW5pdCwgVmlld0NoaWxkLCBDaGFuZ2VEZXRlY3RvclJlZiB9IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgQW1leGlvRDNCYXNlQ2hhcnRDb21wb25lbnQgfSBmcm9tICcuLi8uLi9iYXNlL2Jhc2UuY29tcG9uZW50JztcbmltcG9ydCB7IENvbW1hbkRhdGFTZXJ2aWNlIH0gZnJvbSAnLi4vLi4vc2VydmljZXMvY29tbWFuLmRhdGEuc2VydmljZSc7XG5pbXBvcnR7RGV2aWNlUXVlcnlTZXJ2aWNlfSBmcm9tICcuLi8uLi9zZXJ2aWNlcy9kZXZpY2UucXVlcnkuc2VydmljZSc7XG5pbXBvcnQgKiBhcyBkMyBmcm9tICdkMyc7XG5AQ29tcG9uZW50KHtcbiAgc2VsZWN0b3I6ICdhbWV4aW8tZDMtY2hhcnQtYnViYmxlJyxcbiAgdGVtcGxhdGU6IGBcbjxkaXYgICAqbmdJZj1cImRyaWxsYWJsZUZsYWdcIiAjZGl2aWQgKHdpbmRvdzpyZXNpemUpPVwicmVzaXplKCRldmVudClcIj5cbjx0YWJsZSBzdHlsZT1cIndpZHRoOiAxMDAlO1wiICNjaGFydElkID5cbiAgPHRyPlxuICAgICAgPHRkIGNvbHNwYW49XCIyXCIgc3R5bGU9XCJmb250LXNpemU6IDE4cHg7IGZvbnQtd2VpZ2h0OiBib2xkOyBcIj4ge3t0aXRsZX19IDwvdGQ+XG4gIDwvdHI+XG4gIDx0cj5cbiAgICAgIDx0ZD5cbiAgICAgICAgICA8c3ZnIFthdHRyLmhlaWdodF09XCJzdmdoZWlnaHRcIiBbYXR0ci53aWR0aF09XCJzdmd3aWR0aFwiIFthdHRyLmlkXT1cImNvbXBvbmVudElkXCI+XG4gICAgICAgICAgPC9zdmc+XG4gICAgICA8L3RkPlxuICA8L3RyPlxuICA8dHI+XG4gICAgICA8dGQgc3R5bGU9XCJkaXNwbGF5OiBibG9jazsgcGFkZGluZzogNXB4O1wiPlxuICAgICAgICAgIDxhbWV4aW8tZDMtbGVnZW5kICpuZ0lmPVwibGVnZW5kXCIgW2hvcml6b250YWxdPVwidHJ1ZVwiIChvbkNsaWNrKT1cIm9uQnViYmxlTGVnZW5kQ2xpY2soJGV2ZW50KVwiIFtkYXRhXT1cImxlZ2VuZERhdGFcIiBzdHlsZT1cImhlaWdodDoxMDAlO1wiPjwvYW1leGlvLWQzLWxlZ2VuZD5cbiAgICAgIDwvdGQ+XG4gIDwvdHI+XG48L3RhYmxlPlxuPC9kaXY+YCxcbiAgc3R5bGVzOiBbYGBdXG59KVxuZXhwb3J0IGNsYXNzIEJ1YmJsZUNvbXBvbmVudCBleHRlbmRzIEFtZXhpb0QzQmFzZUNoYXJ0Q29tcG9uZW50IGltcGxlbWVudHMgT25Jbml0IHtcbiAgQElucHV0KCd3aWR0aCcpIHN2Z3dpZHRoOiBudW1iZXIgPSAzMDA7XG4gIEBJbnB1dCgnaGVpZ2h0Jykgc3ZnaGVpZ2h0OiBudW1iZXIgPSAzMDA7XG4gIEBJbnB1dCgnY29sb3InKSBjb2xvcjogYW55ID0gXCJibHVlXCI7XG4gIEBWaWV3Q2hpbGQoJ2NoYXJ0SWQnKSBjaGFydElkOiBFbGVtZW50UmVmO1xuICBAVmlld0NoaWxkKCdkaXZpZCcpIGRpdmlkOiBFbGVtZW50UmVmO1xuICBASW5wdXQoJ2RhdGEtcmVhZGVyJykgZGF0YXJlYWRlcjogc3RyaW5nO1xuICBASW5wdXQoJ2xldmVsJykgbGV2ZWw6IG51bWJlciA9IDA7XG4gIEBJbnB1dCgndGFyZ2V0JykgdGFyZ2V0OiBudW1iZXI7XG4gIEBJbnB1dCgnZHJpbGxhYmxlLWRhdGEnKSBkcmlsbGFibGVkYXRha2V5OiBhbnlbXSA9IFtdO1xuICBASW5wdXQoJ2hvcml6b250YWwtc2NhbGUnKSBoU2NhbGU6IGJvb2xlYW4gPSB0cnVlO1xuICBASW5wdXQoJ3ZlcnRpY2FsLXNjYWxlJykgdlNjYWxlOiBib29sZWFuID0gdHJ1ZTtcbiAgZHJpbGxhYmxlRmxhZzogYm9vbGVhbiA9IHRydWU7XG4gIHJlc2l6ZWZsYWc6IGJvb2xlYW4gPSBmYWxzZTtcbiAga2V5QXJyYXk6IGFueVtdID0gW107XG4gIHRyYW5zZm9ybWVkZGF0YTogYW55W10gPSBbXTtcbiAgY29sb3JzOiBhbnlbXSA9IFtdO1xuICBkYXRhMTogYW55O1xuICB4YXhpc0FycmF5OiBhbnlbXSA9IFtdO1xuICB4YXJyYXk6IGFueVtdID0gW107XG4gIGxlZ2VuZHM6IGFueVtdID0gW107XG4gIGxlZ2VuZGFycmF5OiBhbnlbXSA9IFtdO1xuICBsZWdlbmREYXRhOiBhbnlbXSA9IFtdO1xuICBtaW54dmFsdWU6IG51bWJlciA9IDA7XG4gIG1heHh2YWx1ZTogbnVtYmVyID0gMDtcbiAgY29sb3JkYXRhOiBhbnk7XG4gIGJ1YmJsZWNoYXJ0ZGF0YTogYW55W10gPSBbXTtcbiAgaHR0cHJlc3BvbnNlOiBhbnk7XG4gIHN2ZzogYW55O1xuICBjb25zdHJ1Y3Rvcihwcml2YXRlIG15c2VydmljZTogQ29tbWFuRGF0YVNlcnZpY2UsIHByaXZhdGUgY2RmOiBDaGFuZ2VEZXRlY3RvclJlZixwcml2YXRlIGRldmljZTpEZXZpY2VRdWVyeVNlcnZpY2UpIHtcblxuICAgIHN1cGVyKCdidWJibGUnKTtcbiAgICB0aGlzLnByZWRlZmluZWRjb2xvcnMgPSBbXCIjMzM2NmNjXCIsIFwiI2RjMzkxMlwiLCBcIiNmZjk5MDBcIiwgXCIjMTA5NjE4XCIsIFwiIzk5MDA5OVwiLCBcIiMwMDk5YzZcIiwgXCIjZGQ0NDc3XCIsIFwiIzY2YWEwMFwiLCBcIiNiODJlMmVcIiwgXCIjMzE2Mzk1XCIsIFwiIzk5NDQ5OVwiLCBcIiMyMmFhOTlcIiwgXCIjYWFhYTExXCIsIFwiIzY2MzNjY1wiLCBcIiNlNjczMDBcIiwgXCIjOGIwNzA3XCIsIFwiIzY1MTA2N1wiLCBcIiMzMjkyNjJcIiwgXCIjNTU3NGE2XCIsIFwiIzNiM2VhY1wiXTtcblxuICB9XG5cbiAgbmdPbkluaXQoKSB7XG5cbiAgICB0aGlzLmRhdGExID0gW107XG5cbiAgICBpZiAodGhpcy5sZXZlbCA8PSAxKSB7XG4gICAgICBsZXQgcmVzcDogYW55O1xuICAgICAgaWYgKHRoaXMuaHR0cG1ldGhvZCAmJiB0aGlzLmh0dHB1cmwpIHtcbiAgICAgICAgdGhpcy5teXNlcnZpY2UuZmV0Y2hVcmxEYXRhKHRoaXMuaHR0cHVybCwgdGhpcy5odHRwbWV0aG9kKS5zdWJzY3JpYmUoKHJlc3BvbnNlKSA9PiB7XG4gICAgICAgICAgcmVzcCA9IHJlc3BvbnNlO1xuICAgICAgICAgIHRoaXMuaHR0cHJlc3BvbnNlID0gcmVzcDtcbiAgICAgICAgfSwgKGVycm9yKSA9PiB7XG4gICAgICAgIH0sICgpID0+IHtcbiAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgICAgICAgIHRoaXMuZGF0YSA9IHRoaXMuZ2V0UmVzcG9uc2VEYXRhKHJlc3ApO1xuICAgICAgICAgICAgdGhpcy5kYXRhMSA9IHRoaXMuZGF0YTtcblxuICAgICAgICAgICAgdGhpcy54YXhpc0RhdGEoKTtcbiAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtRGF0YSh0aGlzLmRhdGExKTtcbiAgICAgICAgICAgIHRoaXMudHJhbnNmb3JtZGF0YSgpO1xuICAgICAgICAgICAgdGhpcy5jb2xvckdlbmVyYXRpb24oKTtcbiAgICAgICAgICAgIHRoaXMuZm9ybUxlZ2VuZERhdGEoKTtcbiAgICAgICAgICAgIHRoaXMucGxvdEJ1YmJsZUNoYXJ0KCk7XG4gICAgICAgICAgfSwgMCk7XG4gICAgICAgIH0pO1xuXG4gICAgICB9IGVsc2UgaWYgKHRoaXMuZGF0YSkge1xuXG4gICAgICAgIHNldFRpbWVvdXQoKCkgPT4ge1xuICAgICAgICAgIHRoaXMuZGF0YTEgPSB0aGlzLmRhdGE7XG4gICAgICAgICAgdGhpcy5kYXRhID0gdGhpcy5nZXRSZXNwb25zZURhdGEodGhpcy5kYXRhKTtcbiAgICAgICAgICB0aGlzLnhheGlzRGF0YSgpO1xuICAgICAgICAgIHRoaXMudHJhbnNmb3JtRGF0YSh0aGlzLmRhdGEpO1xuICAgICAgICAgIHRoaXMudHJhbnNmb3JtZGF0YSgpO1xuICAgICAgICAgIHRoaXMuY29sb3JHZW5lcmF0aW9uKCk7XG4gICAgICAgICAgdGhpcy5mb3JtTGVnZW5kRGF0YSgpO1xuICAgICAgICAgIHRoaXMucGxvdEJ1YmJsZUNoYXJ0KCk7XG5cbiAgICAgICAgfSwgMCk7XG5cbiAgICAgIH1cbiAgICB9XG4gIH1cblxuICBmZXRjaERhdGEoZGF0YTogYW55KSB7XG5cbiAgICBsZXQgcmVxdWVzdEpzb247XG4gICAgbGV0IGtleSA9IHRoaXMuZHJpbGxhYmxlZGF0YWtleTtcbiAgICBsZXQgcmVzcDogYW55O1xuICAgIGlmICh0aGlzLmRyaWxsYWJsZWRhdGFrZXkubGVuZ3RoKSB7XG4gICAgICBsZXQgZHJpbGxhYmxlZGF0YSA9IHRoaXMuZ2V0TXVsdGlwbGVEcmlsbGJsZUtleURhdGEoZGF0YSwga2V5KTtcbiAgICAgIHJlcXVlc3RKc29uID0gZHJpbGxhYmxlZGF0YTtcbiAgICB9XG4gICAgZWxzZSB7XG4gICAgICByZXF1ZXN0SnNvbiA9IGRhdGE7XG4gICAgfVxuICAgIGlmICh0aGlzLmh0dHBtZXRob2QgJiYgdGhpcy5odHRwdXJsKSB7XG4gICAgICB0aGlzLm15c2VydmljZS5wb3N0ZmV0Y2hEYXRhKHRoaXMuaHR0cHVybCwgdGhpcy5odHRwbWV0aG9kLCByZXF1ZXN0SnNvbikuc3Vic2NyaWJlKChyZXNwb25zZSkgPT4ge1xuICAgICAgICByZXNwID0gcmVzcG9uc2U7XG4gICAgICAgIHRoaXMuaHR0cHJlc3BvbnNlID0gcmVzcG9uc2U7XG4gICAgICB9LCAoZXJyb3IpID0+IHtcbiAgICAgIH0sICgpID0+IHtcbiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7XG4gICAgICAgICAgLy90aGlzLmRhdGEgPSB0aGlzLmdldFJlc3BvbnNlRGF0YShyZXNwKTtcbiAgICAgICAgICB0aGlzLmRyYXdDaGFydCgpO1xuICAgICAgICB9LCAwKTtcbiAgICAgIH0pO1xuICAgIH1cbiAgfVxuXG4gIGRyYXdDaGFydCgpIHtcbiAgICBzZXRUaW1lb3V0KCgpID0+IHtcbiAgICAgIHRoaXMuZGF0YSA9IHRoaXMuZ2V0UmVzcG9uc2VEYXRhKHRoaXMuaHR0cHJlc3BvbnNlKTtcbiAgICAgIHRoaXMuZGF0YTEgPSB0aGlzLmRhdGE7XG5cbiAgICAgIHRoaXMueGF4aXNEYXRhKCk7XG4gICAgICB0aGlzLnRyYW5zZm9ybURhdGEodGhpcy5kYXRhMSk7XG4gICAgICB0aGlzLnRyYW5zZm9ybWRhdGEoKTtcbiAgICAgIHRoaXMuY29sb3JHZW5lcmF0aW9uKCk7XG4gICAgICB0aGlzLmZvcm1MZWdlbmREYXRhKCk7XG4gICAgICB0aGlzLnBsb3RCdWJibGVDaGFydCgpO1xuICAgIH0sIDApO1xuICB9XG5cbiAgZ2V0UmVzcG9uc2VEYXRhKGh0dHBSZXNwb25zZTogYW55KSB7XG4gICAgbGV0IHJlc3BvbnNlZGF0YSA9IGh0dHBSZXNwb25zZTtcbiAgICBpZiAodGhpcy5kYXRhcmVhZGVyICE9IG51bGwpIHtcbiAgICAgIGNvbnN0IGRyID0gdGhpcy5kYXRhcmVhZGVyLnNwbGl0KCcuJyk7XG4gICAgICBmb3IgKGNvbnN0IGlyIG9mIGRyKSB7XG4gICAgICAgIHJlc3BvbnNlZGF0YSA9IHJlc3BvbnNlZGF0YVtpcl07XG4gICAgICB9XG4gICAgfSBlbHNlIHtcbiAgICAgIHJlc3BvbnNlZGF0YSA9IGh0dHBSZXNwb25zZTtcbiAgICB9XG4gICAgcmV0dXJuIHJlc3BvbnNlZGF0YTtcbiAgfVxuXG5cblxuICB0cmFuc2Zvcm1EYXRhKGRhdGE6IGFueSkge1xuICAgIHRoaXMuY29sb3JkYXRhID0gW107XG4gICAgdGhpcy5rZXlBcnJheSA9IGRhdGFbMF07XG4gICAgZGF0YS5mb3JFYWNoKChlbGVtZW50LCBpbmRleCkgPT4ge1xuICAgICAgaWYgKGluZGV4ID4gMCkge1xuICAgICAgICBsZXQgRHVtbXlPYmplY3QgPSB7fTtcbiAgICAgICAgZWxlbWVudC5mb3JFYWNoKChpbmRpdmlkdWFsdmFsdWUsIGtleWluZGV4KSA9PiB7XG4gICAgICAgICAgRHVtbXlPYmplY3RbdGhpcy5rZXlBcnJheVtrZXlpbmRleF1dID0gaW5kaXZpZHVhbHZhbHVlO1xuICAgICAgICB9KTtcbiAgICAgICAgdGhpcy50cmFuc2Zvcm1lZGRhdGEucHVzaChEdW1teU9iamVjdCk7XG4gICAgICB9XG4gICAgfSk7XG4gICAgdGhpcy5kYXRhID0gdGhpcy50cmFuc2Zvcm1lZGRhdGE7XG4gICAgdGhpcy5jb2xvcmRhdGEgPSB0aGlzLnRyYW5zZm9ybWVkZGF0YTtcblxuICB9XG5cbiAgcGxvdEJ1YmJsZUNoYXJ0KCkge1xuXG4gICAgbGV0IGNvbG9ycyA9IHRoaXMucHJlZGVmaW5lZGNvbG9ycztcbiAgICBpZiAodGhpcy5yZXNpemVmbGFnID09IGZhbHNlKSB7XG4gICAgICBpZiAodGhpcy5jaGFydElkKSB7XG5cbiAgICAgICAgdGhpcy5zdmd3aWR0aCA9IHRoaXMuY2hhcnRJZC5uYXRpdmVFbGVtZW50Lm9mZnNldFdpZHRoO1xuICAgICAgfSBlbHNlIHtcblxuICAgICAgICB0aGlzLnN2Z3dpZHRoID0gdGhpcy5zdmd3aWR0aDtcbiAgICAgIH1cbiAgICB9XG5cbiAgICBjb25zdCB0b29sdGlwID0gdGhpcy50b29sVGlwKGQzKTtcbiAgICBjb25zdCBtYXJnaW4gPSB7IHRvcDogMjAsIHJpZ2h0OiA2MCwgYm90dG9tOiA1MCwgbGVmdDogNjAgfTtcbiAgICBjb25zdCB3aWR0aCA9IHRoaXMuc3Znd2lkdGggLSBtYXJnaW4ubGVmdCAtIG1hcmdpbi5yaWdodDtcbiAgICBjb25zdCBoZWlnaHQgPSB0aGlzLnN2Z2hlaWdodCAtIG1hcmdpbi50b3AgLSBtYXJnaW4uYm90dG9tO1xuXG4gICAgbGV0IHgsIHk7XG5cblxuICAgIHggPSBkMy5zY2FsZUxpbmVhcigpXG4gICAgICAucmFuZ2VSb3VuZChbMCwgd2lkdGhdKTtcblxuICAgIHkgPSBkMy5zY2FsZUxpbmVhcigpXG4gICAgICAucmFuZ2VSb3VuZChbaGVpZ2h0LCAwXSk7XG5cbiAgICBsZXQgeEF4aXMgPSBkMy5heGlzQm90dG9tKHgpO1xuXG4gICAgbGV0IHlBeGlzID0gZDMuYXhpc0xlZnQoeSk7XG5cbiAgICB0aGlzLnN2ZyA9IGQzLnNlbGVjdChcIiNcIiArIHRoaXMuY29tcG9uZW50SWQpXG4gICAgICAuYXR0cihcIndpZHRoXCIsIHdpZHRoICsgbWFyZ2luLmxlZnQgKyBtYXJnaW4ucmlnaHQpXG4gICAgICAuYXR0cihcImhlaWdodFwiLCBoZWlnaHQgKyBtYXJnaW4udG9wICsgbWFyZ2luLmJvdHRvbSlcbiAgICAgIC5hcHBlbmQoXCJnXCIpXG4gICAgICAuYXR0cihcInRyYW5zZm9ybVwiLCBcInRyYW5zbGF0ZShcIiArIG1hcmdpbi5sZWZ0ICsgXCIsXCIgKyBtYXJnaW4udG9wICsgXCIpXCIpO1xuXG4gICAgLy8geC5kb21haW4oWzAsIGQzLm1heCh0aGlzLmRhdGEsIGZ1bmN0aW9uIChkKSB7IHJldHVybiBkW09iamVjdC5rZXlzKGQpWzFdXSB9KV0pO1xuICAgIHkuZG9tYWluKFswLCBkMy5tYXgodGhpcy5kYXRhLCBmdW5jdGlvbiAoZCkgeyByZXR1cm4gZFtPYmplY3Qua2V5cyhkKVsyXV0gfSldKTtcblxuICAgIHguZG9tYWluKFt0aGlzLm1pbnh2YWx1ZSwgdGhpcy5tYXh4dmFsdWVdKTtcblxuXG4gICAgdmFyIHJTY2FsZSA9IGQzLnNjYWxlU3FydCgpLnJhbmdlUm91bmQoWzYsIDMwXSk7XG5cblxuICAgIHJTY2FsZS5kb21haW4oW2QzLm1pbih0aGlzLmRhdGEsIGZ1bmN0aW9uIChkKSB7IHJldHVybiBkW09iamVjdC5rZXlzKGQpWzRdXSB9KSwgZDMubWF4KHRoaXMuZGF0YSwgZnVuY3Rpb24gKGQsIGkpIHsgcmV0dXJuIGRbT2JqZWN0LmtleXMoZClbNF1dIH0pXSlcblxuXG5cbiAgICBpZih0aGlzLmRldmljZS5Jc0Rlc2t0b3AoKT09dHJ1ZSlcbiAgICB7XG4gICAgICB0aGlzLnN2Zy5hcHBlbmQoXCJnXCIpXG4gICAgICAuYXR0cihcInRyYW5zZm9ybVwiLCBcInRyYW5zbGF0ZSgwLFwiICsgaGVpZ2h0ICsgXCIpXCIpXG4gICAgICAuY2FsbCh4QXhpcylcbiAgICAgICAuYXBwZW5kKFwidGV4dFwiKVxuICAgICAgIC5hdHRyKFwieVwiLCAwKVxuICAgICAgIC5hdHRyKFwieFwiLCA5KVxuICAgICAgIC5hdHRyKFwiZHlcIiwgXCIuMzVlbVwiKVxuICAgICAgIC5zdHlsZShcInRleHQtYW5jaG9yXCIsIFwic3RhcnRcIik7XG4gICAgfVxuICBlbHNlXG4gICB7XG4gICAgdGhpcy5zdmcuYXBwZW5kKFwiZ1wiKVxuICAgIC5hdHRyKFwiY2xhc3NcIiwgXCJ4IGF4aXNcIilcbiAgICAuYXR0cihcInRyYW5zZm9ybVwiLCBcInRyYW5zbGF0ZSgwLFwiICsgaGVpZ2h0ICsgXCIpXCIpXG4gICAgLmNhbGwoeEF4aXMpLlxuICAgICBzZWxlY3RBbGwoXCJ0ZXh0XCIpXG4gICAgIC5hdHRyKFwieVwiLCAwKVxuICAgICAuYXR0cihcInhcIiwgOSlcbiAgICAgLmF0dHIoXCJkeVwiLCBcIi4zNWVtXCIpXG4gICAgIC5hdHRyKFwidHJhbnNmb3JtXCIsIFwicm90YXRlKDYwKVwiKVxuICAgICAuc3R5bGUoXCJ0ZXh0LWFuY2hvclwiLCBcInN0YXJ0XCIpO1xuICB9XG4gIFxuICAgIHRoaXMuc3ZnLmFwcGVuZChcImdcIilcbiAgICAgIC5hdHRyKFwiY2xhc3NcIiwgXCJ5IGF4aXNcIilcbiAgICAgIC5jYWxsKHlBeGlzKVxuICAgICAgLmFwcGVuZChcInRleHRcIilcbiAgICAgIC5hdHRyKFwiY2xhc3NcIiwgXCJsYWJlbFwiKVxuICAgICAgLmF0dHIoXCJ0cmFuc2Zvcm1cIiwgXCJyb3RhdGUoLTkwKVwiKVxuICAgICAgLmF0dHIoXCJ5XCIsIDYpXG4gICAgICAuYXR0cihcImR5XCIsIFwiLjcxZW1cIilcbiAgICAgIC5zdHlsZShcInRleHQtYW5jaG9yXCIsIFwiZW5kXCIpXG5cbiAgICB0aGlzLnBsb3RMaW5lKHRoaXMuc3ZnLCB4LCB5LCBoZWlnaHQsIHdpZHRoKTtcblxuICAgIGxldCBub2RlID0gdGhpcy5zdmcuc2VsZWN0QWxsKFwiLmRvdFwiKVxuICAgICAgLmRhdGEodGhpcy5idWJibGVjaGFydGRhdGEpXG4gICAgICAuZW50ZXIoKS5hcHBlbmQoXCJjaXJjbGVcIilcbiAgICAgIC5hdHRyKFwiY2xhc3NcIiwgXCJkb3RcIilcbiAgICAgIC5hdHRyKFwiclwiLCBmdW5jdGlvbiAoZCkgeyByZXR1cm4gclNjYWxlKGRbT2JqZWN0LmtleXMoZClbNF1dKTsgfSlcbiAgICAgIC5hdHRyKFwiY3Vyc29yXCIsIFwicG9pbnRlclwiKVxuICAgICAgLmF0dHIoXCJjeFwiLCBmdW5jdGlvbiAoZCkge1xuICAgICAgICByZXR1cm4geChkW09iamVjdC5rZXlzKGQpWzFdXSk7XG4gICAgICB9KVxuICAgICAgLmF0dHIoXCJjeVwiLCBmdW5jdGlvbiAoZCkgeyByZXR1cm4geShkW09iamVjdC5rZXlzKGQpWzJdXSk7IH0pXG4gICAgICAuYXR0cihcImZpbGxcIiwgZnVuY3Rpb24gKGQsICkgeyByZXR1cm4gZFtPYmplY3Qua2V5cyhkKVs1XV0gfSlcbiAgICAgIC5hdHRyKCdvcGFjaXR5JywgMC43KVxuICAgICAgLm9uKFwibW91c2VvdmVyXCIsIChkKSA9PiB7XG4gICAgICAgIHJldHVybiB0b29sdGlwLnN0eWxlKFwidmlzaWJpbGl0eVwiLCBcInZpc2libGVcIik7XG4gICAgICB9KVxuICAgICAgLm9uKFwibW91c2Vtb3ZlXCIsIChkKSA9PiB7XG4gICAgICAgIHJldHVybiB0b29sdGlwLmh0bWwoXG4gICAgICAgICAgdGhpcy5mb3JtVG9vbHRpcERhdGEoZClcbiAgICAgICAgKVxuICAgICAgICAgIC5zdHlsZShcInRvcFwiLCAoZDMuZXZlbnQucGFnZVkgLSAxMCkgKyBcInB4XCIpXG4gICAgICAgICAgLnN0eWxlKFwibGVmdFwiLCAoZDMuZXZlbnQucGFnZVggKyAxMCkgKyBcInB4XCIpO1xuICAgICAgfSlcbiAgICAgIC5vbihcIm1vdXNlb3V0XCIsIChkKSA9PiB7XG4gICAgICAgIHJldHVybiB0b29sdGlwLnN0eWxlKFwidmlzaWJpbGl0eVwiLCBcImhpZGRlblwiKTtcbiAgICAgIH0pXG4gICAgICAub24oXCJjbGlja1wiLCAoZCkgPT4ge1xuICAgICAgICB0aGlzLmJ1YmJsZUNoYXJ0Q2xpY2soZCk7XG4gICAgICAgIHRoaXMuZm9yZHJpbGxhYmxlQ2xpY2sodGhpcywgZCwgZXZlbnQpO1xuICAgICAgICByZXR1cm4gdG9vbHRpcC5zdHlsZShcInZpc2liaWxpdHlcIiwgXCJoaWRkZW5cIik7XG4gICAgICB9KTtcbiAgfVxuXG4gIGZvcm1Ub29sdGlwRGF0YSh0b29sdGlwRGF0YTogYW55KSB7XG4gICAgbGV0IG9iamVjdCA9IHt9O1xuICAgIGZvciAobGV0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyh0b29sdGlwRGF0YSkpIHtcbiAgICAgIGlmIChrZXkgIT0gJ2NvbG9yJykge1xuICAgICAgICBvYmplY3Rba2V5XSA9IHZhbHVlO1xuICAgICAgfVxuICAgIH1cbiAgICByZXR1cm4gdGhpcy50b29sVGlwRm9yQmFyKG9iamVjdCk7XG4gIH1cblxuICAvLyBNZXRob2Qgb24gY2hhcnQgY2xpY2tcbiAgYnViYmxlQ2hhcnRDbGljayhldmVudDogYW55KSB7XG4gICAgbGV0IG9iamVjdCA9IHt9O1xuICAgIGZvciAobGV0IFtrZXksIHZhbHVlXSBvZiBPYmplY3QuZW50cmllcyhldmVudCkpIHtcbiAgICAgIG9iamVjdFtrZXldID0gdmFsdWU7XG4gICAgfVxuICAgIHRoaXMuY2hhcnRDbGljayhvYmplY3QpO1xuICB9XG5cbiAgcmVzaXplKGRhdGE6IGFueSkge1xuICAgIHRoaXMuc3Znd2lkdGggPSAwO1xuICAgIHRoaXMuc3ZnLnNlbGVjdEFsbChcIipcIikucmVtb3ZlKCk7XG5cbiAgICB0aGlzLnJlc2l6ZWZsYWcgPSB0cnVlO1xuICAgIHRoaXMuc3Znd2lkdGggPSB0aGlzLmRpdmlkLm5hdGl2ZUVsZW1lbnQub2Zmc2V0V2lkdGg7XG5cbiAgICB0aGlzLnBsb3RCdWJibGVDaGFydCgpO1xuXG4gIH1cbiAgeGF4aXNEYXRhKCkge1xuXG4gICAgbGV0IGFycmF5ID0gW107XG4gICAgdGhpcy5taW54dmFsdWUgPSAwO1xuICAgIHRoaXMubWF4eHZhbHVlID0gMDtcbiAgICB0aGlzLnhheGlzQXJyYXkgPSBbXTtcbiAgICB0aGlzLnhhcnJheSA9IFtdO1xuICAgIHRoaXMuZGF0YTEuZm9yRWFjaChlbGVtZW50ID0+IHtcbiAgICAgIGFycmF5LnB1c2goZWxlbWVudFsxXSk7XG4gICAgfSk7XG4gICAgZm9yIChsZXQgaSA9IDE7IGkgPCBhcnJheS5sZW5ndGg7IGkrKykge1xuICAgICAgdGhpcy54YXhpc0FycmF5LnB1c2goYXJyYXlbaV0pO1xuICAgIH1cblxuICAgIGxldCBtaW52YWx1ZSA9IE1hdGguZmxvb3IoZDMubWluKHRoaXMueGF4aXNBcnJheSkpO1xuICAgIGxldCBtYXh2YWx1ZSA9IE1hdGguY2VpbChkMy5tYXgodGhpcy54YXhpc0FycmF5KSk7XG4gICAgdGhpcy5taW54dmFsdWUgPSA1ICogKE1hdGguZmxvb3IoTWF0aC5hYnMobWludmFsdWUgLyA1KSkpO1xuICAgIHRoaXMubWF4eHZhbHVlID0gNSAqIChNYXRoLmNlaWwoTWF0aC5hYnMobWF4dmFsdWUgLyA1KSkpO1xuXG4gIH1cblxuICBjb2xvckdlbmVyYXRpb24oKSB7XG4gICAgXG4gICAgdGhpcy5sZWdlbmRhcnJheSA9IFtdO1xuICAgIGxldCBpID0gMDtcbiAgICBsZXQgbmFtZXMgPSB0aGlzLmRhdGExXG4gICAgICAubWFwKGUgPT4gZVszXSlcbiAgICAgIC5maWx0ZXIoKGUsIGksIGEpID0+IGEuaW5kZXhPZihlKSA9PT0gaSk7XG5cbiAgICBmb3IgKGxldCBqID0gMTsgaiA8IG5hbWVzLmxlbmd0aDsgaisrKSB7XG4gICAgICBsZXQgdmFsdWUgPSBbXTtcbiAgICAgIGxldCBvYmogPSB7IFwibGFiZWxcIjogXCJcIiwgXCJjb2xvclwiOiBcIlwiLCBcInZhbHVlXCI6IFtdIH07XG4gICAgICB0aGlzLmNvbG9yZGF0YS5mb3JFYWNoKGVsZW1lbnQgPT4ge1xuICAgICAgICBpZiAoZWxlbWVudFtPYmplY3Qua2V5cyhlbGVtZW50KVszXV0gPT0gbmFtZXNbal0pIHtcbiAgICAgICAgICBlbGVtZW50Wydjb2xvciddID0gdGhpcy5wcmVkZWZpbmVkY29sb3JzW2ldO1xuICAgICAgICAgIHZhbHVlLnB1c2goZWxlbWVudCk7XG4gICAgICAgIH1cbiAgICAgIH0pO1xuICAgICAgb2JqW1widmFsdWVcIl0gPSB2YWx1ZTtcbiAgICAgIG9ialtcImxhYmVsXCJdID0gbmFtZXNbal07XG4gICAgICBvYmpbXCJjb2xvclwiXSA9IHRoaXMucHJlZGVmaW5lZGNvbG9yc1tpXTtcbiAgICAgIHRoaXMubGVnZW5kYXJyYXkucHVzaChvYmopO1xuICAgICAgaSsrO1xuICAgIH1cbiAgfVxuXG4gIGZvcm1MZWdlbmREYXRhKCkge1xuICAgIHRoaXMubGVnZW5kRGF0YSA9IFtdO1xuICAgIHRoaXMubGVnZW5kYXJyYXkuZm9yRWFjaChlbGVtZW50ID0+IHtcbiAgICAgIGxldCBsZWdlbmRvYmplY3QgPSB7fTtcbiAgICAgIGxlZ2VuZG9iamVjdFsnbGFiZWwnXSA9IGVsZW1lbnQubGFiZWw7XG4gICAgICBsZWdlbmRvYmplY3RbJ2NvbG9yJ10gPSBlbGVtZW50LmNvbG9yO1xuICAgICAgdGhpcy5sZWdlbmREYXRhLnB1c2gobGVnZW5kb2JqZWN0KTtcbiAgICB9KTtcbiAgfVxuXG4gIG9uQnViYmxlTGVnZW5kQ2xpY2sobGVnZW5kZXZlbnQ6IGFueSkge1xuICAgIHRoaXMubGVnZW5kYXJyYXkuZm9yRWFjaChlbGVtZW50ID0+IHtcbiAgICAgIGlmIChsZWdlbmRldmVudC5sYWJlbCA9PSBlbGVtZW50LmxhYmVsKSB7XG4gICAgICAgIHRoaXMubGVnZW5kQ2xpY2soZWxlbWVudC52YWx1ZSk7XG4gICAgICB9XG4gICAgfSk7XG5cbiAgfVxuXG4gIHBsb3RMaW5lKGcsIHgsIHksIGhlaWdodCwgd2lkdGgpIHtcbiAgICBpZiAodGhpcy52U2NhbGUpIHtcbiAgICAgIGcuYXBwZW5kKCdnJylcbiAgICAgICAgLmF0dHIoXCJjb2xvclwiLCBcImxpZ2h0Z3JleVwiKVxuICAgICAgICAuYXR0cigndHJhbnNmb3JtJywgJ3RyYW5zbGF0ZSgwLCcgKyBoZWlnaHQgKyAnKScpXG4gICAgICAgIC5jYWxsKGQzLmF4aXNCb3R0b20oeCkuXG4gICAgICAgICAgdGlja1NpemUoLXRoaXMud2lkdGgpLnRpY2tGb3JtYXQoJycpXG4gICAgICAgICk7XG4gICAgfVxuICAgIGlmICh0aGlzLmhTY2FsZSkge1xuICAgICAgZy5hcHBlbmQoJ2cnKVxuICAgICAgICAuYXR0cihcImNvbG9yXCIsIFwibGlnaHRncmV5XCIpXG4gICAgICAgIC5jYWxsKGQzLmF4aXNMZWZ0KHkpXG4gICAgICAgICAgLnRpY2tTaXplKC13aWR0aCkudGlja0Zvcm1hdCgnJykpO1xuICAgIH1cbiAgfVxuXG4gIHRyYW5zZm9ybWRhdGEoKSB7XG4gICAgdGhpcy5idWJibGVjaGFydGRhdGEgPSBbXVxuICAgIGxldCBidXVibGVkYXRhID0gW107XG4gICAgdGhpcy5jb2xvcmRhdGEuZm9yRWFjaCgoZWxlbWVudCwgaSkgPT4ge1xuXG4gICAgICBidXVibGVkYXRhLnB1c2goZWxlbWVudFtPYmplY3Qua2V5cyhlbGVtZW50KVs0XV0pO1xuXG4gICAgfSk7XG5cblxuICAgIGxldCBkYXRhID0gYnV1YmxlZGF0YS5zb3J0KGZ1bmN0aW9uIChhLCBiKSB7IHJldHVybiBiIC0gYSB9KTtcblxuICAgIGZvciAobGV0IGogPSAwOyBqIDw9IGRhdGEubGVuZ3RoOyBqKyspIHtcbiAgICAgIHRoaXMuY29sb3JkYXRhLmZvckVhY2goZWxlbWVudCA9PiB7XG4gICAgICAgIGlmIChkYXRhW2pdID09IGVsZW1lbnRbT2JqZWN0LmtleXMoZWxlbWVudClbNF1dKVxuICAgICAgICAgIHRoaXMuYnViYmxlY2hhcnRkYXRhLnB1c2goZWxlbWVudCk7XG4gICAgICB9KTtcbiAgICB9XG5cblxuXG4gIH1cblxufVxuIiwiaW1wb3J0IHsgQ29tcG9uZW50LCAgT25Jbml0IH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQge0dyb3VwYmFyQ29tcG9uZW50fSBmcm9tICcuLi9ncm91cGJhci9ncm91cGJhci5jb21wb25lbnQnO1xuaW1wb3J0IHtBbWV4aW9EM0JhckNoYXJ0Q29tcG9uZW50fSBmcm9tICcuLi9iYXIvYmFyLmNvbXBvbmVudCc7XG5pbXBvcnQge0FtZXhpb0QzRG91bnV0Q2hhcnRDb21wb25lbnR9IGZyb20gJy4uL2RvdW51dC9kb3VudXQuY29tcG9uZW50JztcbmltcG9ydHtBbWV4aW9EM1BpZUNoYXJ0Q29tcG9uZW50IH0gZnJvbSAnLi4vcGllL3BpZS5jb21wb25lbnQnO1xuaW1wb3J0IHtBbWV4aW9EM0xpbmVDb21wb25lbnR9IGZyb20gJy4uL2xpbmUvbGluZS5jb21wb25lbnQnO1xuaW1wb3J0e0JhcnN0YWNrQ29tcG9uZW50fSAgZnJvbSAnLi4vYmFyc3RhY2svYmFyc3RhY2suY29tcG9uZW50JztcbmltcG9ydHtDb21ib2NoYXJ0Q29tcG9uZW50fSBmcm9tICcuLi9jb21ib2NoYXJ0L2NvbWJvY2hhcnQuY29tcG9uZW50J1xuaW1wb3J0e0hpc3RvZ3JhbUNvbXBvbmVudH0gZnJvbSAnLi4vaGlzdG9ncmFtL2hpc3RvZ3JhbS5jb21wb25lbnQnXG5pbXBvcnR7U2NhdHRlcmNoYXJ0Q29tcG9uZW50fSBmcm9tJy4uL3NjYXR0ZXJjaGFydC9zY2F0dGVyY2hhcnQuY29tcG9uZW50J1xuaW1wb3J0e011bHRpYXJlYUNvbXBvbmVudH0gZnJvbSAnLi4vbXVsdGlhcmVhL211bHRpYXJlYS5jb21wb25lbnQnXG5pbXBvcnR7Q2FuZGxlc3RpY2tDb21wb25lbnR9IGZyb20gJy4uL2NhbmRsZXN0aWNrL2NhbmRsZXN0aWNrLmNvbXBvbmVudCdcbmltcG9ydHtCdWJibGVDb21wb25lbnR9IGZyb20nLi4vYnViYmxlL2J1YmJsZS9idWJibGUuY29tcG9uZW50J1xuaW1wb3J0IHtcbiAgQWZ0ZXJDb250ZW50SW5pdCwgQWZ0ZXJWaWV3SW5pdCwgQ29udGVudENoaWxkcmVuLFxuICBFbGVtZW50UmVmLCBFdmVudEVtaXR0ZXIsIElucHV0LCBPdXRwdXQsIFF1ZXJ5TGlzdCwgVmlld0NoaWxkLFxuICAgVmlld0NoaWxkcmVufSBmcm9tICdAYW5ndWxhci9jb3JlJztcblxuZXhwb3J0IGNsYXNzIFZpZXdEcmlsbGFibGVDb21wb25lbnQgaW1wbGVtZW50cyBPbkluaXQge1xuXG4gIEBDb250ZW50Q2hpbGRyZW4oQW1leGlvRDNCYXJDaGFydENvbXBvbmVudCwgeyBkZXNjZW5kYW50czogdHJ1ZSB9KSBxdWVyeUJhcmNoYXJ0aW5wdXQ6IFF1ZXJ5TGlzdDxBbWV4aW9EM0JhckNoYXJ0Q29tcG9uZW50PjtcbiAgYmFyY2hhcnRpbnB1dDpBbWV4aW9EM0JhckNoYXJ0Q29tcG9uZW50W10gO1xuXG4gIEBDb250ZW50Q2hpbGRyZW4oR3JvdXBiYXJDb21wb25lbnQsIHsgZGVzY2VuZGFudHM6IHRydWUgfSkgUXVlcnlHcm91cGJhcmNoYXJ0aW5wdXQ6IFF1ZXJ5TGlzdDxHcm91cGJhckNvbXBvbmVudD47XG4gIGdyb3VwYmFyY2hhcnRpbnB1dDpHcm91cGJhckNvbXBvbmVudFtdIDtcblxuICBAQ29udGVudENoaWxkcmVuKEFtZXhpb0QzTGluZUNvbXBvbmVudCwgeyBkZXNjZW5kYW50czogdHJ1ZSB9KSBRdWVyeUxpbmVjaGFydGlucHV0OiBRdWVyeUxpc3Q8QW1leGlvRDNMaW5lQ29tcG9uZW50PjtcbiAgbGluZWNoYXJ0aW5wdXQ6QW1leGlvRDNMaW5lQ29tcG9uZW50W10gO1xuXG4gIEBDb250ZW50Q2hpbGRyZW4oQW1leGlvRDNQaWVDaGFydENvbXBvbmVudCwgeyBkZXNjZW5kYW50czogdHJ1ZSB9KSBRdWVyeVBpZWNoYXJ0aW5wdXQ6IFF1ZXJ5TGlzdDxBbWV4aW9EM1BpZUNoYXJ0Q29tcG9uZW50PjtcbiAgcGllY2hhcnRpbnB1dDpBbWV4aW9EM1BpZUNoYXJ0Q29tcG9uZW50W10gO1xuXG4gIEBDb250ZW50Q2hpbGRyZW4oQW1leGlvRDNEb3VudXRDaGFydENvbXBvbmVudCwgeyBkZXNjZW5kYW50czogdHJ1ZSB9KSBRdWVyeURvbnV0Y2hhcnRpbnB1dDogUXVlcnlMaXN0PEFtZXhpb0QzRG91bnV0Q2hhcnRDb21wb25lbnQ+O1xuICBkb251dGNoYXJ0aW5wdXQ6QW1leGlvRDNEb3VudXRDaGFydENvbXBvbmVudFtdIDtcblxuXG4gIEBDb250ZW50Q2hpbGRyZW4oQmFyc3RhY2tDb21wb25lbnQsIHsgZGVzY2VuZGFudHM6IHRydWUgfSkgUXVlcnlCYXJTdGFja2NoYXJ0aW5wdXQ6IFF1ZXJ5TGlzdDxCYXJzdGFja0NvbXBvbmVudD47XG4gIGJhcnN0YWNrY2hhcnRpbnB1dDpCYXJzdGFja0NvbXBvbmVudFtdIDtcblxuICBAQ29udGVudENoaWxkcmVuKENvbWJvY2hhcnRDb21wb25lbnQsIHsgZGVzY2VuZGFudHM6IHRydWUgfSkgUXVlcnlDb21ib2NoYXJ0aW5wdXQ6IFF1ZXJ5TGlzdDxDb21ib2NoYXJ0Q29tcG9uZW50PjtcbiAgY29tYm9jaGFydGlucHV0OkNvbWJvY2hhcnRDb21wb25lbnRbXSA7XG5cbiAgQENvbnRlbnRDaGlsZHJlbihIaXN0b2dyYW1Db21wb25lbnQsIHsgZGVzY2VuZGFudHM6IHRydWUgfSkgUXVlcnlIaXN0b2dyYW1jaGFydGlucHV0OiBRdWVyeUxpc3Q8SGlzdG9ncmFtQ29tcG9uZW50PjtcbiAgaGlzdG9ncmFtY2hhcnRpbnB1dDpIaXN0b2dyYW1Db21wb25lbnRbXSA7XG5cbiAgQENvbnRlbnRDaGlsZHJlbihTY2F0dGVyY2hhcnRDb21wb25lbnQsIHsgZGVzY2VuZGFudHM6IHRydWUgfSkgUXVlcnlTYXR0ZXJjaGFydGlucHV0OiBRdWVyeUxpc3Q8U2NhdHRlcmNoYXJ0Q29tcG9uZW50PjtcbiAgc2NhdHRlcmNoYXJ0aW5wdXQ6U2NhdHRlcmNoYXJ0Q29tcG9uZW50W10gO1xuXG4gIEBDb250ZW50Q2hpbGRyZW4oTXVsdGlhcmVhQ29tcG9uZW50LCB7IGRlc2NlbmRhbnRzOiB0cnVlIH0pIFF1ZXJ5TXVsdGlhcmVhY2hhcnRpbnB1dDogUXVlcnlMaXN0PE11bHRpYXJlYUNvbXBvbmVudD47XG4gIG11bHRpYXJlYWNoYXJ0aW5wdXQ6TXVsdGlhcmVhQ29tcG9uZW50W10gO1xuXG4gIEBDb250ZW50Q2hpbGRyZW4oQ2FuZGxlc3RpY2tDb21wb25lbnQsIHsgZGVzY2VuZGFudHM6IHRydWUgfSkgUXVlcnlDYW5kbGVzdGlja2NoYXJ0aW5wdXQ6IFF1ZXJ5TGlzdDxDYW5kbGVzdGlja0NvbXBvbmVudD47XG4gIGNhbmRsZXN0aWNrY2hhcnRpbnB1dDpDYW5kbGVzdGlja0NvbXBvbmVudFtdIDtcblxuICBAQ29udGVudENoaWxkcmVuKEJ1YmJsZUNvbXBvbmVudCwgeyBkZXNjZW5kYW50czogdHJ1ZSB9KSBRdWVyeUJ1YmJsZWNoYXJ0aW5wdXQ6IFF1ZXJ5TGlzdDxCdWJibGVDb21wb25lbnQ+O1xuICBidWJibGVjaGFydGlucHV0OkJ1YmJsZUNvbXBvbmVudFtdIDtcblxuICAgY2hhcnRJbnB1dEFycmF5OmFueTtcblxuICBjb25zdHJ1Y3RvcigpIHsgXG5cbiAgfVxuXG4gIG5nT25Jbml0KCkge1xuXG4gIH1cblxuXG4gIG5nQWZ0ZXJWaWV3SW5pdCgpIHtcbiAgIFxuICAgcmV0dXJuIHRoaXMuZ2V0Q29tcG9uZW50RGF0YSgpO1xuICBcbiAgfVxuXG5nZXRDb21wb25lbnREYXRhKCk6IGFueVxue1xuXG4gIHRoaXMuY2hhcnRJbnB1dEFycmF5PVtdO1xuXG4gIHRoaXMuYmFyY2hhcnRpbnB1dCA9IHRoaXMucXVlcnlCYXJjaGFydGlucHV0LnRvQXJyYXkoKTtcbiAgdGhpcy5ncm91cGJhcmNoYXJ0aW5wdXQgPSB0aGlzLlF1ZXJ5R3JvdXBiYXJjaGFydGlucHV0LnRvQXJyYXkoKTtcbiAgdGhpcy5saW5lY2hhcnRpbnB1dD10aGlzLlF1ZXJ5TGluZWNoYXJ0aW5wdXQudG9BcnJheSgpO1xuICB0aGlzLmRvbnV0Y2hhcnRpbnB1dD10aGlzLlF1ZXJ5RG9udXRjaGFydGlucHV0LnRvQXJyYXkoKTtcbiAgdGhpcy5waWVjaGFydGlucHV0PXRoaXMuUXVlcnlQaWVjaGFydGlucHV0LnRvQXJyYXkoKTtcbiAgdGhpcy5iYXJzdGFja2NoYXJ0aW5wdXQ9dGhpcy5RdWVyeUJhclN0YWNrY2hhcnRpbnB1dC50b0FycmF5KCk7XG4gIHRoaXMuY29tYm9jaGFydGlucHV0PXRoaXMuUXVlcnlDb21ib2NoYXJ0aW5wdXQudG9BcnJheSgpO1xuICB0aGlzLmhpc3RvZ3JhbWNoYXJ0aW5wdXQ9dGhpcy5RdWVyeUhpc3RvZ3JhbWNoYXJ0aW5wdXQudG9BcnJheSgpO1xuICB0aGlzLnNjYXR0ZXJjaGFydGlucHV0PXRoaXMuUXVlcnlTYXR0ZXJjaGFydGlucHV0LnRvQXJyYXkoKTtcbiAgdGhpcy5tdWx0aWFyZWFjaGFydGlucHV0PXRoaXMuUXVlcnlNdWx0aWFyZWFjaGFydGlucHV0LnRvQXJyYXkoKTtcbiAgdGhpcy5jYW5kbGVzdGlja2NoYXJ0aW5wdXQ9dGhpcy5RdWVyeUNhbmRsZXN0aWNrY2hhcnRpbnB1dC50b0FycmF5KCk7XG4gIHRoaXMuYnViYmxlY2hhcnRpbnB1dD10aGlzLlF1ZXJ5QnViYmxlY2hhcnRpbnB1dC50b0FycmF5KCk7XG4gIHRoaXMuY2hhcnRJbnB1dEFycmF5PXRoaXMuY2hhcnRJbnB1dEFycmF5LmNvbmNhdCggdGhpcy5iYXJjaGFydGlucHV0LHRoaXMuZ3JvdXBiYXJjaGFydGlucHV0LHRoaXMubGluZWNoYXJ0aW5wdXQsdGhpcy5kb251dGNoYXJ0aW5wdXQsdGhpcy5waWVjaGFydGlucHV0LHRoaXMuYmFyc3RhY2tjaGFydGlucHV0LHRoaXMuY29tYm9jaGFydGlucHV0LHRoaXMuaGlzdG9ncmFtY2hhcnRpbnB1dCx0aGlzLnNjYXR0ZXJjaGFydGlucHV0LHRoaXMubXVsdGlhcmVhY2hhcnRpbnB1dCx0aGlzLmNhbmRsZXN0aWNrY2hhcnRpbnB1dCx0aGlzLmJ1YmJsZWNoYXJ0aW5wdXQpO1xuIFxuICByZXR1cm4gdGhpcy5jaGFydElucHV0QXJyYXk7XG4gXG59XG5cblxuXG4gIFxuXG59XG4iLCJcbmltcG9ydCB7IENvbXBvbmVudCwgT25Jbml0IH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBWaWV3RHJpbGxhYmxlQ29tcG9uZW50IH0gZnJvbSAnLi4vLi4vYmFzZS92aWV3LmNvbXBvbmVudCc7XG5cbmltcG9ydCB7XG4gIEFmdGVyQ29udGVudEluaXQsIEFmdGVyVmlld0luaXQsIENvbnRlbnRDaGlsZHJlbixcbiAgRWxlbWVudFJlZiwgRXZlbnRFbWl0dGVyLCBJbnB1dCwgT3V0cHV0LCBRdWVyeUxpc3QsIFZpZXdDaGlsZCxcbiAgVmlld0NoaWxkcmVuXG59IGZyb20gJ0Bhbmd1bGFyL2NvcmUnO1xuaW1wb3J0IHsgSG9zdExpc3RlbmVyIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5AQ29tcG9uZW50KHtcbiAgc2VsZWN0b3I6ICdhbWV4aW8tZHJpbGxhYmxlJyxcbiAgdGVtcGxhdGU6IGBcbjxkaXYgPiBcbiAgICA8bmctY29udGFpbmVyICpuZ0lmPVwiZGlzYWJsZUZsYWdcIj5cbiAgICAgICAgICAgIDxidXR0b24gdHlwZT1cImJ1dHRvblwiIGNsYXNzPVwiYnV0dG9uXCJcbiAgICAgICAgICAgICAoY2xpY2spPVwicHJldmlvdXNjaGFydENsaWNrKCRldmVudClcIj5cbiAgICAgICAgICAgICA8aSBjbGFzcz1cImZhIGZhLWFycm93LWxlZnRcIj48L2k+IFxuICAgICAgICAgICAgIFxuICAgICAgICAgICAgPC9idXR0b24+XG48L25nLWNvbnRhaW5lcj5cblxuPG5nLWNvbnRlbnQ+PC9uZy1jb250ZW50PlxuXG48L2Rpdj5cblxuPHNwYW4gW25nU3R5bGVdPVwiY29udGV4dFN0eWxlXCIgPlxuICA8dWwgKm5nSWY9XCJjb250ZXh0bWVudUZsYWdcIiBjbGFzcz1cImNsb3NlLXRoaWtcIiBjbGFzcz1cImNvbnRleHQtbWVudS1saXN0XCIgID5cbiAgICA8c3BhbiAoY2xpY2spPVwib25DbG9zZUNsaWNrKClcIiBjbGFzcz1cImNsb3NlXCI+PGkgY2xhc3M9XCJmYSBmYS1jbG9zZVwiPjwvaT48L3NwYW4+XG4gIDxsaSAoY2xpY2spPVwib25Db250ZXh0Tm9kZUNsaWNrKGl0ZW1Db25maWcpXCIgY2xhc3M9XCJjb250ZXh0LW1lbnUtbGlzdC1pdGVtc1wiIFxuICAqbmdGb3I9XCJsZXQgaXRlbUNvbmZpZyBvZiBhcnJheW9mc2FtZUxldmVsXCI+XG4gIDxlbSBbbmdTdHlsZV09XCJ7J3BhZGRpbmctbGVmdCc6IGl0ZW1Db25maWcuaWNvbiA/ICc1cHgnOicxOXB4J31cIj48L2VtPlxuICA8c3BhbiBzdHlsZT1cIndoaXRlLXNwYWNlOiBub3dyYXA7ZGlzcGxheTogaW5saW5lIDsgcGFkZGluZy1sZWZ0OjVweFwiPnt7aXRlbUNvbmZpZy50aXRsZX19XG4gIDwvc3Bhbj5cbiAgPC9saT5cbiAgPC91bD5cbiAgPC9zcGFuPlxuICBgLFxuICBzdHlsZXM6IFtgLmJ1dHRvbntwb3NpdGlvbjpyZWxhdGl2ZTtib3JkZXI6MXB4IHNvbGlkICM1NTU7Zm9udC13ZWlnaHQ6NDAwO2NvbG9yOiMwMDA7cGFkZGluZzouNXJlbSAxcmVtO3RleHQtYWxpZ246Y2VudGVyO3RyYW5zaXRpb24tZHVyYXRpb246LjRzO3RleHQtZGVjb3JhdGlvbjpub25lO292ZXJmbG93OmhpZGRlbjtjdXJzb3I6cG9pbnRlcjtib3JkZXItcmFkaXVzOjNweH0uYnV0dG9uOmFmdGVye2NvbnRlbnQ6XCJcIjtiYWNrZ3JvdW5kOiMwMDA7ZGlzcGxheTpibG9jaztwb3NpdGlvbjphYnNvbHV0ZTtwYWRkaW5nLXRvcDozMDAlO3BhZGRpbmctbGVmdDozNTAlO21hcmdpbi1sZWZ0Oi0yMHB4IWltcG9ydGFudDttYXJnaW4tdG9wOi0xMjAlO29wYWNpdHk6MDt0cmFuc2l0aW9uOi44c30uYnV0dG9uOmFjdGl2ZTphZnRlcntwYWRkaW5nOjA7bWFyZ2luOjA7b3BhY2l0eToxO3RyYW5zaXRpb246bm9uZX0uY29udGV4dC1tZW51LWxpc3R7ZGlzcGxheTpibG9jaztwb3NpdGlvbjphYnNvbHV0ZTtmbGV4LWRpcmVjdGlvbjpjb2x1bW47bWluLXdpZHRoOjE4MHB4O2N1cnNvcjpwb2ludGVyO21heC1oZWlnaHQ6MTUwcHg7ei1pbmRleDoxO3BhZGRpbmc6MTBweCAwO292ZXJmbG93LXk6YXV0bztiYWNrZ3JvdW5kLWNvbG9yOiNmZmYhaW1wb3J0YW50O2JveC1zaGFkb3c6MCA1cHggNXB4IC0zcHggcmdiYSgwLDAsMCwuMiksMCA4cHggMTBweCAxcHggcmdiYSgwLDAsMCwuMTQpLDAgM3B4IDE0cHggMnB4IHJnYmEoMCwwLDAsLjEyKX0uY29udGV4dC1tZW51LWxpc3QgLmNvbnRleHQtbWVudS1saXN0LWl0ZW1ze3RleHQtZGVjb3JhdGlvbjpub25lO2ZvbnQtc2l6ZToxNHB4IWltcG9ydGFudDtwYWRkaW5nOjVweDtkaXNwbGF5OmJsb2NrfS5jbG9zZXtmbG9hdDpyaWdodDtwYWRkaW5nLXJpZ2h0OjhweDtjdXJzb3I6cG9pbnRlcn1gXVxufSlcblxuXG5leHBvcnQgY2xhc3MgRHJpbGxhYmxlQ29tcG9uZW50IGV4dGVuZHMgVmlld0RyaWxsYWJsZUNvbXBvbmVudCBpbXBsZW1lbnRzIE9uSW5pdCB7XG5cbiAgbW91c2VMb2NhdGlvbjogeyBsZWZ0OiBudW1iZXI7IHRvcDogbnVtYmVyIH0gPSB7IGxlZnQ6IDAsIHRvcDogMCB9O1xuICBjb250ZXh0bWVudUZsYWc6IGJvb2xlYW47XG4gIGNvbnRleHRTdHlsZTogYW55O1xuICBDb21wb25lbnREYXRhQXJyYXk6IGFueVxuICBjb21wb25lbnRjb3VudGVyOiBudW1iZXIgPSAxO1xuICBkaXNhYmxlRmxhZzogYm9vbGVhbiA9IGZhbHNlO1xuICBhcnJheW9mc2FtZUxldmVsOiBhbnk7XG4gIGV2ZW50RGF0YTogYW55O1xuICByaWdodENsaWNrTm9kZURhdGE6IGFueTtcbiAgcG9zaXhVcDogYm9vbGVhbjtcbiAgbGV2ZWxBcnJheTogYW55O1xuICBjb25zdHJ1Y3RvcigpIHtcbiAgICBzdXBlcigpO1xuICB9XG5cbiAgbmdPbkluaXQoKSB7XG5cblxuICB9XG5cbiAgbmdBZnRlclZpZXdJbml0KCkge1xuXG4gICAgdGhpcy5Db21wb25lbnREYXRhQXJyYXkgPSB0aGlzLmdldENvbXBvbmVudERhdGEoKTtcbiAgICB0aGlzLmdldERhdGEodGhpcy5Db21wb25lbnREYXRhQXJyYXkpO1xuXG4gIH1cbiAgZ2V0RGF0YShkYXRhOiBhbnkpIHtcbiAgICBkYXRhLmZvckVhY2goZWxlbWVudCA9PiB7XG5cbiAgICAgIGlmIChlbGVtZW50LmxldmVsICE9PSAxKSB7XG4gICAgICAgIGVsZW1lbnQuZHJpbGxhYmxlRmxhZyA9IGZhbHNlO1xuICAgICAgICBlbGVtZW50LmRyaWxsYWJsZUV2ZW50LnN1YnNjcmliZSgoZXZlbnRkYXRhOiBhbnkpID0+IHtcbiAgICAgICAgICB0aGlzLmhpZGVVSShldmVudGRhdGEpO1xuICAgICAgICAgIHRoaXMuc2FtZUxldmVsQ2hhcnQoZXZlbnRkYXRhKTtcbiAgICAgICAgICB0aGlzLlNob3dVSShldmVudGRhdGEpO1xuXG5cbiAgICAgICAgfSlcbiAgICAgIH1cbiAgICAgIGVsc2Uge1xuICAgICAgICB0aGlzLmRpc2FibGVGbGFnID0gZmFsc2U7XG4gICAgICAgIGVsZW1lbnQuZHJpbGxhYmxlRXZlbnQuc3Vic2NyaWJlKChldmVudGRhdGE6IGFueSkgPT4ge1xuICAgICAgICAgIHRoaXMuaGlkZVVJKGV2ZW50ZGF0YSk7XG4gICAgICAgICAgdGhpcy5zYW1lTGV2ZWxDaGFydChldmVudGRhdGEpO1xuICAgICAgICAgIHRoaXMuU2hvd1VJKGV2ZW50ZGF0YSk7XG4gICAgICAgIH0pXG4gICAgICB9XG4gICAgfSk7XG5cbiAgfVxuXG4gIGhpZGVVSShldmVudFJlZjogYW55KSB7XG4gICAgdGhpcy5Db21wb25lbnREYXRhQXJyYXkuZm9yRWFjaChlbGVtZW50ID0+IHtcbiAgICAgIGlmIChlbGVtZW50LmxldmVsID09IGV2ZW50UmVmLnJlZi5sZXZlbCkge1xuICAgICAgICBldmVudFJlZi5yZWYuZHJpbGxhYmxlRmxhZyA9IGZhbHNlO1xuICAgICAgfVxuICAgIH0pO1xuXG4gIH1cblxuICBTaG93VUkoZXZlbnRSZWY6IGFueSkge1xuICAgIHRoaXMuZXZlbnREYXRhID0gW107XG4gICAgdGhpcy5ldmVudERhdGEgPSBldmVudFJlZjtcbiAgICB0aGlzLkNvbXBvbmVudERhdGFBcnJheS5mb3JFYWNoKGVsZW1lbnQgPT4ge1xuICAgICAgaWYgKGV2ZW50UmVmLnJlZi50YXJnZXQgPT0gZWxlbWVudC5sZXZlbCkge1xuICAgICAgICBpZiAodGhpcy5hcnJheW9mc2FtZUxldmVsLmxlbmd0aCA9PSAxKSB7XG4gICAgICAgICAgdGhpcy5kaXNhYmxlRmxhZyA9IHRydWU7XG4gICAgICAgICAgZWxlbWVudC5kcmlsbGFibGVGbGFnID0gdHJ1ZTtcbiAgICAgICAgICBlbGVtZW50LmZldGNoRGF0YShldmVudFJlZi5ub2RlKTtcbiAgICAgICAgICB0aGlzLmNvbXBvbmVudGNvdW50ZXIgPSBlbGVtZW50LmxldmVsO1xuICAgICAgICB9XG4gICAgICAgIGVsc2Uge1xuICAgICAgICAgIHRoaXMuY29udGV4dG1lbnVGbGFnID0gdHJ1ZTtcbiAgICAgICAgICB0aGlzLm1vdXNlTG9jYXRpb24ubGVmdCA9IGV2ZW50UmVmLmV2ZW50LmNsaWVudFg7XG4gICAgICAgICAgdGhpcy5tb3VzZUxvY2F0aW9uLnRvcCA9IGV2ZW50UmVmLmV2ZW50LmNsaWVudFk7XG4gICAgICAgICAgdGhpcy5jb250ZXh0U3R5bGUgPSB0aGlzLmdldENvbnRleHRNZW51U3R5bGUoKTtcbiAgICAgICAgfVxuICAgICAgfVxuICAgIH0pO1xuICBpZiAodGhpcy5jb21wb25lbnRjb3VudGVyID09IGV2ZW50UmVmLnJlZi5sZXZlbCkge1xuICAgICAgZXZlbnRSZWYucmVmLmRyaWxsYWJsZUZsYWcgPSB0cnVlO1xuICAgIH1cblxuICB9XG4gIHByZXZpb3VzY2hhcnRDbGljayhldmVudDogYW55KSB7XG4gICAgbGV0IGNoYXJ0TGV2ZWwgPSB0aGlzLmNvbXBvbmVudGNvdW50ZXIgLSAxO1xuICAgIHRoaXMuQ29tcG9uZW50RGF0YUFycmF5LmZvckVhY2goZWxlbWVudCA9PiB7XG4gICAgICBpZiAoY2hhcnRMZXZlbCA9PSBlbGVtZW50LmxldmVsKSB7XG4gICAgICAgIGVsZW1lbnQuZHJpbGxhYmxlRmxhZyA9IHRydWU7XG4gICAgICAgIGVsZW1lbnQuZHJhd0NoYXJ0KCk7XG4gICAgICB9IGVsc2UgaWYgKHRoaXMuY29tcG9uZW50Y291bnRlciA9PSBlbGVtZW50LmxldmVsKSB7XG4gICAgICAgIGVsZW1lbnQuZHJpbGxhYmxlRmxhZyA9IGZhbHNlO1xuICAgICAgfVxuICAgIH0pO1xuICAgIGlmICh0aGlzLmNvbXBvbmVudGNvdW50ZXIgPT0gMikge1xuICAgICAgdGhpcy5kaXNhYmxlRmxhZyA9IGZhbHNlO1xuICAgIH1cbiAgICB0aGlzLmNvbXBvbmVudGNvdW50ZXIgPSBjaGFydExldmVsO1xuICB9XG5cblxuICBzYW1lTGV2ZWxDaGFydChldmVudFJlZjogYW55KSB7XG4gIFxuICAgIHRoaXMuYXJyYXlvZnNhbWVMZXZlbCA9IFtdO1xuICAgIHRoaXMuQ29tcG9uZW50RGF0YUFycmF5LmZvckVhY2goZWxlbWVudCA9PiB7XG4gICAgICBpZiAoZXZlbnRSZWYucmVmLnRhcmdldCA9PSBlbGVtZW50LmxldmVsKSB7XG4gICAgICAgIHRoaXMuYXJyYXlvZnNhbWVMZXZlbCA9IHRoaXMuYXJyYXlvZnNhbWVMZXZlbC5jb25jYXQoZWxlbWVudCk7XG5cbiAgICAgIH1cblxuICAgIH0pO1xuICB9XG5cbiAgLy9NZXRob2QgQ3JlYXRlcyBzdHlsZSBpZiB0d28gc2FtZSB0YXJnZXRzIGZvdW5kLlxuICBnZXRDb250ZXh0TWVudVN0eWxlKCkge1xuICAgIHJldHVybiB7XG4gICAgICAnY3Vyc29yJzogJ2RlZmF1bHQnLFxuICAgICAgJ3Bvc2l0aW9uJzogJ2ZpeGVkJyxcbiAgICAgICdkaXNwbGF5JzogdGhpcy5jb250ZXh0bWVudUZsYWcgPyAnYmxvY2snIDogJ25vbmUnLFxuICAgICAgJ2xlZnQnOiB0aGlzLm1vdXNlTG9jYXRpb24ubGVmdCArICdweCcsXG4gICAgICAndG9wJzogdGhpcy5tb3VzZUxvY2F0aW9uLnRvcCArICdweCcsXG4gICAgICAnYm94LXNoYWRvdyc6ICcxcHggMXB4IDJweCAjMDAwMDAwJyxcbiAgICAgICd3aWR0aCc6ICcxNSUnLFxuICAgIH07XG4gIH1cblxuXG5cbiAgZ2V0TGlzdFBvc2l0aW9uKGVsZW1lbnRSZWY6IGFueSk6IGJvb2xlYW4ge1xuICAgIGNvbnN0IGhlaWdodCA9IDI0MDtcbiAgICBpZiAoKHdpbmRvdy5zY3JlZW4uaGVpZ2h0IC0gZWxlbWVudFJlZi5nZXRCb3VuZGluZ0NsaWVudFJlY3QoKS5ib3R0b20pIDwgaGVpZ2h0KSB7XG4gICAgICByZXR1cm4gdHJ1ZTtcbiAgICB9IGVsc2Uge1xuICAgICAgcmV0dXJuIGZhbHNlO1xuICAgIH1cbiAgfVxuXG4gIG9uQ29udGV4dE5vZGVDbGljayhldmVudDogYW55KSB7XG4gICAgdGhpcy5jb21wb25lbnRjb3VudGVyID0gMDtcbiAgICB0aGlzLmNvbnRleHRtZW51RmxhZyA9IGZhbHNlO1xuICAgIHRoaXMuZXZlbnREYXRhLnJlZi5kcmlsbGFibGVGbGFnID0gZmFsc2U7XG4gICAgdGhpcy5kaXNhYmxlRmxhZyA9IHRydWU7XG4gICAgZXZlbnQuZHJpbGxhYmxlRmxhZyA9IHRydWU7XG4gICAgZXZlbnQuZmV0Y2hEYXRhKHRoaXMuZXZlbnREYXRhLm5vZGUpO1xuICAgIHRoaXMuY29tcG9uZW50Y291bnRlciA9IGV2ZW50LmxldmVsO1xuXG4gICAgaWYgKHRoaXMuY29tcG9uZW50Y291bnRlciA9PSB0aGlzLmV2ZW50RGF0YS5yZWYubGV2ZWwpIHtcbiAgICAgIHRoaXMuZXZlbnREYXRhLnJlZi5kcmlsbGFibGVGbGFnID0gdHJ1ZTtcbiAgICB9XG4gIH1cblxuICBvbkNsb3NlQ2xpY2soKSB7XG4gICAgdGhpcy5jb250ZXh0bWVudUZsYWcgPSBmYWxzZTtcbiAgfVxuXG59XG4iLCJpbXBvcnQgeyBBbWV4aW9EM0RvdW51dENoYXJ0Q29tcG9uZW50IH0gZnJvbSAnLi9kb3VudXQvZG91bnV0LmNvbXBvbmVudCc7XG5pbXBvcnQgeyBBbWV4aW9EM1BpZUNoYXJ0Q29tcG9uZW50IH0gZnJvbSAnLi9waWUvcGllLmNvbXBvbmVudCc7XG5pbXBvcnQgeyBBbWV4aW9EM0xlZ2VuZCB9IGZyb20gJy4vbGVnZW5kL2xlZ2VuZC5jb21wb25lbnQnO1xuaW1wb3J0IHsgQW1leGlvRDNCYXJDaGFydENvbXBvbmVudCB9IGZyb20gJy4vYmFyL2Jhci5jb21wb25lbnQnO1xuaW1wb3J0IHsgQW1leGlvRDNMaW5lQ29tcG9uZW50IH0gZnJvbSAnLi9saW5lL2xpbmUuY29tcG9uZW50JztcbmltcG9ydCB7IEJhcnN0YWNrQ29tcG9uZW50IH0gZnJvbSAnLi9iYXJzdGFjay9iYXJzdGFjay5jb21wb25lbnQnO1xuaW1wb3J0IHsgR3JvdXBiYXJDb21wb25lbnQgfSBmcm9tICcuL2dyb3VwYmFyL2dyb3VwYmFyLmNvbXBvbmVudCc7XG5pbXBvcnQgeyBEcmlsbGFibGVDb21wb25lbnQgfSBmcm9tICcuL2RyaWxsYWJsZS9kcmlsbGFibGUvZHJpbGxhYmxlLmNvbXBvbmVudCc7XG5pbXBvcnQgeyBDb21ib2NoYXJ0Q29tcG9uZW50IH0gZnJvbSAnLi9jb21ib2NoYXJ0L2NvbWJvY2hhcnQuY29tcG9uZW50JztcbmltcG9ydCB7IEhpc3RvZ3JhbUNvbXBvbmVudCB9IGZyb20gJy4vaGlzdG9ncmFtL2hpc3RvZ3JhbS5jb21wb25lbnQnO1xuaW1wb3J0IHsgTXVsdGlhcmVhQ29tcG9uZW50IH0gZnJvbSAnLi9tdWx0aWFyZWEvbXVsdGlhcmVhLmNvbXBvbmVudCc7XG5pbXBvcnQgeyBTY2F0dGVyY2hhcnRDb21wb25lbnQgfSBmcm9tICcuL3NjYXR0ZXJjaGFydC9zY2F0dGVyY2hhcnQuY29tcG9uZW50JztcbmltcG9ydCB7IENhbmRsZXN0aWNrQ29tcG9uZW50IH0gZnJvbSAnLi9jYW5kbGVzdGljay9jYW5kbGVzdGljay5jb21wb25lbnQnO1xuaW1wb3J0e0J1YmJsZUNvbXBvbmVudH0gZnJvbSAnLi9idWJibGUvYnViYmxlL2J1YmJsZS5jb21wb25lbnQnO1xuZXhwb3J0IGNvbnN0IEQzX0NPTVBPTkVOVFMgOiBhbnlbXSA9IFtcbiAgQW1leGlvRDNMZWdlbmQsXG4gIEFtZXhpb0QzRG91bnV0Q2hhcnRDb21wb25lbnQsXG4gIEFtZXhpb0QzQmFyQ2hhcnRDb21wb25lbnQsXG4gIEFtZXhpb0QzUGllQ2hhcnRDb21wb25lbnQsXG4gIEFtZXhpb0QzTGluZUNvbXBvbmVudCxcbiAgQmFyc3RhY2tDb21wb25lbnQsXG4gIEdyb3VwYmFyQ29tcG9uZW50LFxuICBDb21ib2NoYXJ0Q29tcG9uZW50LFxuICBEcmlsbGFibGVDb21wb25lbnQsXG4gIEhpc3RvZ3JhbUNvbXBvbmVudCxcbiAgTXVsdGlhcmVhQ29tcG9uZW50LFxuICBTY2F0dGVyY2hhcnRDb21wb25lbnQsXG4gIENhbmRsZXN0aWNrQ29tcG9uZW50LFxuICBCdWJibGVDb21wb25lbnRcbl1cbiIsImltcG9ydCB7IE5nTW9kdWxlIH0gZnJvbSAnQGFuZ3VsYXIvY29yZSc7XG5pbXBvcnQgeyBEM19DT01QT05FTlRTIH0gZnJvbSAnLi9hbWV4aW8tY2hhcnQtZDMtY29tcG9uZW50cyc7XG5pbXBvcnQge0Zvcm1zTW9kdWxlfSBmcm9tICdAYW5ndWxhci9mb3Jtcyc7XG5pbXBvcnQgeyAgQ29tbW9uTW9kdWxlIH0gZnJvbSAnQGFuZ3VsYXIvY29tbW9uJztcbmltcG9ydHtEZXZpY2VRdWVyeVNlcnZpY2V9IGZyb20gJy4vc2VydmljZXMvZGV2aWNlLnF1ZXJ5LnNlcnZpY2UnXG5cbkBOZ01vZHVsZSh7XG4gIGltcG9ydHM6IFtcbiAgICBGb3Jtc01vZHVsZSxcbiAgICBDb21tb25Nb2R1bGUgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgICAgXG4gIF0sXG4gXG4gIGRlY2xhcmF0aW9uczogRDNfQ09NUE9ORU5UUyxcbiAgcHJvdmlkZXJzOiBbRGV2aWNlUXVlcnlTZXJ2aWNlXSxcbiAgZXhwb3J0czogRDNfQ09NUE9ORU5UU1xufSlcbmV4cG9ydCBjbGFzcyBBbWV4aW9DaGFydEQzTW9kdWxlIHsgfVxuICAgICAgICAgICAgICAgIl0sIm5hbWVzIjpbInRzbGliXzEuX192YWx1ZXMiLCJkMyIsInRzbGliXzEuX19leHRlbmRzIiwiYXJjIiwiZDMuYXJjIiwicGllIiwiZDMucGllIiwiZDMuc2VsZWN0IiwiZDMuZXZlbnQiLCJkMy5zY2FsZUJhbmQiLCJkMy5zY2FsZUxpbmVhciIsImQzLm1heCIsImQzLmF4aXNCb3R0b20iLCJkMy5heGlzTGVmdCIsImxpbmUiLCJkMy5saW5lIiwiZDMuc3RhY2siLCJkMy5zdGFja09mZnNldERpdmVyZ2luZyIsImQzLm1pbiIsImQzLnNjYWxlUG9pbnQiLCJkMy5zY2FsZU9yZGluYWwiLCJk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